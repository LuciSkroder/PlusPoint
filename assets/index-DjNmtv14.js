(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var _h={exports:{}},Ia={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function ZC(){if(Cy)return Ia;Cy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Ia.Fragment=e,Ia.jsx=i,Ia.jsxs=i,Ia}var Ty;function JC(){return Ty||(Ty=1,_h.exports=ZC()),_h.exports}var S=JC(),yh={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function eT(){if(wy)return te;wy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),v=Symbol.iterator;function R(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function H(T,z,G){this.props=T,this.context=z,this.refs=j,this.updater=G||O}H.prototype.isReactComponent={},H.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},H.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function B(){}B.prototype=H.prototype;function K(T,z,G){this.props=T,this.context=z,this.refs=j,this.updater=G||O}var ae=K.prototype=new B;ae.constructor=K,P(ae,H.prototype),ae.isPureReactComponent=!0;var ge=Array.isArray;function Le(){}var ee={H:null,A:null,T:null,S:null},Ie=Object.prototype.hasOwnProperty;function Ue(T,z,G){var Y=G.ref;return{$$typeof:s,type:T,key:z,ref:Y!==void 0?Y:null,props:G}}function gt(T,z){return Ue(T.type,z,T.props)}function Et(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function _t(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(G){return z[G]})}var Nn=/\/+/g;function re(T,z){return typeof T=="object"&&T!==null&&T.key!=null?_t(""+T.key):z.toString(36)}function We(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Le,Le):(T.status="pending",T.then(function(z){T.status==="pending"&&(T.status="fulfilled",T.value=z)},function(z){T.status==="pending"&&(T.status="rejected",T.reason=z)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function M(T,z,G,Y,ne){var ce=typeof T;(ce==="undefined"||ce==="boolean")&&(T=null);var be=!1;if(T===null)be=!0;else switch(ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(T.$$typeof){case s:case e:be=!0;break;case _:return be=T._init,M(be(T._payload),z,G,Y,ne)}}if(be)return ne=ne(T),be=Y===""?"."+re(T,0):Y,ge(ne)?(G="",be!=null&&(G=be.replace(Nn,"$&/")+"/"),M(ne,z,G,"",function(jr){return jr})):ne!=null&&(Et(ne)&&(ne=gt(ne,G+(ne.key==null||T&&T.key===ne.key?"":(""+ne.key).replace(Nn,"$&/")+"/")+be)),z.push(ne)),1;be=0;var St=Y===""?".":Y+":";if(ge(T))for(var Qe=0;Qe<T.length;Qe++)Y=T[Qe],ce=St+re(Y,Qe),be+=M(Y,z,G,ce,ne);else if(Qe=R(T),typeof Qe=="function")for(T=Qe.call(T),Qe=0;!(Y=T.next()).done;)Y=Y.value,ce=St+re(Y,Qe++),be+=M(Y,z,G,ce,ne);else if(ce==="object"){if(typeof T.then=="function")return M(We(T),z,G,Y,ne);throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return be}function V(T,z,G){if(T==null)return T;var Y=[],ne=0;return M(T,Y,"","",function(ce){return z.call(G,ce,ne++)}),Y}function W(T){if(T._status===-1){var z=T._result;z=z(),z.then(function(G){(T._status===0||T._status===-1)&&(T._status=1,T._result=G)},function(G){(T._status===0||T._status===-1)&&(T._status=2,T._result=G)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var Se=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Oe={map:V,forEach:function(T,z,G){V(T,function(){z.apply(this,arguments)},G)},count:function(T){var z=0;return V(T,function(){z++}),z},toArray:function(T){return V(T,function(z){return z})||[]},only:function(T){if(!Et(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return te.Activity=E,te.Children=Oe,te.Component=H,te.Fragment=i,te.Profiler=o,te.PureComponent=K,te.StrictMode=a,te.Suspense=m,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,te.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ee.H.useMemoCache(T)}},te.cache=function(T){return function(){return T.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(T,z,G){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Y=P({},T.props),ne=T.key;if(z!=null)for(ce in z.key!==void 0&&(ne=""+z.key),z)!Ie.call(z,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&z.ref===void 0||(Y[ce]=z[ce]);var ce=arguments.length-2;if(ce===1)Y.children=G;else if(1<ce){for(var be=Array(ce),St=0;St<ce;St++)be[St]=arguments[St+2];Y.children=be}return Ue(T.type,ne,Y)},te.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},te.createElement=function(T,z,G){var Y,ne={},ce=null;if(z!=null)for(Y in z.key!==void 0&&(ce=""+z.key),z)Ie.call(z,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ne[Y]=z[Y]);var be=arguments.length-2;if(be===1)ne.children=G;else if(1<be){for(var St=Array(be),Qe=0;Qe<be;Qe++)St[Qe]=arguments[Qe+2];ne.children=St}if(T&&T.defaultProps)for(Y in be=T.defaultProps,be)ne[Y]===void 0&&(ne[Y]=be[Y]);return Ue(T,ce,ne)},te.createRef=function(){return{current:null}},te.forwardRef=function(T){return{$$typeof:d,render:T}},te.isValidElement=Et,te.lazy=function(T){return{$$typeof:_,_payload:{_status:-1,_result:T},_init:W}},te.memo=function(T,z){return{$$typeof:p,type:T,compare:z===void 0?null:z}},te.startTransition=function(T){var z=ee.T,G={};ee.T=G;try{var Y=T(),ne=ee.S;ne!==null&&ne(G,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Le,Se)}catch(ce){Se(ce)}finally{z!==null&&G.types!==null&&(z.types=G.types),ee.T=z}},te.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},te.use=function(T){return ee.H.use(T)},te.useActionState=function(T,z,G){return ee.H.useActionState(T,z,G)},te.useCallback=function(T,z){return ee.H.useCallback(T,z)},te.useContext=function(T){return ee.H.useContext(T)},te.useDebugValue=function(){},te.useDeferredValue=function(T,z){return ee.H.useDeferredValue(T,z)},te.useEffect=function(T,z){return ee.H.useEffect(T,z)},te.useEffectEvent=function(T){return ee.H.useEffectEvent(T)},te.useId=function(){return ee.H.useId()},te.useImperativeHandle=function(T,z,G){return ee.H.useImperativeHandle(T,z,G)},te.useInsertionEffect=function(T,z){return ee.H.useInsertionEffect(T,z)},te.useLayoutEffect=function(T,z){return ee.H.useLayoutEffect(T,z)},te.useMemo=function(T,z){return ee.H.useMemo(T,z)},te.useOptimistic=function(T,z){return ee.H.useOptimistic(T,z)},te.useReducer=function(T,z,G){return ee.H.useReducer(T,z,G)},te.useRef=function(T){return ee.H.useRef(T)},te.useState=function(T){return ee.H.useState(T)},te.useSyncExternalStore=function(T,z,G){return ee.H.useSyncExternalStore(T,z,G)},te.useTransition=function(){return ee.H.useTransition()},te.version="19.2.0",te}var Ay;function fd(){return Ay||(Ay=1,yh.exports=eT()),yh.exports}var w=fd(),vh={exports:{}},Ma={},Eh={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function tT(){return Ry||(Ry=1,(function(s){function e(M,V){var W=M.length;M.push(V);e:for(;0<W;){var Se=W-1>>>1,Oe=M[Se];if(0<o(Oe,V))M[Se]=V,M[W]=Oe,W=Se;else break e}}function i(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var V=M[0],W=M.pop();if(W!==V){M[0]=W;e:for(var Se=0,Oe=M.length,T=Oe>>>1;Se<T;){var z=2*(Se+1)-1,G=M[z],Y=z+1,ne=M[Y];if(0>o(G,W))Y<Oe&&0>o(ne,G)?(M[Se]=ne,M[Y]=W,Se=Y):(M[Se]=G,M[z]=W,Se=z);else if(Y<Oe&&0>o(ne,W))M[Se]=ne,M[Y]=W,Se=Y;else break e}}return V}function o(M,V){var W=M.sortIndex-V.sortIndex;return W!==0?W:M.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();s.unstable_now=function(){return h.now()-d}}var m=[],p=[],_=1,E=null,v=3,R=!1,O=!1,P=!1,j=!1,H=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ae(M){for(var V=i(p);V!==null;){if(V.callback===null)a(p);else if(V.startTime<=M)a(p),V.sortIndex=V.expirationTime,e(m,V);else break;V=i(p)}}function ge(M){if(P=!1,ae(M),!O)if(i(m)!==null)O=!0,Le||(Le=!0,_t());else{var V=i(p);V!==null&&We(ge,V.startTime-M)}}var Le=!1,ee=-1,Ie=5,Ue=-1;function gt(){return j?!0:!(s.unstable_now()-Ue<Ie)}function Et(){if(j=!1,Le){var M=s.unstable_now();Ue=M;var V=!0;try{e:{O=!1,P&&(P=!1,B(ee),ee=-1),R=!0;var W=v;try{t:{for(ae(M),E=i(m);E!==null&&!(E.expirationTime>M&&gt());){var Se=E.callback;if(typeof Se=="function"){E.callback=null,v=E.priorityLevel;var Oe=Se(E.expirationTime<=M);if(M=s.unstable_now(),typeof Oe=="function"){E.callback=Oe,ae(M),V=!0;break t}E===i(m)&&a(m),ae(M)}else a(m);E=i(m)}if(E!==null)V=!0;else{var T=i(p);T!==null&&We(ge,T.startTime-M),V=!1}}break e}finally{E=null,v=W,R=!1}V=void 0}}finally{V?_t():Le=!1}}}var _t;if(typeof K=="function")_t=function(){K(Et)};else if(typeof MessageChannel<"u"){var Nn=new MessageChannel,re=Nn.port2;Nn.port1.onmessage=Et,_t=function(){re.postMessage(null)}}else _t=function(){H(Et,0)};function We(M,V){ee=H(function(){M(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(M){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var W=v;v=V;try{return M()}finally{v=W}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=v;v=M;try{return V()}finally{v=W}},s.unstable_scheduleCallback=function(M,V,W){var Se=s.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Se+W:Se):W=Se,M){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=W+Oe,M={id:_++,callback:V,priorityLevel:M,startTime:W,expirationTime:Oe,sortIndex:-1},W>Se?(M.sortIndex=W,e(p,M),i(m)===null&&M===i(p)&&(P?(B(ee),ee=-1):P=!0,We(ge,W-Se))):(M.sortIndex=Oe,e(m,M),O||R||(O=!0,Le||(Le=!0,_t()))),M},s.unstable_shouldYield=gt,s.unstable_wrapCallback=function(M){var V=v;return function(){var W=v;v=V;try{return M.apply(this,arguments)}finally{v=W}}}})(Sh)),Sh}var Ny;function nT(){return Ny||(Ny=1,Eh.exports=tT()),Eh.exports}var bh={exports:{}},yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function iT(){if(xy)return yt;xy=1;var s=fd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:p,implementation:_}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yt.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,_)},yt.flushSync=function(m){var p=h.T,_=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=p,a.p=_,a.d.f()}},yt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},yt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},yt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,E=d(_,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:v,fetchPriority:R}):_==="script"&&a.d.X(m,{crossOrigin:E,integrity:v,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},yt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,E=d(_,p.crossOrigin);a.d.L(m,_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yt.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},yt.requestFormReset=function(m){a.d.r(m)},yt.unstable_batchedUpdates=function(m,p){return m(p)},yt.useFormState=function(m,p,_){return h.H.useFormState(m,p,_)},yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},yt.version="19.2.0",yt}var Oy;function sT(){if(Oy)return bh.exports;Oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),bh.exports=iT(),bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function rT(){if(Dy)return Ma;Dy=1;var s=nT(),e=fd(),i=sT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return m(c),t;if(f===l)return m(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var g=!1,y=c.child;y;){if(y===r){g=!0,r=c,l=f;break}if(y===l){g=!0,l=c,r=f;break}y=y.sibling}if(!g){for(y=f.child;y;){if(y===r){g=!0,r=f,l=c;break}if(y===l){g=!0,l=f,r=c;break}y=y.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,v=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Ue=Symbol.for("react.activity"),gt=Symbol.for("react.memo_cache_sentinel"),Et=Symbol.iterator;function _t(t){return t===null||typeof t!="object"?null:(t=Et&&t[Et]||t["@@iterator"],typeof t=="function"?t:null)}var Nn=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Nn?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case H:return"Profiler";case j:return"StrictMode";case ge:return"Suspense";case Le:return"SuspenseList";case Ue:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case K:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return n=t.displayName||null,n!==null?n:re(t.type)||"Memo";case Ie:n=t._payload,t=t._init;try{return re(t(n))}catch{}}return null}var We=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Se=[],Oe=-1;function T(t){return{current:t}}function z(t){0>Oe||(t.current=Se[Oe],Se[Oe]=null,Oe--)}function G(t,n){Oe++,Se[Oe]=t.current,t.current=n}var Y=T(null),ne=T(null),ce=T(null),be=T(null);function St(t,n){switch(G(ce,n),G(ne,t),G(Y,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Y_(n),t=Q_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(Y),G(Y,t)}function Qe(){z(Y),z(ne),z(ce)}function jr(t){t.memoizedState!==null&&G(be,t);var n=Y.current,r=Q_(n,t.type);n!==r&&(G(ne,t),G(Y,r))}function Rl(t){ne.current===t&&(z(Y),z(ne)),be.current===t&&(z(be),Na._currentValue=W)}var Zu,bp;function Xi(t){if(Zu===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Zu=n&&n[1]||"",bp=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zu+t+bp}var Ju=!1;function ec(t,n){if(!t||Ju)return"";Ju=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(I){var D=I}Reflect.construct(t,[],U)}else{try{U.call()}catch(I){D=I}t.call(U.prototype)}}else{try{throw Error()}catch(I){D=I}(U=t())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(I){if(I&&D&&typeof I.stack=="string")return[I.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],y=f[1];if(g&&y){var b=g.split(`
`),x=y.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===x.length)for(l=b.length-1,c=x.length-1;1<=l&&0<=c&&b[l]!==x[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==x[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==x[c]){var k=`
`+b[l].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=l&&0<=c);break}}}finally{Ju=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Xi(r):""}function xb(t,n){switch(t.tag){case 26:case 27:case 5:return Xi(t.type);case 16:return Xi("Lazy");case 13:return t.child!==n&&n!==null?Xi("Suspense Fallback"):Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return ec(t.type,!1);case 11:return ec(t.type.render,!1);case 1:return ec(t.type,!0);case 31:return Xi("Activity");default:return""}}function Cp(t){try{var n="",r=null;do n+=xb(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tc=Object.prototype.hasOwnProperty,nc=s.unstable_scheduleCallback,ic=s.unstable_cancelCallback,Ob=s.unstable_shouldYield,Db=s.unstable_requestPaint,Lt=s.unstable_now,Ib=s.unstable_getCurrentPriorityLevel,Tp=s.unstable_ImmediatePriority,wp=s.unstable_UserBlockingPriority,Nl=s.unstable_NormalPriority,Mb=s.unstable_LowPriority,Ap=s.unstable_IdlePriority,kb=s.log,Lb=s.unstable_setDisableYieldValue,Hr=null,Ut=null;function ai(t){if(typeof kb=="function"&&Lb(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Hr,t)}catch{}}var zt=Math.clz32?Math.clz32:Pb,Ub=Math.log,zb=Math.LN2;function Pb(t){return t>>>=0,t===0?32:31-(Ub(t)/zb|0)|0}var xl=256,Ol=262144,Dl=4194304;function Wi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Il(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var y=l&134217727;return y!==0?(l=y&~f,l!==0?c=Wi(l):(g&=y,g!==0?c=Wi(g):r||(r=y&~t,r!==0&&(c=Wi(r))))):(y=l&~f,y!==0?c=Wi(y):g!==0?c=Wi(g):r||(r=l&~t,r!==0&&(c=Wi(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Br(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jb(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rp(){var t=Dl;return Dl<<=1,(Dl&62914560)===0&&(Dl=4194304),t}function sc(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function qr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hb(t,n,r,l,c,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var y=t.entanglements,b=t.expirationTimes,x=t.hiddenUpdates;for(r=g&~r;0<r;){var k=31-zt(r),U=1<<k;y[k]=0,b[k]=-1;var D=x[k];if(D!==null)for(x[k]=null,k=0;k<D.length;k++){var I=D[k];I!==null&&(I.lane&=-536870913)}r&=~U}l!==0&&Np(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Np(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-zt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function xp(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-zt(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Op(t,n){var r=n&-n;return r=(r&42)!==0?1:rc(r),(r&(t.suspendedLanes|n))!==0?0:r}function rc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ac(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Dp(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:gy(t.type))}function Ip(t,n){var r=V.p;try{return V.p=t,n()}finally{V.p=r}}var li=Math.random().toString(36).slice(2),ut="__reactFiber$"+li,At="__reactProps$"+li,xs="__reactContainer$"+li,lc="__reactEvents$"+li,Bb="__reactListeners$"+li,qb="__reactHandles$"+li,Mp="__reactResources$"+li,Vr="__reactMarker$"+li;function oc(t){delete t[ut],delete t[At],delete t[lc],delete t[Bb],delete t[qb]}function Os(t){var n=t[ut];if(n)return n;for(var r=t.parentNode;r;){if(n=r[xs]||r[ut]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ey(t);t!==null;){if(r=t[ut])return r;t=ey(t)}return n}t=r,r=t.parentNode}return null}function Ds(t){if(t=t[ut]||t[xs]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Gr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Is(t){var n=t[Mp];return n||(n=t[Mp]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function rt(t){t[Vr]=!0}var kp=new Set,Lp={};function $i(t,n){Ms(t,n),Ms(t+"Capture",n)}function Ms(t,n){for(Lp[t]=n,t=0;t<n.length;t++)kp.add(n[t])}var Vb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Up={},zp={};function Gb(t){return tc.call(zp,t)?!0:tc.call(Up,t)?!1:Vb.test(t)?zp[t]=!0:(Up[t]=!0,!1)}function Ml(t,n,r){if(Gb(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kl(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pp(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fb(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function uc(t){if(!t._valueTracker){var n=Pp(t)?"checked":"value";t._valueTracker=Fb(t,n,""+t[n])}}function jp(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Pp(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yb=/[\n"\\]/g;function Qt(t){return t.replace(Yb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cc(t,n,r,l,c,f,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Yt(n)):t.value!==""+Yt(n)&&(t.value=""+Yt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?fc(t,g,Yt(n)):r!=null?fc(t,g,Yt(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+Yt(y):t.removeAttribute("name")}function Hp(t,n,r,l,c,f,g,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){uc(t);return}r=r!=null?""+Yt(r):"",n=n!=null?""+Yt(n):r,y||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=y?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),uc(t)}function fc(t,n,r){n==="number"&&Ll(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ks(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Yt(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Bp(t,n,r){if(n!=null&&(n=""+Yt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Yt(r):""}function qp(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(We(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Yt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),uc(t)}function Ls(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Qb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vp(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Qb.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Gp(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Vp(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Vp(t,f,n[f])}function hc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ul(t){return Xb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function On(){}var dc=null;function pc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Us=null,zs=null;function Fp(t){var n=Ds(t);if(n&&(t=n.stateNode)){var r=t[At]||null;e:switch(t=n.stateNode,n.type){case"input":if(cc(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Qt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[At]||null;if(!c)throw Error(a(90));cc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&jp(l)}break e;case"textarea":Bp(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ks(t,!!r.multiple,n,!1)}}}var mc=!1;function Yp(t,n,r){if(mc)return t(n,r);mc=!0;try{var l=t(n);return l}finally{if(mc=!1,(Us!==null||zs!==null)&&(To(),Us&&(n=Us,t=zs,zs=Us=null,Fp(n),t)))for(n=0;n<t.length;n++)Fp(t[n])}}function Fr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[At]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gc=!1;if(Dn)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){gc=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{gc=!1}var oi=null,_c=null,zl=null;function Qp(){if(zl)return zl;var t,n=_c,r=n.length,l,c="value"in oi?oi.value:oi.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===c[f-l];l++);return zl=c.slice(t,1<l?1-l:void 0)}function Pl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jl(){return!0}function Kp(){return!1}function Rt(t){function n(r,l,c,f,g){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(r=t[y],this[y]=r?r(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jl:Kp,this.isPropagationStopped=Kp,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=Rt(Zi),Qr=E({},Zi,{view:0,detail:0}),Wb=Rt(Qr),yc,vc,Kr,Bl=E({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kr&&(Kr&&t.type==="mousemove"?(yc=t.screenX-Kr.screenX,vc=t.screenY-Kr.screenY):vc=yc=0,Kr=t),yc)},movementY:function(t){return"movementY"in t?t.movementY:vc}}),Xp=Rt(Bl),$b=E({},Bl,{dataTransfer:0}),Zb=Rt($b),Jb=E({},Qr,{relatedTarget:0}),Ec=Rt(Jb),e0=E({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),t0=Rt(e0),n0=E({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i0=Rt(n0),s0=E({},Zi,{data:0}),Wp=Rt(s0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=l0[t])?!!n[t]:!1}function Sc(){return o0}var u0=E({},Qr,{key:function(t){if(t.key){var n=r0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sc,charCode:function(t){return t.type==="keypress"?Pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c0=Rt(u0),f0=E({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$p=Rt(f0),h0=E({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sc}),d0=Rt(h0),p0=E({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),m0=Rt(p0),g0=E({},Bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_0=Rt(g0),y0=E({},Zi,{newState:0,oldState:0}),v0=Rt(y0),E0=[9,13,27,32],bc=Dn&&"CompositionEvent"in window,Xr=null;Dn&&"documentMode"in document&&(Xr=document.documentMode);var S0=Dn&&"TextEvent"in window&&!Xr,Zp=Dn&&(!bc||Xr&&8<Xr&&11>=Xr),Jp=" ",em=!1;function tm(t,n){switch(t){case"keyup":return E0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function b0(t,n){switch(t){case"compositionend":return nm(n);case"keypress":return n.which!==32?null:(em=!0,Jp);case"textInput":return t=n.data,t===Jp&&em?null:t;default:return null}}function C0(t,n){if(Ps)return t==="compositionend"||!bc&&tm(t,n)?(t=Qp(),zl=_c=oi=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Zp&&n.locale!=="ko"?null:n.data;default:return null}}var T0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!T0[t.type]:n==="textarea"}function sm(t,n,r,l){Us?zs?zs.push(l):zs=[l]:Us=l,n=Do(n,"onChange"),0<n.length&&(r=new Hl("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Wr=null,$r=null;function w0(t){H_(t,0)}function ql(t){var n=Gr(t);if(jp(n))return t}function rm(t,n){if(t==="change")return n}var am=!1;if(Dn){var Cc;if(Dn){var Tc="oninput"in document;if(!Tc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Tc=typeof lm.oninput=="function"}Cc=Tc}else Cc=!1;am=Cc&&(!document.documentMode||9<document.documentMode)}function om(){Wr&&(Wr.detachEvent("onpropertychange",um),$r=Wr=null)}function um(t){if(t.propertyName==="value"&&ql($r)){var n=[];sm(n,$r,t,pc(t)),Yp(w0,n)}}function A0(t,n,r){t==="focusin"?(om(),Wr=n,$r=r,Wr.attachEvent("onpropertychange",um)):t==="focusout"&&om()}function R0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ql($r)}function N0(t,n){if(t==="click")return ql(n)}function x0(t,n){if(t==="input"||t==="change")return ql(n)}function O0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Pt=typeof Object.is=="function"?Object.is:O0;function Zr(t,n){if(Pt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!tc.call(n,c)||!Pt(t[c],n[c]))return!1}return!0}function cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fm(t,n){var r=cm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cm(r)}}function hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ll(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ll(t.document)}return n}function wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var D0=Dn&&"documentMode"in document&&11>=document.documentMode,js=null,Ac=null,Jr=null,Rc=!1;function pm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rc||js==null||js!==Ll(l)||(l=js,"selectionStart"in l&&wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jr&&Zr(Jr,l)||(Jr=l,l=Do(Ac,"onSelect"),0<l.length&&(n=new Hl("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=js)))}function Ji(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Hs={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Nc={},mm={};Dn&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function es(t){if(Nc[t])return Nc[t];if(!Hs[t])return t;var n=Hs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in mm)return Nc[t]=n[r];return t}var gm=es("animationend"),_m=es("animationiteration"),ym=es("animationstart"),I0=es("transitionrun"),M0=es("transitionstart"),k0=es("transitioncancel"),vm=es("transitionend"),Em=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function rn(t,n){Em.set(t,n),$i(n,[t])}var Vl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kt=[],Bs=0,Oc=0;function Gl(){for(var t=Bs,n=Oc=Bs=0;n<t;){var r=Kt[n];Kt[n++]=null;var l=Kt[n];Kt[n++]=null;var c=Kt[n];Kt[n++]=null;var f=Kt[n];if(Kt[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Sm(r,c,f)}}function Fl(t,n,r,l){Kt[Bs++]=t,Kt[Bs++]=n,Kt[Bs++]=r,Kt[Bs++]=l,Oc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Dc(t,n,r,l){return Fl(t,n,r,l),Yl(t)}function ts(t,n){return Fl(t,null,null,n),Yl(t)}function Sm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-zt(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Yl(t){if(50<Sa)throw Sa=0,Bf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qs={};function L0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,n,r,l){return new L0(t,n,r,l)}function Ic(t){return t=t.prototype,!(!t||!t.isReactComponent)}function In(t,n){var r=t.alternate;return r===null?(r=jt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function bm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ql(t,n,r,l,c,f){var g=0;if(l=t,typeof t=="function")Ic(t)&&(g=1);else if(typeof t=="string")g=HC(t,r,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ue:return t=jt(31,r,n,c),t.elementType=Ue,t.lanes=f,t;case P:return ns(r.children,c,f,n);case j:g=8,c|=24;break;case H:return t=jt(12,r,n,c|2),t.elementType=H,t.lanes=f,t;case ge:return t=jt(13,r,n,c),t.elementType=ge,t.lanes=f,t;case Le:return t=jt(19,r,n,c),t.elementType=Le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:g=10;break e;case B:g=9;break e;case ae:g=11;break e;case ee:g=14;break e;case Ie:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=jt(g,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ns(t,n,r,l){return t=jt(7,t,l,n),t.lanes=r,t}function Mc(t,n,r){return t=jt(6,t,null,n),t.lanes=r,t}function Cm(t){var n=jt(18,null,null,0);return n.stateNode=t,n}function kc(t,n,r){return n=jt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Tm=new WeakMap;function Xt(t,n){if(typeof t=="object"&&t!==null){var r=Tm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Cp(n)},Tm.set(t,n),n)}return{value:t,source:n,stack:Cp(n)}}var Vs=[],Gs=0,Kl=null,ea=0,Wt=[],$t=0,ui=null,gn=1,_n="";function Mn(t,n){Vs[Gs++]=ea,Vs[Gs++]=Kl,Kl=t,ea=n}function wm(t,n,r){Wt[$t++]=gn,Wt[$t++]=_n,Wt[$t++]=ui,ui=t;var l=gn;t=_n;var c=32-zt(l)-1;l&=~(1<<c),r+=1;var f=32-zt(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,gn=1<<32-zt(n)+c|r<<c|l,_n=f+t}else gn=1<<f|r<<c|l,_n=t}function Lc(t){t.return!==null&&(Mn(t,1),wm(t,1,0))}function Uc(t){for(;t===Kl;)Kl=Vs[--Gs],Vs[Gs]=null,ea=Vs[--Gs],Vs[Gs]=null;for(;t===ui;)ui=Wt[--$t],Wt[$t]=null,_n=Wt[--$t],Wt[$t]=null,gn=Wt[--$t],Wt[$t]=null}function Am(t,n){Wt[$t++]=gn,Wt[$t++]=_n,Wt[$t++]=ui,gn=n.id,_n=n.overflow,ui=t}var ct=null,ze=null,me=!1,ci=null,Zt=!1,zc=Error(a(519));function fi(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ta(Xt(n,t)),zc}function Rm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ut]=t,n[At]=l,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(r=0;r<Ca.length;r++)he(Ca[r],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":he("invalid",n),Hp(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":he("invalid",n);break;case"textarea":he("invalid",n),qp(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||G_(n.textContent,r)?(l.popover!=null&&(he("beforetoggle",n),he("toggle",n)),l.onScroll!=null&&he("scroll",n),l.onScrollEnd!=null&&he("scrollend",n),l.onClick!=null&&(n.onclick=On),n=!0):n=!1,n||fi(t,!0)}function Nm(t){for(ct=t.return;ct;)switch(ct.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ct=ct.return}}function Fs(t){if(t!==ct)return!1;if(!me)return Nm(t),me=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||nh(t.type,t.memoizedProps)),r=!r),r&&ze&&fi(t),Nm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ze=J_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ze=J_(t)}else n===27?(n=ze,wi(t.type)?(t=lh,lh=null,ze=t):ze=n):ze=ct?en(t.stateNode.nextSibling):null;return!0}function is(){ze=ct=null,me=!1}function Pc(){var t=ci;return t!==null&&(Dt===null?Dt=t:Dt.push.apply(Dt,t),ci=null),t}function ta(t){ci===null?ci=[t]:ci.push(t)}var jc=T(null),ss=null,kn=null;function hi(t,n,r){G(jc,n._currentValue),n._currentValue=r}function Ln(t){t._currentValue=jc.current,z(jc)}function Hc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Bc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;e:for(;f!==null;){var y=f;f=c;for(var b=0;b<n.length;b++)if(y.context===n[b]){f.lanes|=r,y=f.alternate,y!==null&&(y.lanes|=r),Hc(f.return,r,t),l||(g=null);break e}f=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Hc(g,r,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ys(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var y=c.type;Pt(c.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(c===be.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Na):t=[Na])}c=c.return}t!==null&&Bc(n,t,r,l),n.flags|=262144}function Xl(t){for(t=t.firstContext;t!==null;){if(!Pt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ss=t,kn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ft(t){return xm(ss,t)}function Wl(t,n){return ss===null&&rs(t),xm(t,n)}function xm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},kn===null){if(t===null)throw Error(a(308));kn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else kn=kn.next=n;return r}var U0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},z0=s.unstable_scheduleCallback,P0=s.unstable_NormalPriority,$e={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new U0,data:new Map,refCount:0}}function na(t){t.refCount--,t.refCount===0&&z0(P0,function(){t.controller.abort()})}var ia=null,Vc=0,Qs=0,Ks=null;function j0(t,n){if(ia===null){var r=ia=[];Vc=0,Qs=Qf(),Ks={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Vc++,n.then(Om,Om),n}function Om(){if(--Vc===0&&ia!==null){Ks!==null&&(Ks.status="fulfilled");var t=ia;ia=null,Qs=0,Ks=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function H0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Dm=M.S;M.S=function(t,n){p_=Lt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&j0(t,n),Dm!==null&&Dm(t,n)};var as=T(null);function Gc(){var t=as.current;return t!==null?t:De.pooledCache}function $l(t,n){n===null?G(as,as.current):G(as,n.pool)}function Im(){var t=Gc();return t===null?null:{parent:$e._currentValue,pool:t}}var Xs=Error(a(460)),Fc=Error(a(474)),Zl=Error(a(542)),Jl={then:function(){}};function Mm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function km(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(On,On),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t;default:if(typeof n.status=="string")n.then(On,On);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t}throw os=n,Xs}}function ls(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(os=r,Xs):r}}var os=null;function Lm(){if(os===null)throw Error(a(459));var t=os;return os=null,t}function Um(t){if(t===Xs||t===Zl)throw Error(a(483))}var Ws=null,sa=0;function eo(t){var n=sa;return sa+=1,Ws===null&&(Ws=[]),km(Ws,t,n)}function ra(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function to(t,n){throw n.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zm(t){function n(A,C){if(t){var N=A.deletions;N===null?(A.deletions=[C],A.flags|=16):N.push(C)}}function r(A,C){if(!t)return null;for(;C!==null;)n(A,C),C=C.sibling;return null}function l(A){for(var C=new Map;A!==null;)A.key!==null?C.set(A.key,A):C.set(A.index,A),A=A.sibling;return C}function c(A,C){return A=In(A,C),A.index=0,A.sibling=null,A}function f(A,C,N){return A.index=N,t?(N=A.alternate,N!==null?(N=N.index,N<C?(A.flags|=67108866,C):N):(A.flags|=67108866,C)):(A.flags|=1048576,C)}function g(A){return t&&A.alternate===null&&(A.flags|=67108866),A}function y(A,C,N,L){return C===null||C.tag!==6?(C=Mc(N,A.mode,L),C.return=A,C):(C=c(C,N),C.return=A,C)}function b(A,C,N,L){var X=N.type;return X===P?k(A,C,N.props.children,L,N.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ie&&ls(X)===C.type)?(C=c(C,N.props),ra(C,N),C.return=A,C):(C=Ql(N.type,N.key,N.props,null,A.mode,L),ra(C,N),C.return=A,C)}function x(A,C,N,L){return C===null||C.tag!==4||C.stateNode.containerInfo!==N.containerInfo||C.stateNode.implementation!==N.implementation?(C=kc(N,A.mode,L),C.return=A,C):(C=c(C,N.children||[]),C.return=A,C)}function k(A,C,N,L,X){return C===null||C.tag!==7?(C=ns(N,A.mode,L,X),C.return=A,C):(C=c(C,N),C.return=A,C)}function U(A,C,N){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Mc(""+C,A.mode,N),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case R:return N=Ql(C.type,C.key,C.props,null,A.mode,N),ra(N,C),N.return=A,N;case O:return C=kc(C,A.mode,N),C.return=A,C;case Ie:return C=ls(C),U(A,C,N)}if(We(C)||_t(C))return C=ns(C,A.mode,N,null),C.return=A,C;if(typeof C.then=="function")return U(A,eo(C),N);if(C.$$typeof===K)return U(A,Wl(A,C),N);to(A,C)}return null}function D(A,C,N,L){var X=C!==null?C.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return X!==null?null:y(A,C,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case R:return N.key===X?b(A,C,N,L):null;case O:return N.key===X?x(A,C,N,L):null;case Ie:return N=ls(N),D(A,C,N,L)}if(We(N)||_t(N))return X!==null?null:k(A,C,N,L,null);if(typeof N.then=="function")return D(A,C,eo(N),L);if(N.$$typeof===K)return D(A,C,Wl(A,N),L);to(A,N)}return null}function I(A,C,N,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return A=A.get(N)||null,y(C,A,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return A=A.get(L.key===null?N:L.key)||null,b(C,A,L,X);case O:return A=A.get(L.key===null?N:L.key)||null,x(C,A,L,X);case Ie:return L=ls(L),I(A,C,N,L,X)}if(We(L)||_t(L))return A=A.get(N)||null,k(C,A,L,X,null);if(typeof L.then=="function")return I(A,C,N,eo(L),X);if(L.$$typeof===K)return I(A,C,N,Wl(C,L),X);to(C,L)}return null}function F(A,C,N,L){for(var X=null,_e=null,Q=C,se=C=0,pe=null;Q!==null&&se<N.length;se++){Q.index>se?(pe=Q,Q=null):pe=Q.sibling;var ye=D(A,Q,N[se],L);if(ye===null){Q===null&&(Q=pe);break}t&&Q&&ye.alternate===null&&n(A,Q),C=f(ye,C,se),_e===null?X=ye:_e.sibling=ye,_e=ye,Q=pe}if(se===N.length)return r(A,Q),me&&Mn(A,se),X;if(Q===null){for(;se<N.length;se++)Q=U(A,N[se],L),Q!==null&&(C=f(Q,C,se),_e===null?X=Q:_e.sibling=Q,_e=Q);return me&&Mn(A,se),X}for(Q=l(Q);se<N.length;se++)pe=I(Q,A,se,N[se],L),pe!==null&&(t&&pe.alternate!==null&&Q.delete(pe.key===null?se:pe.key),C=f(pe,C,se),_e===null?X=pe:_e.sibling=pe,_e=pe);return t&&Q.forEach(function(Oi){return n(A,Oi)}),me&&Mn(A,se),X}function $(A,C,N,L){if(N==null)throw Error(a(151));for(var X=null,_e=null,Q=C,se=C=0,pe=null,ye=N.next();Q!==null&&!ye.done;se++,ye=N.next()){Q.index>se?(pe=Q,Q=null):pe=Q.sibling;var Oi=D(A,Q,ye.value,L);if(Oi===null){Q===null&&(Q=pe);break}t&&Q&&Oi.alternate===null&&n(A,Q),C=f(Oi,C,se),_e===null?X=Oi:_e.sibling=Oi,_e=Oi,Q=pe}if(ye.done)return r(A,Q),me&&Mn(A,se),X;if(Q===null){for(;!ye.done;se++,ye=N.next())ye=U(A,ye.value,L),ye!==null&&(C=f(ye,C,se),_e===null?X=ye:_e.sibling=ye,_e=ye);return me&&Mn(A,se),X}for(Q=l(Q);!ye.done;se++,ye=N.next())ye=I(Q,A,se,ye.value,L),ye!==null&&(t&&ye.alternate!==null&&Q.delete(ye.key===null?se:ye.key),C=f(ye,C,se),_e===null?X=ye:_e.sibling=ye,_e=ye);return t&&Q.forEach(function($C){return n(A,$C)}),me&&Mn(A,se),X}function Ne(A,C,N,L){if(typeof N=="object"&&N!==null&&N.type===P&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case R:e:{for(var X=N.key;C!==null;){if(C.key===X){if(X=N.type,X===P){if(C.tag===7){r(A,C.sibling),L=c(C,N.props.children),L.return=A,A=L;break e}}else if(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ie&&ls(X)===C.type){r(A,C.sibling),L=c(C,N.props),ra(L,N),L.return=A,A=L;break e}r(A,C);break}else n(A,C);C=C.sibling}N.type===P?(L=ns(N.props.children,A.mode,L,N.key),L.return=A,A=L):(L=Ql(N.type,N.key,N.props,null,A.mode,L),ra(L,N),L.return=A,A=L)}return g(A);case O:e:{for(X=N.key;C!==null;){if(C.key===X)if(C.tag===4&&C.stateNode.containerInfo===N.containerInfo&&C.stateNode.implementation===N.implementation){r(A,C.sibling),L=c(C,N.children||[]),L.return=A,A=L;break e}else{r(A,C);break}else n(A,C);C=C.sibling}L=kc(N,A.mode,L),L.return=A,A=L}return g(A);case Ie:return N=ls(N),Ne(A,C,N,L)}if(We(N))return F(A,C,N,L);if(_t(N)){if(X=_t(N),typeof X!="function")throw Error(a(150));return N=X.call(N),$(A,C,N,L)}if(typeof N.then=="function")return Ne(A,C,eo(N),L);if(N.$$typeof===K)return Ne(A,C,Wl(A,N),L);to(A,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,C!==null&&C.tag===6?(r(A,C.sibling),L=c(C,N),L.return=A,A=L):(r(A,C),L=Mc(N,A.mode,L),L.return=A,A=L),g(A)):r(A,C)}return function(A,C,N,L){try{sa=0;var X=Ne(A,C,N,L);return Ws=null,X}catch(Q){if(Q===Xs||Q===Zl)throw Q;var _e=jt(29,Q,null,A.mode);return _e.lanes=L,_e.return=A,_e}finally{}}}var us=zm(!0),Pm=zm(!1),di=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Yl(t),Sm(t,null,r),n}return Fl(t,l,n,r),Yl(t)}function aa(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,xp(t,r)}}function Kc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Xc=!1;function la(){if(Xc){var t=Ks;if(t!==null)throw t}}function oa(t,n,r,l){Xc=!1;var c=t.updateQueue;di=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var b=y,x=b.next;b.next=null,g===null?f=x:g.next=x,g=b;var k=t.alternate;k!==null&&(k=k.updateQueue,y=k.lastBaseUpdate,y!==g&&(y===null?k.firstBaseUpdate=x:y.next=x,k.lastBaseUpdate=b))}if(f!==null){var U=c.baseState;g=0,k=x=b=null,y=f;do{var D=y.lane&-536870913,I=D!==y.lane;if(I?(de&D)===D:(l&D)===D){D!==0&&D===Qs&&(Xc=!0),k!==null&&(k=k.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var F=t,$=y;D=n;var Ne=r;switch($.tag){case 1:if(F=$.payload,typeof F=="function"){U=F.call(Ne,U,D);break e}U=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=$.payload,D=typeof F=="function"?F.call(Ne,U,D):F,D==null)break e;U=E({},U,D);break e;case 2:di=!0}}D=y.callback,D!==null&&(t.flags|=64,I&&(t.flags|=8192),I=c.callbacks,I===null?c.callbacks=[D]:I.push(D))}else I={lane:D,tag:y.tag,payload:y.payload,callback:y.callback,next:null},k===null?(x=k=I,b=U):k=k.next=I,g|=D;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;I=y,y=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);k===null&&(b=U),c.baseState=b,c.firstBaseUpdate=x,c.lastBaseUpdate=k,f===null&&(c.shared.lanes=0),Ei|=g,t.lanes=g,t.memoizedState=U}}function jm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Hm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)jm(r[t],n)}var $s=T(null),no=T(0);function Bm(t,n){t=Gn,G(no,t),G($s,n),Gn=t|n.baseLanes}function Wc(){G(no,Gn),G($s,$s.current)}function $c(){Gn=no.current,z($s),z(no)}var Ht=T(null),Jt=null;function gi(t){var n=t.alternate;G(Ke,Ke.current&1),G(Ht,t),Jt===null&&(n===null||$s.current!==null||n.memoizedState!==null)&&(Jt=t)}function Zc(t){G(Ke,Ke.current),G(Ht,t),Jt===null&&(Jt=t)}function qm(t){t.tag===22?(G(Ke,Ke.current),G(Ht,t),Jt===null&&(Jt=t)):_i()}function _i(){G(Ke,Ke.current),G(Ht,Ht.current)}function Bt(t){z(Ht),Jt===t&&(Jt=null),z(Ke)}var Ke=T(0);function io(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||rh(r)||ah(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Un=0,ie=null,Ae=null,Ze=null,so=!1,Zs=!1,cs=!1,ro=0,ua=0,Js=null,B0=0;function Ge(){throw Error(a(321))}function Jc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Pt(t[r],n[r]))return!1;return!0}function ef(t,n,r,l,c,f){return Un=f,ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?wg:gf,cs=!1,f=r(l,c),cs=!1,Zs&&(f=Gm(n,r,l,c)),Vm(t),f}function Vm(t){M.H=ha;var n=Ae!==null&&Ae.next!==null;if(Un=0,Ze=Ae=ie=null,so=!1,ua=0,Js=null,n)throw Error(a(300));t===null||Je||(t=t.dependencies,t!==null&&Xl(t)&&(Je=!0))}function Gm(t,n,r,l){ie=t;var c=0;do{if(Zs&&(Js=null),ua=0,Zs=!1,25<=c)throw Error(a(301));if(c+=1,Ze=Ae=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Ag,f=n(r,l)}while(Zs);return f}function q0(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?ca(n):n,t=t.useState()[0],(Ae!==null?Ae.memoizedState:null)!==t&&(ie.flags|=1024),n}function tf(){var t=ro!==0;return ro=0,t}function nf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function sf(t){if(so){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}so=!1}Un=0,Ze=Ae=ie=null,Zs=!1,ua=ro=0,Js=null}function bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ie.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Xe(){if(Ae===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var n=Ze===null?ie.memoizedState:Ze.next;if(n!==null)Ze=n,Ae=t;else{if(t===null)throw ie.alternate===null?Error(a(467)):Error(a(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ze===null?ie.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function ao(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ca(t){var n=ua;return ua+=1,Js===null&&(Js=[]),t=km(Js,t,n),n=ie,(Ze===null?n.memoizedState:Ze.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?wg:gf),t}function lo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ca(t);if(t.$$typeof===K)return ft(t)}throw Error(a(438,String(t)))}function rf(t){var n=null,r=ie.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ao(),ie.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=gt;return n.index++,r}function zn(t,n){return typeof n=="function"?n(t):n}function oo(t){var n=Xe();return af(n,Ae,t)}function af(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var y=g=null,b=null,x=n,k=!1;do{var U=x.lane&-536870913;if(U!==x.lane?(de&U)===U:(Un&U)===U){var D=x.revertLane;if(D===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),U===Qs&&(k=!0);else if((Un&D)===D){x=x.next,D===Qs&&(k=!0);continue}else U={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(y=b=U,g=f):b=b.next=U,ie.lanes|=D,Ei|=D;U=x.action,cs&&r(f,U),f=x.hasEagerState?x.eagerState:r(f,U)}else D={lane:U,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(y=b=D,g=f):b=b.next=D,ie.lanes|=U,Ei|=U;x=x.next}while(x!==null&&x!==n);if(b===null?g=f:b.next=y,!Pt(f,t.memoizedState)&&(Je=!0,k&&(r=Ks,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function lf(t){var n=Xe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);Pt(f,n.memoizedState)||(Je=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Fm(t,n,r){var l=ie,c=Xe(),f=me;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Pt((Ae||c).memoizedState,r);if(g&&(c.memoizedState=r,Je=!0),c=c.queue,cf(Km.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ze!==null&&Ze.memoizedState.tag&1){if(l.flags|=2048,er(9,{destroy:void 0},Qm.bind(null,l,c,r,n),null),De===null)throw Error(a(349));f||(Un&127)!==0||Ym(l,n,r)}return r}function Ym(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ie.updateQueue,n===null?(n=ao(),ie.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Qm(t,n,r,l){n.value=r,n.getSnapshot=l,Xm(n)&&Wm(t)}function Km(t,n,r){return r(function(){Xm(n)&&Wm(t)})}function Xm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Pt(t,r)}catch{return!0}}function Wm(t){var n=ts(t,2);n!==null&&It(n,t,2)}function of(t){var n=bt();if(typeof t=="function"){var r=t;if(t=r(),cs){ai(!0);try{r()}finally{ai(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},n}function $m(t,n,r,l){return t.baseState=r,af(t,Ae,typeof l=="function"?l:zn)}function V0(t,n,r,l,c){if(fo(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};M.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Zm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Zm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=M.T,g={};M.T=g;try{var y=r(c,l),b=M.S;b!==null&&b(g,y),Jm(t,n,y)}catch(x){uf(t,n,x)}finally{f!==null&&g.types!==null&&(f.types=g.types),M.T=f}}else try{f=r(c,l),Jm(t,n,f)}catch(x){uf(t,n,x)}}function Jm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){eg(t,n,l)},function(l){return uf(t,n,l)}):eg(t,n,r)}function eg(t,n,r){n.status="fulfilled",n.value=r,tg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Zm(t,r)))}function uf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,tg(n),n=n.next;while(n!==l)}t.action=null}function tg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ng(t,n){return n}function ig(t,n){if(me){var r=De.formState;if(r!==null){e:{var l=ie;if(me){if(ze){t:{for(var c=ze,f=Zt;c.nodeType!==8;){if(!f){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ze=en(c.nextSibling),l=c.data==="F!";break e}}fi(l)}l=!1}l&&(n=r[0])}}return r=bt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},r.queue=l,r=bg.bind(null,ie,l),l.dispatch=r,l=of(!1),f=mf.bind(null,ie,!1,l.queue),l=bt(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=V0.bind(null,ie,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function sg(t){var n=Xe();return rg(n,Ae,t)}function rg(t,n,r){if(n=af(t,n,ng)[0],t=oo(zn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ca(n)}catch(g){throw g===Xs?Zl:g}else l=n;n=Xe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(ie.flags|=2048,er(9,{destroy:void 0},G0.bind(null,c,r),null)),[l,f,t]}function G0(t,n){t.action=n}function ag(t){var n=Xe(),r=Ae;if(r!==null)return rg(n,r,t);Xe(),n=n.memoizedState,r=Xe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function er(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=ie.updateQueue,n===null&&(n=ao(),ie.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function lg(){return Xe().memoizedState}function uo(t,n,r,l){var c=bt();ie.flags|=t,c.memoizedState=er(1|n,{destroy:void 0},r,l===void 0?null:l)}function co(t,n,r,l){var c=Xe();l=l===void 0?null:l;var f=c.memoizedState.inst;Ae!==null&&l!==null&&Jc(l,Ae.memoizedState.deps)?c.memoizedState=er(n,f,r,l):(ie.flags|=t,c.memoizedState=er(1|n,f,r,l))}function og(t,n){uo(8390656,8,t,n)}function cf(t,n){co(2048,8,t,n)}function F0(t){ie.flags|=4;var n=ie.updateQueue;if(n===null)n=ao(),ie.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function ug(t){var n=Xe().memoizedState;return F0({ref:n,nextImpl:t}),function(){if((Ee&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cg(t,n){return co(4,2,t,n)}function fg(t,n){return co(4,4,t,n)}function hg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function dg(t,n,r){r=r!=null?r.concat([t]):null,co(4,4,hg.bind(null,n,t),r)}function ff(){}function pg(t,n){var r=Xe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Jc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function mg(t,n){var r=Xe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Jc(n,l[1]))return l[0];if(l=t(),cs){ai(!0);try{t()}finally{ai(!1)}}return r.memoizedState=[l,n],l}function hf(t,n,r){return r===void 0||(Un&1073741824)!==0&&(de&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=g_(),ie.lanes|=t,Ei|=t,r)}function gg(t,n,r,l){return Pt(r,n)?r:$s.current!==null?(t=hf(t,r,l),Pt(t,n)||(Je=!0),t):(Un&42)===0||(Un&1073741824)!==0&&(de&261930)===0?(Je=!0,t.memoizedState=r):(t=g_(),ie.lanes|=t,Ei|=t,n)}function _g(t,n,r,l,c){var f=V.p;V.p=f!==0&&8>f?f:8;var g=M.T,y={};M.T=y,mf(t,!1,n,r);try{var b=c(),x=M.S;if(x!==null&&x(y,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var k=H0(b,l);fa(t,n,k,Gt(t))}else fa(t,n,l,Gt(t))}catch(U){fa(t,n,{then:function(){},status:"rejected",reason:U},Gt())}finally{V.p=f,g!==null&&y.types!==null&&(g.types=y.types),M.T=g}}function Y0(){}function df(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=yg(t).queue;_g(t,c,n,W,r===null?Y0:function(){return vg(t),r(l)})}function yg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:W},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function vg(t){var n=yg(t);n.next===null&&(n=t.alternate.memoizedState),fa(t,n.next.queue,{},Gt())}function pf(){return ft(Na)}function Eg(){return Xe().memoizedState}function Sg(){return Xe().memoizedState}function Q0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Gt();t=pi(r);var l=mi(n,t,r);l!==null&&(It(l,n,r),aa(l,n,r)),n={cache:qc()},t.payload=n;return}n=n.return}}function K0(t,n,r){var l=Gt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fo(t)?Cg(n,r):(r=Dc(t,n,r,l),r!==null&&(It(r,t,l),Tg(r,n,l)))}function bg(t,n,r){var l=Gt();fa(t,n,r,l)}function fa(t,n,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(fo(t))Cg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,y=f(g,r);if(c.hasEagerState=!0,c.eagerState=y,Pt(y,g))return Fl(t,n,c,0),De===null&&Gl(),!1}catch{}finally{}if(r=Dc(t,n,c,l),r!==null)return It(r,t,l),Tg(r,n,l),!0}return!1}function mf(t,n,r,l){if(l={lane:2,revertLane:Qf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fo(t)){if(n)throw Error(a(479))}else n=Dc(t,r,l,2),n!==null&&It(n,t,2)}function fo(t){var n=t.alternate;return t===ie||n!==null&&n===ie}function Cg(t,n){Zs=so=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Tg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,xp(t,r)}}var ha={readContext:ft,use:lo,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};ha.useEffectEvent=Ge;var wg={readContext:ft,use:lo,useCallback:function(t,n){return bt().memoizedState=[t,n===void 0?null:n],t},useContext:ft,useEffect:og,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,uo(4194308,4,hg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return uo(4194308,4,t,n)},useInsertionEffect:function(t,n){uo(4,2,t,n)},useMemo:function(t,n){var r=bt();n=n===void 0?null:n;var l=t();if(cs){ai(!0);try{t()}finally{ai(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=bt();if(r!==void 0){var c=r(n);if(cs){ai(!0);try{r(n)}finally{ai(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=K0.bind(null,ie,t),[l.memoizedState,t]},useRef:function(t){var n=bt();return t={current:t},n.memoizedState=t},useState:function(t){t=of(t);var n=t.queue,r=bg.bind(null,ie,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:ff,useDeferredValue:function(t,n){var r=bt();return hf(r,t,n)},useTransition:function(){var t=of(!1);return t=_g.bind(null,ie,t.queue,!0,!1),bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=ie,c=bt();if(me){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),De===null)throw Error(a(349));(de&127)!==0||Ym(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,og(Km.bind(null,l,f,t),[t]),l.flags|=2048,er(9,{destroy:void 0},Qm.bind(null,l,f,r,n),null),r},useId:function(){var t=bt(),n=De.identifierPrefix;if(me){var r=_n,l=gn;r=(l&~(1<<32-zt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ro++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=B0++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:pf,useFormState:ig,useActionState:ig,useOptimistic:function(t){var n=bt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=mf.bind(null,ie,!0,r),r.dispatch=n,[t,n]},useMemoCache:rf,useCacheRefresh:function(){return bt().memoizedState=Q0.bind(null,ie)},useEffectEvent:function(t){var n=bt(),r={impl:t};return n.memoizedState=r,function(){if((Ee&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},gf={readContext:ft,use:lo,useCallback:pg,useContext:ft,useEffect:cf,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:fg,useMemo:mg,useReducer:oo,useRef:lg,useState:function(){return oo(zn)},useDebugValue:ff,useDeferredValue:function(t,n){var r=Xe();return gg(r,Ae.memoizedState,t,n)},useTransition:function(){var t=oo(zn)[0],n=Xe().memoizedState;return[typeof t=="boolean"?t:ca(t),n]},useSyncExternalStore:Fm,useId:Eg,useHostTransitionStatus:pf,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var r=Xe();return $m(r,Ae,t,n)},useMemoCache:rf,useCacheRefresh:Sg};gf.useEffectEvent=ug;var Ag={readContext:ft,use:lo,useCallback:pg,useContext:ft,useEffect:cf,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:fg,useMemo:mg,useReducer:lf,useRef:lg,useState:function(){return lf(zn)},useDebugValue:ff,useDeferredValue:function(t,n){var r=Xe();return Ae===null?hf(r,t,n):gg(r,Ae.memoizedState,t,n)},useTransition:function(){var t=lf(zn)[0],n=Xe().memoizedState;return[typeof t=="boolean"?t:ca(t),n]},useSyncExternalStore:Fm,useId:Eg,useHostTransitionStatus:pf,useFormState:ag,useActionState:ag,useOptimistic:function(t,n){var r=Xe();return Ae!==null?$m(r,Ae,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:rf,useCacheRefresh:Sg};Ag.useEffectEvent=ug;function _f(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var yf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Gt(),c=pi(l);c.payload=n,r!=null&&(c.callback=r),n=mi(t,c,l),n!==null&&(It(n,t,l),aa(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Gt(),c=pi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=mi(t,c,l),n!==null&&(It(n,t,l),aa(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Gt(),l=pi(r);l.tag=2,n!=null&&(l.callback=n),n=mi(t,l,r),n!==null&&(It(n,t,r),aa(n,t,r))}};function Rg(t,n,r,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zr(r,l)||!Zr(c,f):!0}function Ng(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&yf.enqueueReplaceState(n,n.state,null)}function fs(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}function xg(t){Vl(t)}function Og(t){console.error(t)}function Dg(t){Vl(t)}function ho(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ig(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vf(t,n,r){return r=pi(r),r.tag=3,r.payload={element:null},r.callback=function(){ho(t,n)},r}function Mg(t){return t=pi(t),t.tag=3,t}function kg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ig(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ig(n,r,l),typeof c!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function X0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ys(n,r,c,!0),r=Ht.current,r!==null){switch(r.tag){case 31:case 13:return Jt===null?wo():r.alternate===null&&Fe===0&&(Fe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Jl?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Gf(t,l,c)),!1;case 22:return r.flags|=65536,l===Jl?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Gf(t,l,c)),!1}throw Error(a(435,r.tag))}return Gf(t,l,c),wo(),!1}if(me)return n=Ht.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==zc&&(t=Error(a(422),{cause:l}),ta(Xt(t,r)))):(l!==zc&&(n=Error(a(423),{cause:l}),ta(Xt(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Xt(l,r),c=vf(t.stateNode,l,c),Kc(t,c),Fe!==4&&(Fe=2)),!1;var f=Error(a(520),{cause:l});if(f=Xt(f,r),Ea===null?Ea=[f]:Ea.push(f),Fe!==4&&(Fe=2),n===null)return!0;l=Xt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=vf(r.stateNode,l,t),Kc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Si===null||!Si.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Mg(c),kg(c,t,r,l),Kc(r,c),!1}r=r.return}while(r!==null);return!1}var Ef=Error(a(461)),Je=!1;function ht(t,n,r,l){n.child=t===null?Pm(n,null,r,l):us(n,t.child,r,l)}function Lg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var y in l)y!=="ref"&&(g[y]=l[y])}else g=l;return rs(n),l=ef(t,n,r,g,f,c),y=tf(),t!==null&&!Je?(nf(t,n,c),Pn(t,n,c)):(me&&y&&Lc(n),n.flags|=1,ht(t,n,l,c),n.child)}function Ug(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Ic(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,zg(t,n,f,l,c)):(t=Ql(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Nf(t,c)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zr,r(g,l)&&t.ref===n.ref)return Pn(t,n,c)}return n.flags|=1,t=In(f,l),t.ref=n.ref,t.return=n,n.child=t}function zg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Zr(f,l)&&t.ref===n.ref)if(Je=!1,n.pendingProps=l=f,Nf(t,c))(t.flags&131072)!==0&&(Je=!0);else return n.lanes=t.lanes,Pn(t,n,c)}return Sf(t,n,r,l,c)}function Pg(t,n,r,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return jg(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&$l(n,f!==null?f.cachePool:null),f!==null?Bm(n,f):Wc(),qm(n);else return l=n.lanes=536870912,jg(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?($l(n,f.cachePool),Bm(n,f),_i(),n.memoizedState=null):(t!==null&&$l(n,null),Wc(),_i());return ht(t,n,c,r),n.child}function da(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jg(t,n,r,l,c){var f=Gc();return f=f===null?null:{parent:$e._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&$l(n,null),Wc(),qm(n),t!==null&&Ys(t,n,l,!0),n.childLanes=c,null}function po(t,n){return n=go({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Hg(t,n,r){return us(n,t.child,null,r),t=po(n,n.pendingProps),t.flags|=2,Bt(n),n.memoizedState=null,t}function W0(t,n,r){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(me){if(l.mode==="hidden")return t=po(n,l),n.lanes=536870912,da(null,t);if(Zc(n),(t=ze)?(t=Z_(t,Zt),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ui!==null?{id:gn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},r=Cm(t),r.return=n,n.child=r,ct=n,ze=null)):t=null,t===null)throw fi(n);return n.lanes=536870912,null}return po(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Zc(n),c)if(n.flags&256)n.flags&=-257,n=Hg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Je||Ys(t,n,r,!1),c=(r&t.childLanes)!==0,Je||c){if(l=De,l!==null&&(g=Op(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,ts(t,g),It(l,t,g),Ef;wo(),n=Hg(t,n,r)}else t=f.treeContext,ze=en(g.nextSibling),ct=n,me=!0,ci=null,Zt=!1,t!==null&&Am(n,t),n=po(n,l),n.flags|=4096;return n}return t=In(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function mo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Sf(t,n,r,l,c){return rs(n),r=ef(t,n,r,l,void 0,c),l=tf(),t!==null&&!Je?(nf(t,n,c),Pn(t,n,c)):(me&&l&&Lc(n),n.flags|=1,ht(t,n,r,c),n.child)}function Bg(t,n,r,l,c,f){return rs(n),n.updateQueue=null,r=Gm(n,l,r,c),Vm(t),l=tf(),t!==null&&!Je?(nf(t,n,f),Pn(t,n,f)):(me&&l&&Lc(n),n.flags|=1,ht(t,n,r,f),n.child)}function qg(t,n,r,l,c){if(rs(n),n.stateNode===null){var f=qs,g=r.contextType;typeof g=="object"&&g!==null&&(f=ft(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Yc(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?ft(g):qs,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(_f(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&yf.enqueueReplaceState(f,f.state,null),oa(n,l,f,c),la(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var y=n.memoizedProps,b=fs(r,y);f.props=b;var x=f.context,k=r.contextType;g=qs,typeof k=="object"&&k!==null&&(g=ft(k));var U=r.getDerivedStateFromProps;k=typeof U=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||x!==g)&&Ng(n,f,l,g),di=!1;var D=n.memoizedState;f.state=D,oa(n,l,f,c),la(),x=n.memoizedState,y||D!==x||di?(typeof U=="function"&&(_f(n,r,U,l),x=n.memoizedState),(b=di||Rg(n,r,b,l,D,x,g))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=x),f.props=l,f.state=x,f.context=g,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qc(t,n),g=n.memoizedProps,k=fs(r,g),f.props=k,U=n.pendingProps,D=f.context,x=r.contextType,b=qs,typeof x=="object"&&x!==null&&(b=ft(x)),y=r.getDerivedStateFromProps,(x=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==U||D!==b)&&Ng(n,f,l,b),di=!1,D=n.memoizedState,f.state=D,oa(n,l,f,c),la();var I=n.memoizedState;g!==U||D!==I||di||t!==null&&t.dependencies!==null&&Xl(t.dependencies)?(typeof y=="function"&&(_f(n,r,y,l),I=n.memoizedState),(k=di||Rg(n,r,k,l,D,I,b)||t!==null&&t.dependencies!==null&&Xl(t.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,I,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,I,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=I),f.props=l,f.state=I,f.context=b,l=k):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,mo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=us(n,t.child,null,c),n.child=us(n,null,r,c)):ht(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Pn(t,n,c),t}function Vg(t,n,r,l){return is(),n.flags|=256,ht(t,n,r,l),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:Im()}}function Tf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vt),t}function Gg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(me){if(c?gi(n):_i(),(t=ze)?(t=Z_(t,Zt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ui!==null?{id:gn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},r=Cm(t),r.return=n,n.child=r,ct=n,ze=null)):t=null,t===null)throw fi(n);return ah(t)?n.lanes=32:n.lanes=536870912,null}var y=l.children;return l=l.fallback,c?(_i(),c=n.mode,y=go({mode:"hidden",children:y},c),l=ns(l,c,r,null),y.return=n,l.return=n,y.sibling=l,n.child=y,l=n.child,l.memoizedState=Cf(r),l.childLanes=Tf(t,g,r),n.memoizedState=bf,da(null,l)):(gi(n),wf(n,y))}var b=t.memoizedState;if(b!==null&&(y=b.dehydrated,y!==null)){if(f)n.flags&256?(gi(n),n.flags&=-257,n=Af(t,n,r)):n.memoizedState!==null?(_i(),n.child=t.child,n.flags|=128,n=null):(_i(),y=l.fallback,c=n.mode,l=go({mode:"visible",children:l.children},c),y=ns(y,c,r,null),y.flags|=2,l.return=n,y.return=n,l.sibling=y,n.child=l,us(n,t.child,null,r),l=n.child,l.memoizedState=Cf(r),l.childLanes=Tf(t,g,r),n.memoizedState=bf,n=da(null,l));else if(gi(n),ah(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var x=g.dgst;g=x,l=Error(a(419)),l.stack="",l.digest=g,ta({value:l,source:null,stack:null}),n=Af(t,n,r)}else if(Je||Ys(t,n,r,!1),g=(r&t.childLanes)!==0,Je||g){if(g=De,g!==null&&(l=Op(g,r),l!==0&&l!==b.retryLane))throw b.retryLane=l,ts(t,l),It(g,t,l),Ef;rh(y)||wo(),n=Af(t,n,r)}else rh(y)?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ze=en(y.nextSibling),ct=n,me=!0,ci=null,Zt=!1,t!==null&&Am(n,t),n=wf(n,l.children),n.flags|=4096);return n}return c?(_i(),y=l.fallback,c=n.mode,b=t.child,x=b.sibling,l=In(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,x!==null?y=In(x,y):(y=ns(y,c,r,null),y.flags|=2),y.return=n,l.return=n,l.sibling=y,n.child=l,da(null,l),l=n.child,y=t.child.memoizedState,y===null?y=Cf(r):(c=y.cachePool,c!==null?(b=$e._currentValue,c=c.parent!==b?{parent:b,pool:b}:c):c=Im(),y={baseLanes:y.baseLanes|r,cachePool:c}),l.memoizedState=y,l.childLanes=Tf(t,g,r),n.memoizedState=bf,da(t.child,l)):(gi(n),r=t.child,t=r.sibling,r=In(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function wf(t,n){return n=go({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function go(t,n){return t=jt(22,t,null,n),t.lanes=0,t}function Af(t,n,r){return us(n,t.child,null,r),t=wf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Hc(t.return,n,r)}function Rf(t,n,r,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=c,g.treeForkCount=f)}function Yg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=Ke.current,y=(g&2)!==0;if(y?(g=g&1|2,n.flags|=128):g&=1,G(Ke,g),ht(t,n,l,r),l=me?ea:0,!y&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,r,n);else if(t.tag===19)Fg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&io(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Rf(n,!1,c,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&io(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Rf(n,!0,r,null,f,l);break;case"together":Rf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Pn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ei|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ys(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=In(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=In(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Nf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Xl(t)))}function $0(t,n,r){switch(n.tag){case 3:St(n,n.stateNode.containerInfo),hi(n,$e,t.memoizedState.cache),is();break;case 27:case 5:jr(n);break;case 4:St(n,n.stateNode.containerInfo);break;case 10:hi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zc(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(gi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Gg(t,n,r):(gi(n),t=Pn(t,n,r),t!==null?t.sibling:null);gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ys(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Yg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(Ke,Ke.current),l)break;return null;case 22:return n.lanes=0,Pg(t,n,r,n.pendingProps);case 24:hi(n,$e,t.memoizedState.cache)}return Pn(t,n,r)}function Qg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Je=!0;else{if(!Nf(t,r)&&(n.flags&128)===0)return Je=!1,$0(t,n,r);Je=(t.flags&131072)!==0}else Je=!1,me&&(n.flags&1048576)!==0&&wm(n,ea,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ls(n.elementType),n.type=t,typeof t=="function")Ic(t)?(l=fs(t,l),n.tag=1,n=qg(null,n,t,l,r)):(n.tag=0,n=Sf(null,n,t,l,r));else{if(t!=null){var c=t.$$typeof;if(c===ae){n.tag=11,n=Lg(null,n,t,l,r);break e}else if(c===ee){n.tag=14,n=Ug(null,n,t,l,r);break e}}throw n=re(t)||t,Error(a(306,n,""))}}return n;case 0:return Sf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=fs(l,n.pendingProps),qg(t,n,l,c,r);case 3:e:{if(St(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Qc(t,n),oa(n,l,null,r);var g=n.memoizedState;if(l=g.cache,hi(n,$e,l),l!==f.cache&&Bc(n,[$e],r,!0),la(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Vg(t,n,l,r);break e}else if(l!==c){c=Xt(Error(a(424)),n),ta(c),n=Vg(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ze=en(t.firstChild),ct=n,me=!0,ci=null,Zt=!0,r=Pm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(is(),l===c){n=Pn(t,n,r);break e}ht(t,n,l,r)}n=n.child}return n;case 26:return mo(t,n),t===null?(r=sy(n.type,null,n.pendingProps,null))?n.memoizedState=r:me||(r=n.type,t=n.pendingProps,l=Io(ce.current).createElement(r),l[ut]=n,l[At]=t,dt(l,r,t),rt(l),n.stateNode=l):n.memoizedState=sy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return jr(n),t===null&&me&&(l=n.stateNode=ty(n.type,n.pendingProps,ce.current),ct=n,Zt=!0,c=ze,wi(n.type)?(lh=c,ze=en(l.firstChild)):ze=c),ht(t,n,n.pendingProps.children,r),mo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&me&&((c=l=ze)&&(l=RC(l,n.type,n.pendingProps,Zt),l!==null?(n.stateNode=l,ct=n,ze=en(l.firstChild),Zt=!1,c=!0):c=!1),c||fi(n)),jr(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,nh(c,f)?l=null:g!==null&&nh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=ef(t,n,q0,null,null,r),Na._currentValue=c),mo(t,n),ht(t,n,l,r),n.child;case 6:return t===null&&me&&((t=r=ze)&&(r=NC(r,n.pendingProps,Zt),r!==null?(n.stateNode=r,ct=n,ze=null,t=!0):t=!1),t||fi(n)),null;case 13:return Gg(t,n,r);case 4:return St(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=us(n,null,l,r):ht(t,n,l,r),n.child;case 11:return Lg(t,n,n.type,n.pendingProps,r);case 7:return ht(t,n,n.pendingProps,r),n.child;case 8:return ht(t,n,n.pendingProps.children,r),n.child;case 12:return ht(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,hi(n,n.type,l.value),ht(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,rs(n),c=ft(c),l=l(c),n.flags|=1,ht(t,n,l,r),n.child;case 14:return Ug(t,n,n.type,n.pendingProps,r);case 15:return zg(t,n,n.type,n.pendingProps,r);case 19:return Yg(t,n,r);case 31:return W0(t,n,r);case 22:return Pg(t,n,r,n.pendingProps);case 24:return rs(n),l=ft($e),t===null?(c=Gc(),c===null&&(c=De,f=qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Yc(n),hi(n,$e,c)):((t.lanes&r)!==0&&(Qc(t,n),oa(n,null,null,r),la()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),hi(n,$e,l)):(l=f.cache,hi(n,$e,l),l!==c.cache&&Bc(n,[$e],r,!0))),ht(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function jn(t){t.flags|=4}function xf(t,n,r,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(E_())t.flags|=8192;else throw os=Jl,Fc}else t.flags&=-16777217}function Kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uy(n))if(E_())t.flags|=8192;else throw os=Jl,Fc}function _o(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Rp():536870912,t.lanes|=n,sr|=n)}function pa(t,n){if(!me)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Pe(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Z0(t,n,r){var l=n.pendingProps;switch(Uc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ln($e),Qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?jn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pc())),Pe(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(jn(n),f!==null?(Pe(n),Kg(n,f)):(Pe(n),xf(n,c,null,l,r))):f?f!==t.memoizedState?(jn(n),Pe(n),Kg(n,f)):(Pe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&jn(n),Pe(n),xf(n,c,t,l,r)),null;case 27:if(Rl(n),r=ce.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&jn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Pe(n),null}t=Y.current,Fs(n)?Rm(n):(t=ty(c,l,r),n.stateNode=t,jn(n))}return Pe(n),null;case 5:if(Rl(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&jn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Pe(n),null}if(f=Y.current,Fs(n))Rm(n);else{var g=Io(ce.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ut]=n,f[At]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(dt(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&jn(n)}}return Pe(n),xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&jn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ce.current,Fs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=ct,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ut]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||G_(t.nodeValue,r)),t||fi(n,!0)}else t=Io(t).createTextNode(l),t[ut]=n,n.stateNode=t}return Pe(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Fs(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[ut]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),t=!1}else r=Pc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Bt(n),n):(Bt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Pe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ut]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),c=!1}else c=Pc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Bt(n),n):(Bt(n),null)}return Bt(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),_o(n,n.updateQueue),Pe(n),null);case 4:return Qe(),t===null&&$f(n.stateNode.containerInfo),Pe(n),null;case 10:return Ln(n.type),Pe(n),null;case 19:if(z(Ke),l=n.memoizedState,l===null)return Pe(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)pa(l,!1);else{if(Fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=io(t),f!==null){for(n.flags|=128,pa(l,!1),t=f.updateQueue,n.updateQueue=t,_o(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)bm(r,t),r=r.sibling;return G(Ke,Ke.current&1|2),me&&Mn(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Lt()>bo&&(n.flags|=128,c=!0,pa(l,!1),n.lanes=4194304)}else{if(!c)if(t=io(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,_o(n,t),pa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!me)return Pe(n),null}else 2*Lt()-l.renderingStartTime>bo&&r!==536870912&&(n.flags|=128,c=!0,pa(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Lt(),t.sibling=null,r=Ke.current,G(Ke,c?r&1|2:r&1),me&&Mn(n,l.treeForkCount),t):(Pe(n),null);case 22:case 23:return Bt(n),$c(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),r=n.updateQueue,r!==null&&_o(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&z(as),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ln($e),Pe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function J0(t,n){switch(Uc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ln($e),Qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rl(n),null;case 31:if(n.memoizedState!==null){if(Bt(n),n.alternate===null)throw Error(a(340));is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Bt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return z(Ke),null;case 4:return Qe(),null;case 10:return Ln(n.type),null;case 22:case 23:return Bt(n),$c(),t!==null&&z(as),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ln($e),null;case 25:return null;default:return null}}function Xg(t,n){switch(Uc(n),n.tag){case 3:Ln($e),Qe();break;case 26:case 27:case 5:Rl(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&Bt(n);break;case 13:Bt(n);break;case 19:z(Ke);break;case 10:Ln(n.type);break;case 22:case 23:Bt(n),$c(),t!==null&&z(as);break;case 24:Ln($e)}}function ma(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==c)}}catch(y){Te(n,n.return,y)}}function yi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=n;var b=r,x=y;try{x()}catch(k){Te(c,b,k)}}}l=l.next}while(l!==f)}}catch(k){Te(n,n.return,k)}}function Wg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Hm(n,r)}catch(l){Te(t,t.return,l)}}}function $g(t,n,r){r.props=fs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Te(t,n,l)}}function ga(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Te(t,n,c)}}function yn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Te(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Te(t,n,c)}else r.current=null}function Zg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Te(t,t.return,c)}}function Of(t,n,r){try{var l=t.stateNode;SC(l,t.type,r,n),l[At]=n}catch(c){Te(t,t.return,c)}}function Jg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wi(t.type)||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function If(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=On));else if(l!==4&&(l===27&&wi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(If(t,n,r),t=t.sibling;t!==null;)If(t,n,r),t=t.sibling}function yo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&wi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(yo(t,n,r),t=t.sibling;t!==null;)yo(t,n,r),t=t.sibling}function e_(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);dt(n,l,r),n[ut]=t,n[At]=r}catch(f){Te(t,t.return,f)}}var Hn=!1,et=!1,Mf=!1,t_=typeof WeakSet=="function"?WeakSet:Set,at=null;function eC(t,n){if(t=t.containerInfo,eh=jo,t=dm(t),wc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,y=-1,b=-1,x=0,k=0,U=t,D=null;t:for(;;){for(var I;U!==r||c!==0&&U.nodeType!==3||(y=g+c),U!==f||l!==0&&U.nodeType!==3||(b=g+l),U.nodeType===3&&(g+=U.nodeValue.length),(I=U.firstChild)!==null;)D=U,U=I;for(;;){if(U===t)break t;if(D===r&&++x===c&&(y=g),D===f&&++k===l&&(b=g),(I=U.nextSibling)!==null)break;U=D,D=U.parentNode}U=I}r=y===-1||b===-1?null:{start:y,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(th={focusedElem:t,selectionRange:r},jo=!1,at=n;at!==null;)if(n=at,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,at=t;else for(;at!==null;){switch(n=at,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)c=t[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var F=fs(r.type,c);t=l.getSnapshotBeforeUpdate(F,f),l.__reactInternalSnapshotBeforeUpdate=t}catch($){Te(r,r.return,$)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)sh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,at=t;break}at=n.return}}function n_(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:qn(t,r),l&4&&ma(5,r);break;case 1:if(qn(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Te(r,r.return,g)}else{var c=fs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Te(r,r.return,g)}}l&64&&Wg(r),l&512&&ga(r,r.return);break;case 3:if(qn(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Hm(t,n)}catch(g){Te(r,r.return,g)}}break;case 27:n===null&&l&4&&e_(r);case 26:case 5:qn(t,r),n===null&&l&4&&Zg(r),l&512&&ga(r,r.return);break;case 12:qn(t,r);break;case 31:qn(t,r),l&4&&r_(t,r);break;case 13:qn(t,r),l&4&&a_(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=uC.bind(null,r),xC(t,r))));break;case 22:if(l=r.memoizedState!==null||Hn,!l){n=n!==null&&n.memoizedState!==null||et,c=Hn;var f=et;Hn=l,(et=n)&&!f?Vn(t,r,(r.subtreeFlags&8772)!==0):qn(t,r),Hn=c,et=f}break;case 30:break;default:qn(t,r)}}function i_(t){var n=t.alternate;n!==null&&(t.alternate=null,i_(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&oc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,Nt=!1;function Bn(t,n,r){for(r=r.child;r!==null;)s_(t,n,r),r=r.sibling}function s_(t,n,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Hr,r)}catch{}switch(r.tag){case 26:et||yn(r,n),Bn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:et||yn(r,n);var l=Be,c=Nt;wi(r.type)&&(Be=r.stateNode,Nt=!1),Bn(t,n,r),wa(r.stateNode),Be=l,Nt=c;break;case 5:et||yn(r,n);case 6:if(l=Be,c=Nt,Be=null,Bn(t,n,r),Be=l,Nt=c,Be!==null)if(Nt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(r.stateNode)}catch(f){Te(r,n,f)}else try{Be.removeChild(r.stateNode)}catch(f){Te(r,n,f)}break;case 18:Be!==null&&(Nt?(t=Be,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),hr(t)):W_(Be,r.stateNode));break;case 4:l=Be,c=Nt,Be=r.stateNode.containerInfo,Nt=!0,Bn(t,n,r),Be=l,Nt=c;break;case 0:case 11:case 14:case 15:yi(2,r,n),et||yi(4,r,n),Bn(t,n,r);break;case 1:et||(yn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&$g(r,n,l)),Bn(t,n,r);break;case 21:Bn(t,n,r);break;case 22:et=(l=et)||r.memoizedState!==null,Bn(t,n,r),et=l;break;default:Bn(t,n,r)}}function r_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hr(t)}catch(r){Te(n,n.return,r)}}}function a_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hr(t)}catch(r){Te(n,n.return,r)}}function tC(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new t_),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new t_),n;default:throw Error(a(435,t.tag))}}function vo(t,n){var r=tC(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var c=cC.bind(null,t,l);l.then(c,c)}})}function xt(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,g=n,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(wi(y.type)){Be=y.stateNode,Nt=!1;break e}break;case 5:Be=y.stateNode,Nt=!1;break e;case 3:case 4:Be=y.stateNode.containerInfo,Nt=!0;break e}y=y.return}if(Be===null)throw Error(a(160));s_(f,g,c),Be=null,Nt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)l_(n,t),n=n.sibling}var an=null;function l_(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xt(n,t),Ot(t),l&4&&(yi(3,t,t.return),ma(3,t),yi(5,t,t.return));break;case 1:xt(n,t),Ot(t),l&512&&(et||r===null||yn(r,r.return)),l&64&&Hn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=an;if(xt(n,t),Ot(t),l&512&&(et||r===null||yn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Vr]||f[ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),dt(f,l,r),f[ut]=t,rt(f),l=f;break e;case"link":var g=ly("link","href",c).get(l+(r.href||""));if(g){for(var y=0;y<g.length;y++)if(f=g[y],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(y,1);break t}}f=c.createElement(l),dt(f,l,r),c.head.appendChild(f);break;case"meta":if(g=ly("meta","content",c).get(l+(r.content||""))){for(y=0;y<g.length;y++)if(f=g[y],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(y,1);break t}}f=c.createElement(l),dt(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ut]=t,rt(f),l=f}t.stateNode=l}else oy(c,t.type,t.stateNode);else t.stateNode=ay(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?oy(c,t.type,t.stateNode):ay(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Of(t,t.memoizedProps,r.memoizedProps)}break;case 27:xt(n,t),Ot(t),l&512&&(et||r===null||yn(r,r.return)),r!==null&&l&4&&Of(t,t.memoizedProps,r.memoizedProps);break;case 5:if(xt(n,t),Ot(t),l&512&&(et||r===null||yn(r,r.return)),t.flags&32){c=t.stateNode;try{Ls(c,"")}catch(F){Te(t,t.return,F)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Of(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Mf=!0);break;case 6:if(xt(n,t),Ot(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(F){Te(t,t.return,F)}}break;case 3:if(Lo=null,c=an,an=Mo(n.containerInfo),xt(n,t),an=c,Ot(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{hr(n.containerInfo)}catch(F){Te(t,t.return,F)}Mf&&(Mf=!1,o_(t));break;case 4:l=an,an=Mo(t.stateNode.containerInfo),xt(n,t),Ot(t),an=l;break;case 12:xt(n,t),Ot(t);break;case 31:xt(n,t),Ot(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vo(t,l)));break;case 13:xt(n,t),Ot(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(So=Lt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vo(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,x=Hn,k=et;if(Hn=x||c,et=k||b,xt(n,t),et=k,Hn=x,Ot(t),l&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Hn||et||hs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=b.stateNode;var U=b.memoizedProps.style,D=U!=null&&U.hasOwnProperty("display")?U.display:null;y.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(F){Te(b,b.return,F)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(F){Te(b,b.return,F)}}}else if(n.tag===18){if(r===null){b=n;try{var I=b.stateNode;c?$_(I,!0):$_(b.stateNode,!1)}catch(F){Te(b,b.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,vo(t,r))));break;case 19:xt(n,t),Ot(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vo(t,l)));break;case 30:break;case 21:break;default:xt(n,t),Ot(t)}}function Ot(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Jg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Df(t);yo(t,f,c);break;case 5:var g=r.stateNode;r.flags&32&&(Ls(g,""),r.flags&=-33);var y=Df(t);yo(t,y,g);break;case 3:case 4:var b=r.stateNode.containerInfo,x=Df(t);If(t,x,b);break;default:throw Error(a(161))}}catch(k){Te(t,t.return,k)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function o_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;o_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)n_(t,n.alternate,n),n=n.sibling}function hs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:yi(4,n,n.return),hs(n);break;case 1:yn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&$g(n,n.return,r),hs(n);break;case 27:wa(n.stateNode);case 26:case 5:yn(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}t=t.sibling}}function Vn(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Vn(c,f,r),ma(4,f);break;case 1:if(Vn(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(x){Te(l,l.return,x)}if(l=f,c=l.updateQueue,c!==null){var y=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)jm(b[c],y)}catch(x){Te(l,l.return,x)}}r&&g&64&&Wg(f),ga(f,f.return);break;case 27:e_(f);case 26:case 5:Vn(c,f,r),r&&l===null&&g&4&&Zg(f),ga(f,f.return);break;case 12:Vn(c,f,r);break;case 31:Vn(c,f,r),r&&g&4&&r_(c,f);break;case 13:Vn(c,f,r),r&&g&4&&a_(c,f);break;case 22:f.memoizedState===null&&Vn(c,f,r),ga(f,f.return);break;case 30:break;default:Vn(c,f,r)}n=n.sibling}}function kf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&na(r))}function Lf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&na(t))}function ln(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)u_(t,n,r,l),n=n.sibling}function u_(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ln(t,n,r,l),c&2048&&ma(9,n);break;case 1:ln(t,n,r,l);break;case 3:ln(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&na(t)));break;case 12:if(c&2048){ln(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,y=f.onPostCommit;typeof y=="function"&&y(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Te(n,n.return,b)}}else ln(t,n,r,l);break;case 31:ln(t,n,r,l);break;case 13:ln(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ln(t,n,r,l):_a(t,n):f._visibility&2?ln(t,n,r,l):(f._visibility|=2,tr(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&kf(g,n);break;case 24:ln(t,n,r,l),c&2048&&Lf(n.alternate,n);break;default:ln(t,n,r,l)}}function tr(t,n,r,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,y=r,b=l,x=g.flags;switch(g.tag){case 0:case 11:case 15:tr(f,g,y,b,c),ma(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&2?tr(f,g,y,b,c):_a(f,g):(k._visibility|=2,tr(f,g,y,b,c)),c&&x&2048&&kf(g.alternate,g);break;case 24:tr(f,g,y,b,c),c&&x&2048&&Lf(g.alternate,g);break;default:tr(f,g,y,b,c)}n=n.sibling}}function _a(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:_a(r,l),c&2048&&kf(l.alternate,l);break;case 24:_a(r,l),c&2048&&Lf(l.alternate,l);break;default:_a(r,l)}n=n.sibling}}var ya=8192;function nr(t,n,r){if(t.subtreeFlags&ya)for(t=t.child;t!==null;)c_(t,n,r),t=t.sibling}function c_(t,n,r){switch(t.tag){case 26:nr(t,n,r),t.flags&ya&&t.memoizedState!==null&&BC(r,an,t.memoizedState,t.memoizedProps);break;case 5:nr(t,n,r);break;case 3:case 4:var l=an;an=Mo(t.stateNode.containerInfo),nr(t,n,r),an=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ya,ya=16777216,nr(t,n,r),ya=l):nr(t,n,r));break;default:nr(t,n,r)}}function f_(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function va(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];at=l,d_(l,t)}f_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)h_(t),t=t.sibling}function h_(t){switch(t.tag){case 0:case 11:case 15:va(t),t.flags&2048&&yi(9,t,t.return);break;case 3:va(t);break;case 12:va(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eo(t)):va(t);break;default:va(t)}}function Eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];at=l,d_(l,t)}f_(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:yi(8,n,n.return),Eo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Eo(n));break;default:Eo(n)}t=t.sibling}}function d_(t,n){for(;at!==null;){var r=at;switch(r.tag){case 0:case 11:case 15:yi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:na(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,at=l;else e:for(r=t;at!==null;){l=at;var c=l.sibling,f=l.return;if(i_(l),l===r){at=null;break e}if(c!==null){c.return=f,at=c;break e}at=f}}}var nC={getCacheForType:function(t){var n=ft($e),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return ft($e).controller.signal}},iC=typeof WeakMap=="function"?WeakMap:Map,Ee=0,De=null,fe=null,de=0,Ce=0,qt=null,vi=!1,ir=!1,Uf=!1,Gn=0,Fe=0,Ei=0,ds=0,zf=0,Vt=0,sr=0,Ea=null,Dt=null,Pf=!1,So=0,p_=0,bo=1/0,Co=null,Si=null,nt=0,bi=null,rr=null,Fn=0,jf=0,Hf=null,m_=null,Sa=0,Bf=null;function Gt(){return(Ee&2)!==0&&de!==0?de&-de:M.T!==null?Qf():Dp()}function g_(){if(Vt===0)if((de&536870912)===0||me){var t=Ol;Ol<<=1,(Ol&3932160)===0&&(Ol=262144),Vt=t}else Vt=536870912;return t=Ht.current,t!==null&&(t.flags|=32),Vt}function It(t,n,r){(t===De&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)&&(ar(t,0),Ci(t,de,Vt,!1)),qr(t,r),((Ee&2)===0||t!==De)&&(t===De&&((Ee&2)===0&&(ds|=r),Fe===4&&Ci(t,de,Vt,!1)),vn(t))}function __(t,n,r){if((Ee&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Br(t,n),c=l?aC(t,n):Vf(t,n,!0),f=l;do{if(c===0){ir&&!l&&Ci(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!sC(r)){c=Vf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var y=t;c=Ea;var b=y.current.memoizedState.isDehydrated;if(b&&(ar(y,g).flags|=256),g=Vf(y,g,!1),g!==2){if(Uf&&!b){y.errorRecoveryDisabledLanes|=f,ds|=f,c=4;break e}f=Dt,Dt=c,f!==null&&(Dt===null?Dt=f:Dt.push.apply(Dt,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ar(t,0),Ci(t,n,0,!0);break}e:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ci(l,n,Vt,!vi);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=So+300-Lt(),10<c)){if(Ci(l,n,Vt,!vi),Il(l,0,!0)!==0)break e;Fn=n,l.timeoutHandle=K_(y_.bind(null,l,r,Dt,Co,Pf,n,Vt,ds,sr,vi,f,"Throttled",-0,0),c);break e}y_(l,r,Dt,Co,Pf,n,Vt,ds,sr,vi,f,null,-0,0)}}break}while(!0);vn(t)}function y_(t,n,r,l,c,f,g,y,b,x,k,U,D,I){if(t.timeoutHandle=-1,U=n.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},c_(n,f,U);var F=(f&62914560)===f?So-Lt():(f&4194048)===f?p_-Lt():0;if(F=qC(U,F),F!==null){Fn=f,t.cancelPendingCommit=F(A_.bind(null,t,n,f,r,l,c,g,y,b,k,U,null,D,I)),Ci(t,f,g,!x);return}}A_(t,n,f,r,l,c,g,y,b)}function sC(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!Pt(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ci(t,n,r,l){n&=~zf,n&=~ds,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-zt(c),g=1<<f;l[f]=-1,c&=~g}r!==0&&Np(t,r,n)}function To(){return(Ee&6)===0?(ba(0),!1):!0}function qf(){if(fe!==null){if(Ce===0)var t=fe.return;else t=fe,kn=ss=null,sf(t),Ws=null,sa=0,t=fe;for(;t!==null;)Xg(t.alternate,t),t=t.return;fe=null}}function ar(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,TC(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Fn=0,qf(),De=t,fe=r=In(t.current,null),de=n,Ce=0,qt=null,vi=!1,ir=Br(t,n),Uf=!1,sr=Vt=zf=ds=Ei=Fe=0,Dt=Ea=null,Pf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-zt(l),f=1<<c;n|=t[c],l&=~f}return Gn=n,Gl(),r}function v_(t,n){ie=null,M.H=ha,n===Xs||n===Zl?(n=Lm(),Ce=3):n===Fc?(n=Lm(),Ce=4):Ce=n===Ef?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qt=n,fe===null&&(Fe=1,ho(t,Xt(n,t.current)))}function E_(){var t=Ht.current;return t===null?!0:(de&4194048)===de?Jt===null:(de&62914560)===de||(de&536870912)!==0?t===Jt:!1}function S_(){var t=M.H;return M.H=ha,t===null?ha:t}function b_(){var t=M.A;return M.A=nC,t}function wo(){Fe=4,vi||(de&4194048)!==de&&Ht.current!==null||(ir=!0),(Ei&134217727)===0&&(ds&134217727)===0||De===null||Ci(De,de,Vt,!1)}function Vf(t,n,r){var l=Ee;Ee|=2;var c=S_(),f=b_();(De!==t||de!==n)&&(Co=null,ar(t,n)),n=!1;var g=Fe;e:do try{if(Ce!==0&&fe!==null){var y=fe,b=qt;switch(Ce){case 8:qf(),g=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(n=!0);var x=Ce;if(Ce=0,qt=null,lr(t,y,b,x),r&&ir){g=0;break e}break;default:x=Ce,Ce=0,qt=null,lr(t,y,b,x)}}rC(),g=Fe;break}catch(k){v_(t,k)}while(!0);return n&&t.shellSuspendCounter++,kn=ss=null,Ee=l,M.H=c,M.A=f,fe===null&&(De=null,de=0,Gl()),g}function rC(){for(;fe!==null;)C_(fe)}function aC(t,n){var r=Ee;Ee|=2;var l=S_(),c=b_();De!==t||de!==n?(Co=null,bo=Lt()+500,ar(t,n)):ir=Br(t,n);e:do try{if(Ce!==0&&fe!==null){n=fe;var f=qt;t:switch(Ce){case 1:Ce=0,qt=null,lr(t,n,f,1);break;case 2:case 9:if(Mm(f)){Ce=0,qt=null,T_(n);break}n=function(){Ce!==2&&Ce!==9||De!==t||(Ce=7),vn(t)},f.then(n,n);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Mm(f)?(Ce=0,qt=null,T_(n)):(Ce=0,qt=null,lr(t,n,f,7));break;case 5:var g=null;switch(fe.tag){case 26:g=fe.memoizedState;case 5:case 27:var y=fe;if(g?uy(g):y.stateNode.complete){Ce=0,qt=null;var b=y.sibling;if(b!==null)fe=b;else{var x=y.return;x!==null?(fe=x,Ao(x)):fe=null}break t}}Ce=0,qt=null,lr(t,n,f,5);break;case 6:Ce=0,qt=null,lr(t,n,f,6);break;case 8:qf(),Fe=6;break e;default:throw Error(a(462))}}lC();break}catch(k){v_(t,k)}while(!0);return kn=ss=null,M.H=l,M.A=c,Ee=r,fe!==null?0:(De=null,de=0,Gl(),Fe)}function lC(){for(;fe!==null&&!Ob();)C_(fe)}function C_(t){var n=Qg(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,n===null?Ao(t):fe=n}function T_(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Bg(r,n,n.pendingProps,n.type,void 0,de);break;case 11:n=Bg(r,n,n.pendingProps,n.type.render,n.ref,de);break;case 5:sf(n);default:Xg(r,n),n=fe=bm(n,Gn),n=Qg(r,n,Gn)}t.memoizedProps=t.pendingProps,n===null?Ao(t):fe=n}function lr(t,n,r,l){kn=ss=null,sf(n),Ws=null,sa=0;var c=n.return;try{if(X0(t,c,n,r,de)){Fe=1,ho(t,Xt(r,t.current)),fe=null;return}}catch(f){if(c!==null)throw fe=c,f;Fe=1,ho(t,Xt(r,t.current)),fe=null;return}n.flags&32768?(me||l===1?t=!0:ir||(de&536870912)!==0?t=!1:(vi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ht.current,l!==null&&l.tag===13&&(l.flags|=16384))),w_(n,t)):Ao(n)}function Ao(t){var n=t;do{if((n.flags&32768)!==0){w_(n,vi);return}t=n.return;var r=Z0(n.alternate,n,Gn);if(r!==null){fe=r;return}if(n=n.sibling,n!==null){fe=n;return}fe=n=t}while(n!==null);Fe===0&&(Fe=5)}function w_(t,n){do{var r=J0(t.alternate,t);if(r!==null){r.flags&=32767,fe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){fe=t;return}fe=t=r}while(t!==null);Fe=6,fe=null}function A_(t,n,r,l,c,f,g,y,b){t.cancelPendingCommit=null;do Ro();while(nt!==0);if((Ee&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Oc,Hb(t,r,f,g,y,b),t===De&&(fe=De=null,de=0),rr=n,bi=t,Fn=r,jf=f,Hf=c,m_=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fC(Nl,function(){return D_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,c=V.p,V.p=2,g=Ee,Ee|=4;try{eC(t,n,r)}finally{Ee=g,V.p=c,M.T=l}}nt=1,R_(),N_(),x_()}}function R_(){if(nt===1){nt=0;var t=bi,n=rr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var l=V.p;V.p=2;var c=Ee;Ee|=4;try{l_(n,t);var f=th,g=dm(t.containerInfo),y=f.focusedElem,b=f.selectionRange;if(g!==y&&y&&y.ownerDocument&&hm(y.ownerDocument.documentElement,y)){if(b!==null&&wc(y)){var x=b.start,k=b.end;if(k===void 0&&(k=x),"selectionStart"in y)y.selectionStart=x,y.selectionEnd=Math.min(k,y.value.length);else{var U=y.ownerDocument||document,D=U&&U.defaultView||window;if(D.getSelection){var I=D.getSelection(),F=y.textContent.length,$=Math.min(b.start,F),Ne=b.end===void 0?$:Math.min(b.end,F);!I.extend&&$>Ne&&(g=Ne,Ne=$,$=g);var A=fm(y,$),C=fm(y,Ne);if(A&&C&&(I.rangeCount!==1||I.anchorNode!==A.node||I.anchorOffset!==A.offset||I.focusNode!==C.node||I.focusOffset!==C.offset)){var N=U.createRange();N.setStart(A.node,A.offset),I.removeAllRanges(),$>Ne?(I.addRange(N),I.extend(C.node,C.offset)):(N.setEnd(C.node,C.offset),I.addRange(N))}}}}for(U=[],I=y;I=I.parentNode;)I.nodeType===1&&U.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<U.length;y++){var L=U[y];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}jo=!!eh,th=eh=null}finally{Ee=c,V.p=l,M.T=r}}t.current=n,nt=2}}function N_(){if(nt===2){nt=0;var t=bi,n=rr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var l=V.p;V.p=2;var c=Ee;Ee|=4;try{n_(t,n.alternate,n)}finally{Ee=c,V.p=l,M.T=r}}nt=3}}function x_(){if(nt===4||nt===3){nt=0,Db();var t=bi,n=rr,r=Fn,l=m_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?nt=5:(nt=0,rr=bi=null,O_(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Si=null),ac(r),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Hr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,c=V.p,V.p=2,M.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var y=l[g];f(y.value,{componentStack:y.stack})}}finally{M.T=n,V.p=c}}(Fn&3)!==0&&Ro(),vn(t),c=t.pendingLanes,(r&261930)!==0&&(c&42)!==0?t===Bf?Sa++:(Sa=0,Bf=t):Sa=0,ba(0)}}function O_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,na(n)))}function Ro(){return R_(),N_(),x_(),D_()}function D_(){if(nt!==5)return!1;var t=bi,n=jf;jf=0;var r=ac(Fn),l=M.T,c=V.p;try{V.p=32>r?32:r,M.T=null,r=Hf,Hf=null;var f=bi,g=Fn;if(nt=0,rr=bi=null,Fn=0,(Ee&6)!==0)throw Error(a(331));var y=Ee;if(Ee|=4,h_(f.current),u_(f,f.current,g,r),Ee=y,ba(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Hr,f)}catch{}return!0}finally{V.p=c,M.T=l,O_(t,n)}}function I_(t,n,r){n=Xt(r,n),n=vf(t.stateNode,n,2),t=mi(t,n,2),t!==null&&(qr(t,2),vn(t))}function Te(t,n,r){if(t.tag===3)I_(t,t,r);else for(;n!==null;){if(n.tag===3){I_(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Si===null||!Si.has(l))){t=Xt(r,t),r=Mg(2),l=mi(n,r,2),l!==null&&(kg(r,l,n,t),qr(l,2),vn(l));break}}n=n.return}}function Gf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new iC;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Uf=!0,c.add(r),t=oC.bind(null,t,n,r),n.then(t,t))}function oC(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,De===t&&(de&r)===r&&(Fe===4||Fe===3&&(de&62914560)===de&&300>Lt()-So?(Ee&2)===0&&ar(t,0):zf|=r,sr===de&&(sr=0)),vn(t)}function M_(t,n){n===0&&(n=Rp()),t=ts(t,n),t!==null&&(qr(t,n),vn(t))}function uC(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),M_(t,r)}function cC(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),M_(t,r)}function fC(t,n){return nc(t,n)}var No=null,or=null,Ff=!1,xo=!1,Yf=!1,Ti=0;function vn(t){t!==or&&t.next===null&&(or===null?No=or=t:or=or.next=t),xo=!0,Ff||(Ff=!0,dC())}function ba(t,n){if(!Yf&&xo){Yf=!0;do for(var r=!1,l=No;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,y=l.pingedLanes;f=(1<<31-zt(42|t)+1)-1,f&=c&~(g&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,z_(l,f))}else f=de,f=Il(l,l===De?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Br(l,f)||(r=!0,z_(l,f));l=l.next}while(r);Yf=!1}}function hC(){k_()}function k_(){xo=Ff=!1;var t=0;Ti!==0&&CC()&&(t=Ti);for(var n=Lt(),r=null,l=No;l!==null;){var c=l.next,f=L_(l,n);f===0?(l.next=null,r===null?No=c:r.next=c,c===null&&(or=r)):(r=l,(t!==0||(f&3)!==0)&&(xo=!0)),l=c}nt!==0&&nt!==5||ba(t),Ti!==0&&(Ti=0)}function L_(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-zt(f),y=1<<g,b=c[g];b===-1?((y&r)===0||(y&l)!==0)&&(c[g]=jb(y,n)):b<=n&&(t.expiredLanes|=y),f&=~y}if(n=De,r=de,r=Il(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ic(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Br(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ic(l),ac(r)){case 2:case 8:r=wp;break;case 32:r=Nl;break;case 268435456:r=Ap;break;default:r=Nl}return l=U_.bind(null,t),r=nc(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ic(l),t.callbackPriority=2,t.callbackNode=null,2}function U_(t,n){if(nt!==0&&nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ro()&&t.callbackNode!==r)return null;var l=de;return l=Il(t,t===De?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(__(t,l,n),L_(t,Lt()),t.callbackNode!=null&&t.callbackNode===r?U_.bind(null,t):null)}function z_(t,n){if(Ro())return null;__(t,n,!0)}function dC(){wC(function(){(Ee&6)!==0?nc(Tp,hC):k_()})}function Qf(){if(Ti===0){var t=Qs;t===0&&(t=xl,xl<<=1,(xl&261888)===0&&(xl=256)),Ti=t}return Ti}function P_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ul(""+t)}function j_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function pC(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=P_((c[At]||null).action),g=l.submitter;g&&(n=(n=g[At]||null)?P_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var y=new Hl("action","action",null,l,c);t.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ti!==0){var b=g?j_(c,g):new FormData(c);df(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(y.preventDefault(),b=g?j_(c,g):new FormData(c),df(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Kf=0;Kf<xc.length;Kf++){var Xf=xc[Kf],mC=Xf.toLowerCase(),gC=Xf[0].toUpperCase()+Xf.slice(1);rn(mC,"on"+gC)}rn(gm,"onAnimationEnd"),rn(_m,"onAnimationIteration"),rn(ym,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(I0,"onTransitionRun"),rn(M0,"onTransitionStart"),rn(k0,"onTransitionCancel"),rn(vm,"onTransitionEnd"),Ms("onMouseEnter",["mouseout","mouseover"]),Ms("onMouseLeave",["mouseout","mouseover"]),Ms("onPointerEnter",["pointerout","pointerover"]),Ms("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ca));function H_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var y=l[g],b=y.instance,x=y.currentTarget;if(y=y.listener,b!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=x;try{f(c)}catch(k){Vl(k)}c.currentTarget=null,f=b}else for(g=0;g<l.length;g++){if(y=l[g],b=y.instance,x=y.currentTarget,y=y.listener,b!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=x;try{f(c)}catch(k){Vl(k)}c.currentTarget=null,f=b}}}}function he(t,n){var r=n[lc];r===void 0&&(r=n[lc]=new Set);var l=t+"__bubble";r.has(l)||(B_(n,t,2,!1),r.add(l))}function Wf(t,n,r){var l=0;n&&(l|=4),B_(r,t,l,n)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function $f(t){if(!t[Oo]){t[Oo]=!0,kp.forEach(function(r){r!=="selectionchange"&&(_C.has(r)||Wf(r,!1,t),Wf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Oo]||(n[Oo]=!0,Wf("selectionchange",!1,n))}}function B_(t,n,r,l){switch(gy(n)){case 2:var c=FC;break;case 8:c=YC;break;default:c=hh}r=c.bind(null,n,r,t),c=void 0,!gc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Zf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var y=l.stateNode.containerInfo;if(y===c)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;y!==null;){if(g=Os(y),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=f=g;continue e}y=y.parentNode}}l=l.return}Yp(function(){var x=f,k=pc(r),U=[];e:{var D=Em.get(t);if(D!==void 0){var I=Hl,F=t;switch(t){case"keypress":if(Pl(r)===0)break e;case"keydown":case"keyup":I=c0;break;case"focusin":F="focus",I=Ec;break;case"focusout":F="blur",I=Ec;break;case"beforeblur":case"afterblur":I=Ec;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Zb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=d0;break;case gm:case _m:case ym:I=t0;break;case vm:I=m0;break;case"scroll":case"scrollend":I=Wb;break;case"wheel":I=_0;break;case"copy":case"cut":case"paste":I=i0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=$p;break;case"toggle":case"beforetoggle":I=v0}var $=(n&4)!==0,Ne=!$&&(t==="scroll"||t==="scrollend"),A=$?D!==null?D+"Capture":null:D;$=[];for(var C=x,N;C!==null;){var L=C;if(N=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||N===null||A===null||(L=Fr(C,A),L!=null&&$.push(Ta(C,L,N))),Ne)break;C=C.return}0<$.length&&(D=new I(D,F,null,r,k),U.push({event:D,listeners:$}))}}if((n&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",D&&r!==dc&&(F=r.relatedTarget||r.fromElement)&&(Os(F)||F[xs]))break e;if((I||D)&&(D=k.window===k?k:(D=k.ownerDocument)?D.defaultView||D.parentWindow:window,I?(F=r.relatedTarget||r.toElement,I=x,F=F?Os(F):null,F!==null&&(Ne=u(F),$=F.tag,F!==Ne||$!==5&&$!==27&&$!==6)&&(F=null)):(I=null,F=x),I!==F)){if($=Xp,L="onMouseLeave",A="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&($=$p,L="onPointerLeave",A="onPointerEnter",C="pointer"),Ne=I==null?D:Gr(I),N=F==null?D:Gr(F),D=new $(L,C+"leave",I,r,k),D.target=Ne,D.relatedTarget=N,L=null,Os(k)===x&&($=new $(A,C+"enter",F,r,k),$.target=N,$.relatedTarget=Ne,L=$),Ne=L,I&&F)t:{for($=yC,A=I,C=F,N=0,L=A;L;L=$(L))N++;L=0;for(var X=C;X;X=$(X))L++;for(;0<N-L;)A=$(A),N--;for(;0<L-N;)C=$(C),L--;for(;N--;){if(A===C||C!==null&&A===C.alternate){$=A;break t}A=$(A),C=$(C)}$=null}else $=null;I!==null&&q_(U,D,I,$,!1),F!==null&&Ne!==null&&q_(U,Ne,F,$,!0)}}e:{if(D=x?Gr(x):window,I=D.nodeName&&D.nodeName.toLowerCase(),I==="select"||I==="input"&&D.type==="file")var _e=rm;else if(im(D))if(am)_e=x0;else{_e=R0;var Q=A0}else I=D.nodeName,!I||I.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?x&&hc(x.elementType)&&(_e=rm):_e=N0;if(_e&&(_e=_e(t,x))){sm(U,_e,r,k);break e}Q&&Q(t,D,x),t==="focusout"&&x&&D.type==="number"&&x.memoizedProps.value!=null&&fc(D,"number",D.value)}switch(Q=x?Gr(x):window,t){case"focusin":(im(Q)||Q.contentEditable==="true")&&(js=Q,Ac=x,Jr=null);break;case"focusout":Jr=Ac=js=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,pm(U,r,k);break;case"selectionchange":if(D0)break;case"keydown":case"keyup":pm(U,r,k)}var se;if(bc)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ps?tm(t,r)&&(pe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pe="onCompositionStart");pe&&(Zp&&r.locale!=="ko"&&(Ps||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ps&&(se=Qp()):(oi=k,_c="value"in oi?oi.value:oi.textContent,Ps=!0)),Q=Do(x,pe),0<Q.length&&(pe=new Wp(pe,t,null,r,k),U.push({event:pe,listeners:Q}),se?pe.data=se:(se=nm(r),se!==null&&(pe.data=se)))),(se=S0?b0(t,r):C0(t,r))&&(pe=Do(x,"onBeforeInput"),0<pe.length&&(Q=new Wp("onBeforeInput","beforeinput",null,r,k),U.push({event:Q,listeners:pe}),Q.data=se)),pC(U,t,x,r,k)}H_(U,n)})}function Ta(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Do(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Fr(t,r),c!=null&&l.unshift(Ta(t,c,f)),c=Fr(t,n),c!=null&&l.push(Ta(t,c,f))),t.tag===3)return l;t=t.return}return[]}function yC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q_(t,n,r,l,c){for(var f=n._reactName,g=[];r!==null&&r!==l;){var y=r,b=y.alternate,x=y.stateNode;if(y=y.tag,b!==null&&b===l)break;y!==5&&y!==26&&y!==27||x===null||(b=x,c?(x=Fr(r,f),x!=null&&g.unshift(Ta(r,x,b))):c||(x=Fr(r,f),x!=null&&g.push(Ta(r,x,b)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var vC=/\r\n?/g,EC=/\u0000|\uFFFD/g;function V_(t){return(typeof t=="string"?t:""+t).replace(vC,`
`).replace(EC,"")}function G_(t,n){return n=V_(n),V_(t)===n}function Re(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ls(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ls(t,""+l);break;case"className":kl(t,"class",l);break;case"tabIndex":kl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kl(t,r,l);break;case"style":Gp(t,l,f);break;case"data":if(n!=="object"){kl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ul(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Re(t,n,"name",c.name,c,null),Re(t,n,"formEncType",c.formEncType,c,null),Re(t,n,"formMethod",c.formMethod,c,null),Re(t,n,"formTarget",c.formTarget,c,null)):(Re(t,n,"encType",c.encType,c,null),Re(t,n,"method",c.method,c,null),Re(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ul(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=On);break;case"onScroll":l!=null&&he("scroll",t);break;case"onScrollEnd":l!=null&&he("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ul(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":he("beforetoggle",t),he("toggle",t),Ml(t,"popover",l);break;case"xlinkActuate":xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ml(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Kb.get(r)||r,Ml(t,r,l))}}function Jf(t,n,r,l,c,f){switch(r){case"style":Gp(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Ls(t,l):(typeof l=="number"||typeof l=="bigint")&&Ls(t,""+l);break;case"onScroll":l!=null&&he("scroll",t);break;case"onScrollEnd":l!=null&&he("scrollend",t);break;case"onClick":l!=null&&(t.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lp.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[At]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ml(t,r,l)}}}function dt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",t),he("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Re(t,n,f,g,r,null)}}c&&Re(t,n,"srcSet",r.srcSet,r,null),l&&Re(t,n,"src",r.src,r,null);return;case"input":he("invalid",t);var y=f=g=c=null,b=null,x=null;for(l in r)if(r.hasOwnProperty(l)){var k=r[l];if(k!=null)switch(l){case"name":c=k;break;case"type":g=k;break;case"checked":b=k;break;case"defaultChecked":x=k;break;case"value":f=k;break;case"defaultValue":y=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Re(t,n,l,k,r,null)}}Hp(t,f,y,b,x,g,c,!1);return;case"select":he("invalid",t),l=g=f=null;for(c in r)if(r.hasOwnProperty(c)&&(y=r[c],y!=null))switch(c){case"value":f=y;break;case"defaultValue":g=y;break;case"multiple":l=y;default:Re(t,n,c,y,r,null)}n=f,r=g,t.multiple=!!l,n!=null?ks(t,!!l,n,!1):r!=null&&ks(t,!!l,r,!0);return;case"textarea":he("invalid",t),f=c=l=null;for(g in r)if(r.hasOwnProperty(g)&&(y=r[g],y!=null))switch(g){case"value":l=y;break;case"defaultValue":c=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:Re(t,n,g,y,r,null)}qp(t,l,c,f);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Re(t,n,b,l,r,null)}return;case"dialog":he("beforetoggle",t),he("toggle",t),he("cancel",t),he("close",t);break;case"iframe":case"object":he("load",t);break;case"video":case"audio":for(l=0;l<Ca.length;l++)he(Ca[l],t);break;case"image":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"embed":case"source":case"link":he("error",t),he("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in r)if(r.hasOwnProperty(x)&&(l=r[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Re(t,n,x,l,r,null)}return;default:if(hc(n)){for(k in r)r.hasOwnProperty(k)&&(l=r[k],l!==void 0&&Jf(t,n,k,l,r,void 0));return}}for(y in r)r.hasOwnProperty(y)&&(l=r[y],l!=null&&Re(t,n,y,l,r,null))}function SC(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,y=null,b=null,x=null,k=null;for(I in r){var U=r[I];if(r.hasOwnProperty(I)&&U!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":b=U;default:l.hasOwnProperty(I)||Re(t,n,I,null,l,U)}}for(var D in l){var I=l[D];if(U=r[D],l.hasOwnProperty(D)&&(I!=null||U!=null))switch(D){case"type":f=I;break;case"name":c=I;break;case"checked":x=I;break;case"defaultChecked":k=I;break;case"value":g=I;break;case"defaultValue":y=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:I!==U&&Re(t,n,D,I,l,U)}}cc(t,g,y,b,x,k,f,c);return;case"select":I=g=y=D=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":I=b;default:l.hasOwnProperty(f)||Re(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":D=f;break;case"defaultValue":y=f;break;case"multiple":g=f;default:f!==b&&Re(t,n,c,f,l,b)}n=y,r=g,l=I,D!=null?ks(t,!!r,D,!1):!!l!=!!r&&(n!=null?ks(t,!!r,n,!0):ks(t,!!r,r?[]:"",!1));return;case"textarea":I=D=null;for(y in r)if(c=r[y],r.hasOwnProperty(y)&&c!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Re(t,n,y,null,l,c)}for(g in l)if(c=l[g],f=r[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":D=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Re(t,n,g,c,l,f)}Bp(t,D,I);return;case"option":for(var F in r)if(D=r[F],r.hasOwnProperty(F)&&D!=null&&!l.hasOwnProperty(F))switch(F){case"selected":t.selected=!1;break;default:Re(t,n,F,null,l,D)}for(b in l)if(D=l[b],I=r[b],l.hasOwnProperty(b)&&D!==I&&(D!=null||I!=null))switch(b){case"selected":t.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Re(t,n,b,D,l,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $ in r)D=r[$],r.hasOwnProperty($)&&D!=null&&!l.hasOwnProperty($)&&Re(t,n,$,null,l,D);for(x in l)if(D=l[x],I=r[x],l.hasOwnProperty(x)&&D!==I&&(D!=null||I!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:Re(t,n,x,D,l,I)}return;default:if(hc(n)){for(var Ne in r)D=r[Ne],r.hasOwnProperty(Ne)&&D!==void 0&&!l.hasOwnProperty(Ne)&&Jf(t,n,Ne,void 0,l,D);for(k in l)D=l[k],I=r[k],!l.hasOwnProperty(k)||D===I||D===void 0&&I===void 0||Jf(t,n,k,D,l,I);return}}for(var A in r)D=r[A],r.hasOwnProperty(A)&&D!=null&&!l.hasOwnProperty(A)&&Re(t,n,A,null,l,D);for(U in l)D=l[U],I=r[U],!l.hasOwnProperty(U)||D===I||D==null&&I==null||Re(t,n,U,D,l,I)}function F_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],f=c.transferSize,g=c.initiatorType,y=c.duration;if(f&&y&&F_(g)){for(g=0,y=c.responseEnd,l+=1;l<r.length;l++){var b=r[l],x=b.startTime;if(x>y)break;var k=b.transferSize,U=b.initiatorType;k&&F_(U)&&(b=b.responseEnd,g+=k*(b<y?1:(y-x)/(b-x)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var eh=null,th=null;function Io(t){return t.nodeType===9?t:t.ownerDocument}function Y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function nh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ih=null;function CC(){var t=window.event;return t&&t.type==="popstate"?t===ih?!1:(ih=t,!0):(ih=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,TC=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(t){return X_.resolve(null).then(t).catch(AC)}:K_;function AC(t){setTimeout(function(){throw t})}function wi(t){return t==="head"}function W_(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(c),hr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")wa(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,wa(r);for(var f=r.firstChild;f;){var g=f.nextSibling,y=f.nodeName;f[Vr]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&wa(t.ownerDocument.body);r=c}while(r);hr(n)}function $_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function sh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":sh(r),oc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function RC(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function NC(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=en(t.nextSibling),t===null))return null;return t}function Z_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=en(t.nextSibling),t===null))return null;return t}function rh(t){return t.data==="$?"||t.data==="$~"}function ah(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xC(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function en(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var lh=null;function J_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return en(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function ey(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function ty(t,n,r){switch(n=Io(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function wa(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);oc(t)}var tn=new Map,ny=new Set;function Mo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yn=V.d;V.d={f:OC,r:DC,D:IC,C:MC,L:kC,m:LC,X:zC,S:UC,M:PC};function OC(){var t=Yn.f(),n=To();return t||n}function DC(t){var n=Ds(t);n!==null&&n.tag===5&&n.type==="form"?vg(n):Yn.r(t)}var ur=typeof document>"u"?null:document;function iy(t,n,r){var l=ur;if(l&&typeof n=="string"&&n){var c=Qt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ny.has(c)||(ny.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),dt(n,"link",t),rt(n),l.head.appendChild(n)))}}function IC(t){Yn.D(t),iy("dns-prefetch",t,null)}function MC(t,n){Yn.C(t,n),iy("preconnect",t,n)}function kC(t,n,r){Yn.L(t,n,r);var l=ur;if(l&&t&&n){var c='link[rel="preload"][as="'+Qt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Qt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Qt(r.imageSizes)+'"]')):c+='[href="'+Qt(t)+'"]';var f=c;switch(n){case"style":f=cr(t);break;case"script":f=fr(t)}tn.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),tn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Aa(f))||n==="script"&&l.querySelector(Ra(f))||(n=l.createElement("link"),dt(n,"link",t),rt(n),l.head.appendChild(n)))}}function LC(t,n){Yn.m(t,n);var r=ur;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Qt(l)+'"][href="'+Qt(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fr(t)}if(!tn.has(f)&&(t=E({rel:"modulepreload",href:t},n),tn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ra(f)))return}l=r.createElement("link"),dt(l,"link",t),rt(l),r.head.appendChild(l)}}}function UC(t,n,r){Yn.S(t,n,r);var l=ur;if(l&&t){var c=Is(l).hoistableStyles,f=cr(t);n=n||"default";var g=c.get(f);if(!g){var y={loading:0,preload:null};if(g=l.querySelector(Aa(f)))y.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=tn.get(f))&&oh(t,r);var b=g=l.createElement("link");rt(b),dt(b,"link",t),b._p=new Promise(function(x,k){b.onload=x,b.onerror=k}),b.addEventListener("load",function(){y.loading|=1}),b.addEventListener("error",function(){y.loading|=2}),y.loading|=4,ko(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(f,g)}}}function zC(t,n){Yn.X(t,n);var r=ur;if(r&&t){var l=Is(r).hoistableScripts,c=fr(t),f=l.get(c);f||(f=r.querySelector(Ra(c)),f||(t=E({src:t,async:!0},n),(n=tn.get(c))&&uh(t,n),f=r.createElement("script"),rt(f),dt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function PC(t,n){Yn.M(t,n);var r=ur;if(r&&t){var l=Is(r).hoistableScripts,c=fr(t),f=l.get(c);f||(f=r.querySelector(Ra(c)),f||(t=E({src:t,async:!0,type:"module"},n),(n=tn.get(c))&&uh(t,n),f=r.createElement("script"),rt(f),dt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sy(t,n,r,l){var c=(c=ce.current)?Mo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=cr(r.href),r=Is(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=cr(r.href);var f=Is(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Aa(t)))&&!f._p&&(g.instance=f,g.state.loading=5),tn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},tn.set(t,r),f||jC(c,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fr(r),r=Is(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function cr(t){return'href="'+Qt(t)+'"'}function Aa(t){return'link[rel="stylesheet"]['+t+"]"}function ry(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function jC(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),dt(n,"link",r),rt(n),t.head.appendChild(n))}function fr(t){return'[src="'+Qt(t)+'"]'}function Ra(t){return"script[async]"+t}function ay(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Qt(r.href)+'"]');if(l)return n.instance=l,rt(l),l;var c=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),rt(l),dt(l,"style",c),ko(l,r.precedence,t),n.instance=l;case"stylesheet":c=cr(r.href);var f=t.querySelector(Aa(c));if(f)return n.state.loading|=4,n.instance=f,rt(f),f;l=ry(r),(c=tn.get(c))&&oh(l,c),f=(t.ownerDocument||t).createElement("link"),rt(f);var g=f;return g._p=new Promise(function(y,b){g.onload=y,g.onerror=b}),dt(f,"link",l),n.state.loading|=4,ko(f,r.precedence,t),n.instance=f;case"script":return f=fr(r.src),(c=t.querySelector(Ra(f)))?(n.instance=c,rt(c),c):(l=r,(c=tn.get(f))&&(l=E({},r),uh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),rt(c),dt(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ko(l,r.precedence,t));return n.instance}function ko(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var y=l[g];if(y.dataset.precedence===n)f=y;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function oh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function uh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Lo=null;function ly(t,n,r){if(Lo===null){var l=new Map,c=Lo=new Map;c.set(r,l)}else c=Lo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Vr]||f[ut]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var y=l.get(g);y?y.push(f):l.set(g,[f])}}return l}function oy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function HC(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function BC(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=cr(l.href),f=n.querySelector(Aa(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uo.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,rt(f);return}f=n.ownerDocument||n,l=ry(l),(c=tn.get(c))&&oh(l,c),f=f.createElement("link"),rt(f);var g=f;g._p=new Promise(function(y,b){g.onload=y,g.onerror=b}),dt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Uo.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var ch=0;function qC(t,n){return t.stylesheets&&t.count===0&&Po(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Po(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&ch===0&&(ch=62500*bC());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Po(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>ch?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Uo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Po(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zo=null;function Po(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zo=new Map,n.forEach(VC,t),zo=null,Uo.call(t))}function VC(t,n){if(!(n.state.loading&4)){var r=zo.get(t);if(r)var l=r.get(null);else{r=new Map,zo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,c),r.set(g,c),this.count++,l=Uo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Na={$$typeof:K,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function GC(t,n,r,l,c,f,g,y,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sc(0),this.hiddenUpdates=sc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function cy(t,n,r,l,c,f,g,y,b,x,k,U){return t=new GC(t,n,r,g,b,x,k,U,y),n=1,f===!0&&(n|=24),f=jt(3,null,null,n),t.current=f,f.stateNode=t,n=qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Yc(f),t}function fy(t){return t?(t=qs,t):qs}function hy(t,n,r,l,c,f){c=fy(c),l.context===null?l.context=c:l.pendingContext=c,l=pi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=mi(t,l,n),r!==null&&(It(r,t,n),aa(r,t,n))}function dy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function fh(t,n){dy(t,n),(t=t.alternate)&&dy(t,n)}function py(t){if(t.tag===13||t.tag===31){var n=ts(t,67108864);n!==null&&It(n,t,67108864),fh(t,67108864)}}function my(t){if(t.tag===13||t.tag===31){var n=Gt();n=rc(n);var r=ts(t,n);r!==null&&It(r,t,n),fh(t,n)}}var jo=!0;function FC(t,n,r,l){var c=M.T;M.T=null;var f=V.p;try{V.p=2,hh(t,n,r,l)}finally{V.p=f,M.T=c}}function YC(t,n,r,l){var c=M.T;M.T=null;var f=V.p;try{V.p=8,hh(t,n,r,l)}finally{V.p=f,M.T=c}}function hh(t,n,r,l){if(jo){var c=dh(l);if(c===null)Zf(t,n,l,Ho,r),_y(t,l);else if(KC(c,t,n,r,l))l.stopPropagation();else if(_y(t,l),n&4&&-1<QC.indexOf(t)){for(;c!==null;){var f=Ds(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wi(f.pendingLanes);if(g!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var b=1<<31-zt(g);y.entanglements[1]|=b,g&=~b}vn(f),(Ee&6)===0&&(bo=Lt()+500,ba(0))}}break;case 31:case 13:y=ts(f,2),y!==null&&It(y,f,2),To(),fh(f,2)}if(f=dh(l),f===null&&Zf(t,n,l,Ho,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Zf(t,n,l,null,r)}}function dh(t){return t=pc(t),ph(t)}var Ho=null;function ph(t){if(Ho=null,t=Os(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=h(n),t!==null)return t;t=null}else if(r===31){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ho=t,null}function gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ib()){case Tp:return 2;case wp:return 8;case Nl:case Mb:return 32;case Ap:return 268435456;default:return 32}default:return 32}}var mh=!1,Ai=null,Ri=null,Ni=null,xa=new Map,Oa=new Map,xi=[],QC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _y(t,n){switch(t){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":xa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(n.pointerId)}}function Da(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ds(n),n!==null&&py(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function KC(t,n,r,l,c){switch(n){case"focusin":return Ai=Da(Ai,t,n,r,l,c),!0;case"dragenter":return Ri=Da(Ri,t,n,r,l,c),!0;case"mouseover":return Ni=Da(Ni,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return xa.set(f,Da(xa.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Oa.set(f,Da(Oa.get(f)||null,t,n,r,l,c)),!0}return!1}function yy(t){var n=Os(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=h(r),n!==null){t.blockedOn=n,Ip(t.priority,function(){my(r)});return}}else if(n===31){if(n=d(r),n!==null){t.blockedOn=n,Ip(t.priority,function(){my(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=dh(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);dc=l,r.target.dispatchEvent(l),dc=null}else return n=Ds(r),n!==null&&py(n),t.blockedOn=r,!1;n.shift()}return!0}function vy(t,n,r){Bo(t)&&r.delete(n)}function XC(){mh=!1,Ai!==null&&Bo(Ai)&&(Ai=null),Ri!==null&&Bo(Ri)&&(Ri=null),Ni!==null&&Bo(Ni)&&(Ni=null),xa.forEach(vy),Oa.forEach(vy)}function qo(t,n){t.blockedOn===n&&(t.blockedOn=null,mh||(mh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,XC)))}var Vo=null;function Ey(t){Vo!==t&&(Vo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vo===t&&(Vo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ph(l||r)===null)continue;break}var f=Ds(r);f!==null&&(t.splice(n,3),n-=3,df(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function hr(t){function n(b){return qo(b,t)}Ai!==null&&qo(Ai,t),Ri!==null&&qo(Ri,t),Ni!==null&&qo(Ni,t),xa.forEach(n),Oa.forEach(n);for(var r=0;r<xi.length;r++){var l=xi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<xi.length&&(r=xi[0],r.blockedOn===null);)yy(r),r.blockedOn===null&&xi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],g=c[At]||null;if(typeof f=="function")g||Ey(r);else if(g){var y=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[At]||null)y=g.formAction;else if(ph(c)!==null)continue}else y=g.action;typeof y=="function"?r[l+1]=y:(r.splice(l,3),l-=3),Ey(r)}}}function Sy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function gh(t){this._internalRoot=t}Go.prototype.render=gh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Gt();hy(r,l,t,n,null,null)},Go.prototype.unmount=gh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;hy(t.current,2,null,t,null,null),To(),n[xs]=null}};function Go(t){this._internalRoot=t}Go.prototype.unstable_scheduleHydration=function(t){if(t){var n=Dp();t={blockedOn:null,target:t,priority:n};for(var r=0;r<xi.length&&n!==0&&n<xi[r].priority;r++);xi.splice(r,0,t),r===0&&yy(t)}};var by=e.version;if(by!=="19.2.0")throw Error(a(527,by,"19.2.0"));V.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var WC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{Hr=Fo.inject(WC),Ut=Fo}catch{}}return Ma.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=xg,f=Og,g=Dg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=cy(t,1,!1,null,null,r,l,null,c,f,g,Sy),t[xs]=n.current,$f(t),new gh(n)},Ma.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=xg,g=Og,y=Dg,b=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError),r.formState!==void 0&&(b=r.formState)),n=cy(t,1,!0,n,r??null,l,c,b,f,g,y,Sy),n.context=fy(null),r=n.current,l=Gt(),l=rc(l),c=pi(l),c.callback=null,mi(r,c,l),r=l,n.current.lanes=r,qr(n,r),vn(n),t[xs]=n.current,$f(t),new Go(n)},Ma.version="19.2.0",Ma}var Iy;function aT(){if(Iy)return vh.exports;Iy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vh.exports=rT(),vh.exports}var lT=aT();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var My="popstate";function oT(s={}){function e(a,o){let{pathname:u,search:h,hash:d}=a.location;return jh("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:Ka(o)}return cT(e,i,null,s)}function qe(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function hn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uT(){return Math.random().toString(36).substring(2,10)}function ky(s,e){return{usr:s.state,key:s.key,idx:e}}function jh(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Nr(e):e,state:i,key:e&&e.key||a||uT()}}function Ka({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Nr(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function cT(s,e,i,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,d="POP",m=null,p=_();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function _(){return(h.state||{idx:null}).idx}function E(){d="POP";let j=_(),H=j==null?null:j-p;p=j,m&&m({action:d,location:P.location,delta:H})}function v(j,H){d="PUSH";let B=jh(P.location,j,H);p=_()+1;let K=ky(B,p),ae=P.createHref(B);try{h.pushState(K,"",ae)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(ae)}u&&m&&m({action:d,location:P.location,delta:1})}function R(j,H){d="REPLACE";let B=jh(P.location,j,H);p=_();let K=ky(B,p),ae=P.createHref(B);h.replaceState(K,"",ae),u&&m&&m({action:d,location:P.location,delta:0})}function O(j){return fT(j)}let P={get action(){return d},get location(){return s(o,h)},listen(j){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(My,E),m=j,()=>{o.removeEventListener(My,E),m=null}},createHref(j){return e(o,j)},createURL:O,encodeLocation(j){let H=O(j);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:v,replace:R,go(j){return h.go(j)}};return P}function fT(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),qe(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Ka(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Zv(s,e,i="/"){return hT(s,e,i,!1)}function hT(s,e,i,a){let o=typeof e=="string"?Nr(e):e,u=Jn(o.pathname||"/",i);if(u==null)return null;let h=Jv(s);dT(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let p=TT(u);d=bT(h[m],p,a)}return d}function Jv(s,e=[],i=[],a="",o=!1){let u=(h,d,m=o,p)=>{let _={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&m)return;qe(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let E=Wn([a,_.relativePath]),v=i.concat(_);h.children&&h.children.length>0&&(qe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Jv(h.children,e,v,E,m)),!(h.path==null&&!h.index)&&e.push({path:E,score:ET(E,h.index),routesMeta:v})};return s.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))u(h,d);else for(let m of eE(h.path))u(h,d,!0,m)}),e}function eE(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=eE(a.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...h),d.map(m=>s.startsWith("/")&&m===""?"/":m)}function dT(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:ST(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var pT=/^:[\w-]+$/,mT=3,gT=2,_T=1,yT=10,vT=-2,Ly=s=>s==="*";function ET(s,e){let i=s.split("/"),a=i.length;return i.some(Ly)&&(a+=vT),e&&(a+=gT),i.filter(o=>!Ly(o)).reduce((o,u)=>o+(pT.test(u)?mT:u===""?_T:yT),a)}function ST(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function bT(s,e,i=!1){let{routesMeta:a}=s,o={},u="/",h=[];for(let d=0;d<a.length;++d){let m=a[d],p=d===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",E=iu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),v=m.route;if(!E&&p&&i&&!a[a.length-1].route.index&&(E=iu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:Wn([u,E.pathname]),pathnameBase:NT(Wn([u,E.pathnameBase])),route:v}),E.pathnameBase!=="/"&&(u=Wn([u,E.pathnameBase]))}return h}function iu(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=CT(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((p,{paramName:_,isOptional:E},v)=>{if(_==="*"){let O=d[v]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const R=d[v];return E&&!R?p[_]=void 0:p[_]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:s}}function CT(s,e=!1,i=!0){hn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function TT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Jn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function wT(s,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?Nr(s):s;return{pathname:i?i.startsWith("/")?i:AT(i,e):e,search:xT(a),hash:OT(o)}}function AT(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ch(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function hd(s){let e=RT(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function dd(s,e,i,a=!1){let o;typeof s=="string"?o=Nr(s):(o={...s},qe(!o.pathname||!o.pathname.includes("?"),Ch("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),Ch("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),Ch("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=i;else{let E=e.length-1;if(!a&&h.startsWith("..")){let v=h.split("/");for(;v[0]==="..";)v.shift(),E-=1;o.pathname=v.join("/")}d=E>=0?e[E]:"/"}let m=wT(o,d),p=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var Wn=s=>s.join("/").replace(/\/\/+/g,"/"),NT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),xT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,OT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function DT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var tE=["POST","PUT","PATCH","DELETE"];new Set(tE);var IT=["GET",...tE];new Set(IT);var xr=w.createContext(null);xr.displayName="DataRouter";var Du=w.createContext(null);Du.displayName="DataRouterState";w.createContext(!1);var nE=w.createContext({isTransitioning:!1});nE.displayName="ViewTransition";var MT=w.createContext(new Map);MT.displayName="Fetchers";var kT=w.createContext(null);kT.displayName="Await";var pn=w.createContext(null);pn.displayName="Navigation";var fl=w.createContext(null);fl.displayName="Location";var mn=w.createContext({outlet:null,matches:[],isDataRoute:!1});mn.displayName="Route";var pd=w.createContext(null);pd.displayName="RouteError";function LT(s,{relative:e}={}){qe(Or(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=w.useContext(pn),{hash:o,pathname:u,search:h}=hl(s,{relative:e}),d=u;return i!=="/"&&(d=u==="/"?i:Wn([i,u])),a.createHref({pathname:d,search:h,hash:o})}function Or(){return w.useContext(fl)!=null}function ii(){return qe(Or(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(fl).location}var iE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sE(s){w.useContext(pn).static||w.useLayoutEffect(s)}function Tn(){let{isDataRoute:s}=w.useContext(mn);return s?KT():UT()}function UT(){qe(Or(),"useNavigate() may be used only in the context of a <Router> component.");let s=w.useContext(xr),{basename:e,navigator:i}=w.useContext(pn),{matches:a}=w.useContext(mn),{pathname:o}=ii(),u=JSON.stringify(hd(a)),h=w.useRef(!1);return sE(()=>{h.current=!0}),w.useCallback((m,p={})=>{if(hn(h.current,iE),!h.current)return;if(typeof m=="number"){i.go(m);return}let _=dd(m,JSON.parse(u),o,p.relative==="path");s==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Wn([e,_.pathname])),(p.replace?i.replace:i.push)(_,p.state,p)},[e,i,u,o,s])}w.createContext(null);function rE(){let{matches:s}=w.useContext(mn),e=s[s.length-1];return e?e.params:{}}function hl(s,{relative:e}={}){let{matches:i}=w.useContext(mn),{pathname:a}=ii(),o=JSON.stringify(hd(i));return w.useMemo(()=>dd(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function zT(s,e){return aE(s,e)}function aE(s,e,i,a,o){qe(Or(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=w.useContext(pn),{matches:h}=w.useContext(mn),d=h[h.length-1],m=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",E=d&&d.route;{let B=E&&E.path||"";lE(p,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let v=ii(),R;if(e){let B=typeof e=="string"?Nr(e):e;qe(_==="/"||B.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${B.pathname}" was given in the \`location\` prop.`),R=B}else R=v;let O=R.pathname||"/",P=O;if(_!=="/"){let B=_.replace(/^\//,"").split("/");P="/"+O.replace(/^\//,"").split("/").slice(B.length).join("/")}let j=Zv(s,{pathname:P});hn(E||j!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),hn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=qT(j&&j.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Wn([_,u.encodeLocation?u.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?_:Wn([_,u.encodeLocation?u.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,i,a,o);return e&&H?w.createElement(fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},H):H}function PT(){let s=QT(),e=DT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),i?w.createElement("pre",{style:o},i):null,h)}var jT=w.createElement(PT,null),HT=class extends w.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?w.createElement(mn.Provider,{value:this.props.routeContext},w.createElement(pd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BT({routeContext:s,match:e,children:i}){let a=w.useContext(xr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(mn.Provider,{value:s},i)}function qT(s,e=[],i=null,a=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let u=s,h=i?.errors;if(h!=null){let p=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);qe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let d=!1,m=-1;if(i)for(let p=0;p<u.length;p++){let _=u[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:E,errors:v}=i,R=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!v||v[_.route.id]===void 0);if(_.route.lazy||R){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((p,_,E)=>{let v,R=!1,O=null,P=null;i&&(v=h&&_.route.id?h[_.route.id]:void 0,O=_.route.errorElement||jT,d&&(m<0&&E===0?(lE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,P=null):m===E&&(R=!0,P=_.route.hydrateFallbackElement||null)));let j=e.concat(u.slice(0,E+1)),H=()=>{let B;return v?B=O:R?B=P:_.route.Component?B=w.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=p,w.createElement(BT,{match:_,routeContext:{outlet:p,matches:j,isDataRoute:i!=null},children:B})};return i&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?w.createElement(HT,{location:i.location,revalidation:i.revalidation,component:O,error:v,children:H(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:a}):H()},null)}function md(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VT(s){let e=w.useContext(xr);return qe(e,md(s)),e}function GT(s){let e=w.useContext(Du);return qe(e,md(s)),e}function FT(s){let e=w.useContext(mn);return qe(e,md(s)),e}function gd(s){let e=FT(s),i=e.matches[e.matches.length-1];return qe(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function YT(){return gd("useRouteId")}function QT(){let s=w.useContext(pd),e=GT("useRouteError"),i=gd("useRouteError");return s!==void 0?s:e.errors?.[i]}function KT(){let{router:s}=VT("useNavigate"),e=gd("useNavigate"),i=w.useRef(!1);return sE(()=>{i.current=!0}),w.useCallback(async(o,u={})=>{hn(i.current,iE),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var Uy={};function lE(s,e,i){!e&&!Uy[s]&&(Uy[s]=!0,hn(!1,i))}w.memo(XT);function XT({routes:s,future:e,state:i,unstable_onError:a}){return aE(s,void 0,i,a,e)}function WT({to:s,replace:e,state:i,relative:a}){qe(Or(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(pn);hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=w.useContext(mn),{pathname:h}=ii(),d=Tn(),m=dd(s,hd(u),h,a==="path"),p=JSON.stringify(m);return w.useEffect(()=>{d(JSON.parse(p),{replace:e,state:i,relative:a})},[d,p,a,e,i]),null}function En(s){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $T({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:u=!1}){qe(!Or(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof i=="string"&&(i=Nr(i));let{pathname:m="/",search:p="",hash:_="",state:E=null,key:v="default"}=i,R=w.useMemo(()=>{let O=Jn(m,h);return O==null?null:{location:{pathname:O,search:p,hash:_,state:E,key:v},navigationType:a}},[h,m,p,_,E,v,a]);return hn(R!=null,`<Router basename="${h}"> is not able to match the URL "${m}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:w.createElement(pn.Provider,{value:d},w.createElement(fl.Provider,{children:e,value:R}))}function ZT({children:s,location:e}){return zT(Hh(s),e)}function Hh(s,e=[]){let i=[];return w.Children.forEach(s,(a,o)=>{if(!w.isValidElement(a))return;let u=[...e,o];if(a.type===w.Fragment){i.push.apply(i,Hh(a.props.children,u));return}qe(a.type===En,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Hh(a.props.children,u)),i.push(h)}),i}var Wo="get",$o="application/x-www-form-urlencoded";function Iu(s){return s!=null&&typeof s.tagName=="string"}function JT(s){return Iu(s)&&s.tagName.toLowerCase()==="button"}function e1(s){return Iu(s)&&s.tagName.toLowerCase()==="form"}function t1(s){return Iu(s)&&s.tagName.toLowerCase()==="input"}function n1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function i1(s,e){return s.button===0&&(!e||e==="_self")&&!n1(s)}var Yo=null;function s1(){if(Yo===null)try{new FormData(document.createElement("form"),0),Yo=!1}catch{Yo=!0}return Yo}var r1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Th(s){return s!=null&&!r1.has(s)?(hn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$o}"`),null):s}function a1(s,e){let i,a,o,u,h;if(e1(s)){let d=s.getAttribute("action");a=d?Jn(d,e):null,i=s.getAttribute("method")||Wo,o=Th(s.getAttribute("enctype"))||$o,u=new FormData(s)}else if(JT(s)||t1(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||d.getAttribute("action");if(a=m?Jn(m,e):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||Wo,o=Th(s.getAttribute("formenctype"))||Th(d.getAttribute("enctype"))||$o,u=new FormData(d,s),!s1()){let{name:p,type:_,value:E}=s;if(_==="image"){let v=p?`${p}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else p&&u.append(p,E)}}else{if(Iu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Wo,a=null,o=$o,h=s}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _d(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function l1(s,e,i){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${i}`:e&&Jn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function o1(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function c1(s,e,i){let a=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await o1(u,i);return h.links?h.links():[]}return[]}));return p1(a.flat(1).filter(u1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zy(s,e,i,a,o,u){let h=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,d=(m,p)=>i[p].pathname!==m.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,p)=>h(m,p)||d(m,p)):u==="data"?e.filter((m,p)=>{let _=a.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(h(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function f1(s,e,{includeHydrateFallback:i}={}){return h1(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function h1(s){return[...new Set(s)]}function d1(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function p1(s,e){let i=new Set;return new Set(e),s.reduce((a,o)=>{let u=JSON.stringify(d1(o));return i.has(u)||(i.add(u),a.push({key:u,link:o})),a},[])}function oE(){let s=w.useContext(xr);return _d(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function m1(){let s=w.useContext(Du);return _d(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var yd=w.createContext(void 0);yd.displayName="FrameworkContext";function uE(){let s=w.useContext(yd);return _d(s,"You must render this element inside a <HydratedRouter> element"),s}function g1(s,e){let i=w.useContext(yd),[a,o]=w.useState(!1),[u,h]=w.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:E}=e,v=w.useRef(null);w.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let P=H=>{H.forEach(B=>{h(B.isIntersecting)})},j=new IntersectionObserver(P,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[s]),w.useEffect(()=>{if(a){let P=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(P)}}},[a]);let R=()=>{o(!0)},O=()=>{o(!1),h(!1)};return i?s!=="intent"?[u,v,{}]:[u,v,{onFocus:ka(d,R),onBlur:ka(m,O),onMouseEnter:ka(p,R),onMouseLeave:ka(_,O),onTouchStart:ka(E,R)}]:[!1,v,{}]}function ka(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function _1({page:s,...e}){let{router:i}=oE(),a=w.useMemo(()=>Zv(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?w.createElement(v1,{page:s,matches:a,...e}):null}function y1(s){let{manifest:e,routeModules:i}=uE(),[a,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return c1(s,e,i).then(h=>{u||o(h)}),()=>{u=!0}},[s,e,i]),a}function v1({page:s,matches:e,...i}){let a=ii(),{manifest:o,routeModules:u}=uE(),{basename:h}=oE(),{loaderData:d,matches:m}=m1(),p=w.useMemo(()=>zy(s,e,m,o,a,"data"),[s,e,m,o,a]),_=w.useMemo(()=>zy(s,e,m,o,a,"assets"),[s,e,m,o,a]),E=w.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let O=new Set,P=!1;if(e.forEach(H=>{let B=o.routes[H.route.id];!B||!B.hasLoader||(!p.some(K=>K.route.id===H.route.id)&&H.route.id in d&&u[H.route.id]?.shouldRevalidate||B.hasClientLoader?P=!0:O.add(H.route.id))}),O.size===0)return[];let j=l1(s,h,"data");return P&&O.size>0&&j.searchParams.set("_routes",e.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[j.pathname+j.search]},[h,d,a,o,p,e,s,u]),v=w.useMemo(()=>f1(_,o),[_,o]),R=y1(_);return w.createElement(w.Fragment,null,E.map(O=>w.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...i})),v.map(O=>w.createElement("link",{key:O,rel:"modulepreload",href:O,...i})),R.map(({key:O,link:P})=>w.createElement("link",{key:O,nonce:i.nonce,...P})))}function E1(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cE&&(window.__reactRouterVersion="7.9.4")}catch{}function S1({basename:s,children:e,window:i}){let a=w.useRef();a.current==null&&(a.current=oT({window:i,v5Compat:!0}));let o=a.current,[u,h]=w.useState({action:o.action,location:o.location}),d=w.useCallback(m=>{w.startTransition(()=>h(m))},[h]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.createElement($T,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:o})}var fE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hE=w.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:d,target:m,to:p,preventScrollReset:_,viewTransition:E,...v},R){let{basename:O}=w.useContext(pn),P=typeof p=="string"&&fE.test(p),j,H=!1;if(typeof p=="string"&&P&&(j=p,cE))try{let Ue=new URL(window.location.href),gt=p.startsWith("//")?new URL(Ue.protocol+p):new URL(p),Et=Jn(gt.pathname,O);gt.origin===Ue.origin&&Et!=null?p=Et+gt.search+gt.hash:H=!0}catch{hn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=LT(p,{relative:o}),[K,ae,ge]=g1(a,v),Le=T1(p,{replace:h,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:E});function ee(Ue){e&&e(Ue),Ue.defaultPrevented||Le(Ue)}let Ie=w.createElement("a",{...v,...ge,href:j||B,onClick:H||u?e:ee,ref:E1(R,ae),target:m,"data-discover":!P&&i==="render"?"true":void 0});return K&&!P?w.createElement(w.Fragment,null,Ie,w.createElement(_1,{page:B})):Ie});hE.displayName="Link";var zi=w.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:d,children:m,...p},_){let E=hl(h,{relative:p.relative}),v=ii(),R=w.useContext(Du),{navigator:O,basename:P}=w.useContext(pn),j=R!=null&&x1(E)&&d===!0,H=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,B=v.pathname,K=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(B=B.toLowerCase(),K=K?K.toLowerCase():null,H=H.toLowerCase()),K&&P&&(K=Jn(K,P)||K);const ae=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ge=B===H||!o&&B.startsWith(H)&&B.charAt(ae)==="/",Le=K!=null&&(K===H||!o&&K.startsWith(H)&&K.charAt(H.length)==="/"),ee={isActive:ge,isPending:Le,isTransitioning:j},Ie=ge?e:void 0,Ue;typeof a=="function"?Ue=a(ee):Ue=[a,ge?"active":null,Le?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let gt=typeof u=="function"?u(ee):u;return w.createElement(hE,{...p,"aria-current":Ie,className:Ue,ref:_,style:gt,to:h,viewTransition:d},typeof m=="function"?m(ee):m)});zi.displayName="NavLink";var b1=w.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:u,method:h=Wo,action:d,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:E,...v},R)=>{let O=R1(),P=N1(d,{relative:p}),j=h.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&fE.test(d),B=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let ae=K.nativeEvent.submitter,ge=ae?.getAttribute("formmethod")||h;O(ae||K.currentTarget,{fetcherKey:e,method:ge,navigate:i,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:E})};return w.createElement("form",{ref:R,method:j,action:P,onSubmit:a?m:B,...v,"data-discover":!H&&s==="render"?"true":void 0})});b1.displayName="Form";function C1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dE(s){let e=w.useContext(xr);return qe(e,C1(s)),e}function T1(s,{target:e,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Tn(),m=ii(),p=hl(s,{relative:u});return w.useCallback(_=>{if(i1(_,e)){_.preventDefault();let E=i!==void 0?i:Ka(m)===Ka(p);d(s,{replace:E,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[m,d,p,i,a,e,s,o,u,h])}var w1=0,A1=()=>`__${String(++w1)}__`;function R1(){let{router:s}=dE("useSubmit"),{basename:e}=w.useContext(pn),i=YT();return w.useCallback(async(a,o={})=>{let{action:u,method:h,encType:d,formData:m,body:p}=a1(a,e);if(o.navigate===!1){let _=o.fetcherKey||A1();await s.fetch(_,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function N1(s,{relative:e}={}){let{basename:i}=w.useContext(pn),a=w.useContext(mn);qe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...hl(s||".",{relative:e})},h=ii();if(s==null){u.search=h.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();u.search=_?`?${_}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Wn([i,u.pathname])),Ka(u)}function x1(s,{relative:e}={}){let i=w.useContext(nE);qe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=dE("useViewTransitionState"),o=hl(s,{relative:e});if(!i.isTransitioning)return!1;let u=Jn(i.currentLocation.pathname,a)||i.currentLocation.pathname,h=Jn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return iu(o.pathname,h)!=null||iu(o.pathname,u)!=null}function pE({user:s}){const e=Tn();function i(){e(`/users/${s.id}`)}return S.jsxs("article",{className:"user-card",onClick:i,children:[S.jsx("img",{src:s.image||"https://placehold.co/600x400?text=No+Image",alt:s.displayName||"Child Profile"}),S.jsxs("h2",{children:[s.displayName," "]}),S.jsx("p",{children:s.email}),s.hasOwnProperty("points")&&S.jsxs("p",{children:["Points: ",s.points]})]})}const O1=()=>{};var Py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(s,e){if(!s)throw Dr(e)},Dr=function(s){return new Error("Firebase Database ("+mE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},D1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],h=s[i++],d=s[i++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=s[i++],h=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},vd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,d=h?s[o+1]:0,m=o+2<s.length,p=m?s[o+2]:0,_=u>>2,E=(u&3)<<4|d>>4;let v=(d&15)<<2|p>>6,R=p&63;m||(R=64,h||(v=64)),a.push(i[_],i[E],i[v],i[R])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(gE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):D1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const E=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||d==null||p==null||E==null)throw new I1;const v=u<<2|d>>4;if(a.push(v),p!==64){const R=d<<4&240|p>>2;if(a.push(R),E!==64){const O=p<<6&192|E;a.push(O)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class I1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _E=function(s){const e=gE(s);return vd.encodeByteArray(e,!0)},su=function(s){return _E(s).replace(/\./g,"")},ru=function(s){try{return vd.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(s){return yE(void 0,s)}function yE(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!k1(i)||(s[i]=yE(s[i],e[i]));return s}function k1(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=()=>L1().__FIREBASE_DEFAULTS__,z1=()=>{if(typeof process>"u"||typeof Py>"u")return;const s=Py.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},P1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ru(s[1]);return e&&JSON.parse(e)},Ed=()=>{try{return O1()||U1()||z1()||P1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},vE=s=>Ed()?.emulatorHosts?.[s],EE=s=>{const e=vE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},SE=()=>Ed()?.config,bE=s=>Ed()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sd(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[su(JSON.stringify(i)),su(JSON.stringify(h)),""].join(".")}const Ba={};function H1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ba))Ba[e]?s.emulator.push(e):s.prod.push(e);return s}function B1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let jy=!1;function bd(s,e){if(typeof window>"u"||typeof document>"u"||!Qi(window.location.host)||Ba[s]===e||Ba[s]||jy)return;Ba[s]=e;function i(v){return`__firebase__banner__${v}`}const a="__firebase__banner",u=H1().prod.length>0;function h(){const v=document.getElementById(a);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,R){v.setAttribute("width","24"),v.setAttribute("id",R),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{jy=!0,h()},v}function _(v,R){v.setAttribute("id",R),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function E(){const v=B1(a),R=i("text"),O=document.getElementById(R)||document.createElement("span"),P=i("learnmore"),j=document.getElementById(P)||document.createElement("a"),H=i("preprendIcon"),B=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const K=v.element;d(K),_(j,P);const ae=p();m(B,H),K.append(B,O,j,ae),document.body.appendChild(K)}u?(O.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function q1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function CE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G1(){const s=wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function F1(){return mE.NODE_ADMIN===!0}function Y1(){try{return typeof indexedDB=="object"}catch{return!1}}function Q1(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="FirebaseError";class si extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=K1,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?X1(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new si(o,d,a)}}function X1(s,e){return s.replace(W1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const W1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(s){return JSON.parse(s)}function st(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=function(s){let e={},i={},a={},o="";try{const u=s.split(".");e=Xa(ru(u[0])||""),i=Xa(ru(u[1])||""),o=u[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},$1=function(s){const e=TE(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Z1=function(s){const e=TE(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function br(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function Bh(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function au(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function ys(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const u=s[o],h=e[o];if(Hy(u)&&Hy(h)){if(!ys(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Hy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function ja(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ha(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)a[E]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let E=0;E<16;E++)a[E]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let E=16;E<80;E++){const v=a[E-3]^a[E-8]^a[E-14]^a[E-16];a[E]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],d=this.chain_[3],m=this.chain_[4],p,_;for(let E=0;E<80;E++){E<40?E<20?(p=d^u&(h^d),_=1518500249):(p=u^h^d,_=1859775393):E<60?(p=u&h|d&(u|h),_=2400959708):(p=u^h^d,_=3395469782);const v=(o<<5|o>>>27)+p+m+_+a[E]&4294967295;m=d,d=h,h=(u<<30|u>>>2)&4294967295,u=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[h]=e.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<i;)if(u[h]=e[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[a]=this.chain_[o]>>u&255,++a;return e}}function ew(s,e){const i=new tw(s,e);return i.subscribe.bind(i)}class tw{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");nw(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=wh),o.error===void 0&&(o.error=wh),o.complete===void 0&&(o.complete=wh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nw(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function wh(){}function Mu(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,q(a<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(a)-56320;o=65536+(u<<10)+h}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ku=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(s){return s&&s._delegate?s._delegate:s}class qi{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new dl;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aw(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rw(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rw(s){return s===ps?void 0:s}function aw(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new sw(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xe||(xe={}));const ow={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},uw=xe.INFO,cw={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},fw=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=cw[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Td{constructor(e){this.name=e,this._logLevel=uw,this._logHandler=fw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ow[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const hw=(s,e)=>e.some(i=>s instanceof i);let By,qy;function dw(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pw(){return qy||(qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,qh=new WeakMap,AE=new WeakMap,Ah=new WeakMap,wd=new WeakMap;function mw(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{i(Pi(s.result)),o()},h=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&wE.set(i,s)}).catch(()=>{}),wd.set(e,s),e}function gw(s){if(qh.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});qh.set(s,e)}let Vh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return qh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||AE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Pi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function _w(s){Vh=s(Vh)}function yw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Rh(this),e,...i);return AE.set(a,e.sort?e.sort():[e]),Pi(a)}:pw().includes(s)?function(...e){return s.apply(Rh(this),e),Pi(wE.get(this))}:function(...e){return Pi(s.apply(Rh(this),e))}}function vw(s){return typeof s=="function"?yw(s):(s instanceof IDBTransaction&&gw(s),hw(s,dw())?new Proxy(s,Vh):s)}function Pi(s){if(s instanceof IDBRequest)return mw(s);if(Ah.has(s))return Ah.get(s);const e=vw(s);return e!==s&&(Ah.set(s,e),wd.set(e,s)),e}const Rh=s=>wd.get(s);function Ew(s,e,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(s,e),d=Pi(h);return a&&h.addEventListener("upgradeneeded",m=>{a(Pi(h.result),m.oldVersion,m.newVersion,Pi(h.transaction),m)}),i&&h.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Sw=["get","getKey","getAll","getAllKeys","count"],bw=["put","add","delete","clear"],Nh=new Map;function Vy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Nh.get(e))return Nh.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=bw.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Sw.includes(i)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(d.shift())),(await Promise.all([p[i](...d),o&&m.done]))[0]};return Nh.set(e,u),u}_w(s=>({...s,get:(e,i,a)=>Vy(e,i)||s.get(e,i,a),has:(e,i)=>!!Vy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Tw(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Tw(s){return s.getComponent()?.type==="VERSION"}const Gh="@firebase/app",Gy="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Td("@firebase/app"),ww="@firebase/app-compat",Aw="@firebase/analytics-compat",Rw="@firebase/analytics",Nw="@firebase/app-check-compat",xw="@firebase/app-check",Ow="@firebase/auth",Dw="@firebase/auth-compat",Iw="@firebase/database",Mw="@firebase/data-connect",kw="@firebase/database-compat",Lw="@firebase/functions",Uw="@firebase/functions-compat",zw="@firebase/installations",Pw="@firebase/installations-compat",jw="@firebase/messaging",Hw="@firebase/messaging-compat",Bw="@firebase/performance",qw="@firebase/performance-compat",Vw="@firebase/remote-config",Gw="@firebase/remote-config-compat",Fw="@firebase/storage",Yw="@firebase/storage-compat",Qw="@firebase/firestore",Kw="@firebase/ai",Xw="@firebase/firestore-compat",Ww="firebase",$w="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="[DEFAULT]",Zw={[Gh]:"fire-core",[ww]:"fire-core-compat",[Rw]:"fire-analytics",[Aw]:"fire-analytics-compat",[xw]:"fire-app-check",[Nw]:"fire-app-check-compat",[Ow]:"fire-auth",[Dw]:"fire-auth-compat",[Iw]:"fire-rtdb",[Mw]:"fire-data-connect",[kw]:"fire-rtdb-compat",[Lw]:"fire-fn",[Uw]:"fire-fn-compat",[zw]:"fire-iid",[Pw]:"fire-iid-compat",[jw]:"fire-fcm",[Hw]:"fire-fcm-compat",[Bw]:"fire-perf",[qw]:"fire-perf-compat",[Vw]:"fire-rc",[Gw]:"fire-rc-compat",[Fw]:"fire-gcs",[Yw]:"fire-gcs-compat",[Qw]:"fire-fst",[Xw]:"fire-fst-compat",[Kw]:"fire-vertex","fire-js":"fire-js",[Ww]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new Map,Jw=new Map,Yh=new Map;function Fy(s,e){try{s.container.addComponent(e)}catch(i){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function vs(s){const e=s.name;if(Yh.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Yh.set(e,s);for(const i of lu.values())Fy(i,s);for(const i of Jw.values())Fy(i,s);return!0}function Lu(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Ft(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new pl("app","Firebase",eA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=$w;function RE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Fh,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ji.create("bad-app-name",{appName:String(o)});if(i||(i=SE()),!i)throw ji.create("no-options");const u=lu.get(o);if(u){if(ys(i,u.options)&&ys(a,u.config))return u;throw ji.create("duplicate-app",{appName:o})}const h=new lw(o);for(const m of Yh.values())h.addComponent(m);const d=new tA(i,a,h);return lu.set(o,d),d}function Ad(s=Fh){const e=lu.get(s);if(!e&&s===Fh&&SE())return RE();if(!e)throw ji.create("no-app",{appName:s});return e}function Sn(s,e,i){let a=Zw[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(h.join(" "));return}vs(new qi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebase-heartbeat-database",iA=1,Wa="firebase-heartbeat-store";let xh=null;function NE(){return xh||(xh=Ew(nA,iA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Wa)}catch(i){console.warn(i)}}}}).catch(s=>{throw ji.create("idb-open",{originalErrorMessage:s.message})})),xh}async function sA(s){try{const i=(await NE()).transaction(Wa),a=await i.objectStore(Wa).get(xE(s));return await i.done,a}catch(e){if(e instanceof si)ei.warn(e.message);else{const i=ji.create("idb-get",{originalErrorMessage:e?.message});ei.warn(i.message)}}}async function Yy(s,e){try{const a=(await NE()).transaction(Wa,"readwrite");await a.objectStore(Wa).put(e,xE(s)),await a.done}catch(i){if(i instanceof si)ei.warn(i.message);else{const a=ji.create("idb-set",{originalErrorMessage:i?.message});ei.warn(a.message)}}}function xE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=1024,aA=30;class lA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new uA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Qy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>aA){const o=cA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qy(),{heartbeatsToSend:i,unsentEntries:a}=oA(this._heartbeatsCache.heartbeats),o=su(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ei.warn(e),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function oA(s,e=rA){const i=[];let a=s.slice();for(const o of s){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Ky(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ky(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class uA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y1()?Q1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Ky(s){return su(JSON.stringify({version:2,heartbeats:s})).length}function cA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(s){vs(new qi("platform-logger",e=>new Cw(e),"PRIVATE")),vs(new qi("heartbeat",e=>new lA(e),"PRIVATE")),Sn(Gh,Gy,s),Sn(Gh,Gy,"esm2020"),Sn("fire-js","")}fA("");var hA="firebase",dA="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(hA,dA,"app");var Xy={};const Wy="@firebase/database",$y="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OE="";function pA(s){OE=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),st(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Xa(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return wn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new mA(e)}}catch{}return new gA},gs=DE("localStorage"),_A=DE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Td("@firebase/database"),yA=(function(){let s=1;return function(){return s++}})(),IE=function(s){const e=iw(s),i=new J1;i.update(e);const a=i.digest();return vd.encodeByteArray(a)},ml=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=ml.apply(null,a):typeof a=="object"?e+=st(a):e+=a,e+=" "}return e};let qa=null,Zy=!0;const vA=function(s,e){q(!0,"Can't turn on custom loggers persistently."),_r.logLevel=xe.VERBOSE,qa=_r.log.bind(_r)},pt=function(...s){if(Zy===!0&&(Zy=!1,qa===null&&_A.get("logging_enabled")===!0&&vA()),qa){const e=ml.apply(null,s);qa(e)}},gl=function(s){return function(...e){pt(s,...e)}},Qh=function(...s){const e="FIREBASE INTERNAL ERROR: "+ml(...s);_r.error(e)},ti=function(...s){const e=`FIREBASE FATAL ERROR: ${ml(...s)}`;throw _r.error(e),new Error(e)},Tt=function(...s){const e="FIREBASE WARNING: "+ml(...s);_r.warn(e)},EA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rd=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},SA=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Es="[MIN_NAME]",Vi="[MAX_NAME]",As=function(s,e){if(s===e)return 0;if(s===Es||e===Vi)return-1;if(e===Es||s===Vi)return 1;{const i=Jy(s),a=Jy(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},bA=function(s,e){return s===e?0:s<e?-1:1},La=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+st(e))},Nd=function(s){if(typeof s!="object"||s===null)return st(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=st(e[a]),i+=":",i+=Nd(s[e[a]]);return i+="}",i},ME=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function mt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const kE=function(s){q(!Rd(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,u,h,d,m;s===0?(u=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),a),u=d+a,h=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,h=Math.round(s/Math.pow(2,1-a-i))));const p=[];for(m=i;m;m-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const _=p.join("");let E="";for(m=0;m<64;m+=8){let v=parseInt(_.substr(m,8),2).toString(16);v.length===1&&(v="0"+v),E=E+v}return E.toLowerCase()},CA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},TA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wA(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const AA=new RegExp("^-?(0*)\\d{1,10}$"),RA=-2147483648,NA=2147483647,Jy=function(s){if(AA.test(s)){const e=Number(s);if(e>=RA&&e<=NA)return e}return null},kr=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Tt("Exception was thrown by user callback.",i),e},Math.floor(0))}},xA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Va=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Ft(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(e)}}class Zo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Zo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="5",LE="v",UE="s",zE="r",PE="f",jE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,HE="ls",BE="p",Kh="ac",qE="websocket",VE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,i,a,o,u=!1,h="",d=!1,m=!1,p=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function IA(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function FE(s,e,i){q(typeof e=="string","typeof type must == string"),q(typeof i=="object","typeof params must == object");let a;if(e===qE)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===VE)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);IA(s)&&(i.ns=s.namespace);const o=[];return mt(i,(u,h)=>{o.push(u+"="+h)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.counters_={}}incrementCounter(e,i=1){wn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return M1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh={},Dh={};function Od(s){const e=s.toString();return Oh[e]||(Oh[e]=new MA),Oh[e]}function kA(s,e){const i=s.toString();return Dh[i]||(Dh[i]=e()),Dh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&kr(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="start",UA="close",zA="pLPCommand",PA="pRTLPCB",YE="id",QE="pw",KE="ser",jA="cb",HA="seg",BA="ts",qA="d",VA="dframe",XE=1870,WE=30,GA=XE-WE,FA=25e3,YA=3e4;class mr{constructor(e,i,a,o,u,h,d){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gl(e),this.stats_=Od(i),this.urlFn=m=>(this.appCheckToken&&(m[Kh]=this.appCheckToken),FE(i,VE,m))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new LA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(YA)),SA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dd((...u)=>{const[h,d,m,p,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===ev)this.id=d,this.password=m;else if(h===UA)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[ev]="t",a[KE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[jA]=this.scriptTagHolder.uniqueCallbackIdentifier),a[LE]=xd,this.transportSessionId&&(a[UE]=this.transportSessionId),this.lastSessionId&&(a[HE]=this.lastSessionId),this.applicationId&&(a[BE]=this.applicationId),this.appCheckToken&&(a[Kh]=this.appCheckToken),typeof location<"u"&&location.hostname&&jE.test(location.hostname)&&(a[zE]=PE);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mr.forceAllow_=!0}static forceDisallow(){mr.forceDisallow_=!0}static isAvailable(){return mr.forceAllow_?!0:!mr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!CA()&&!TA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=st(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=_E(i),o=ME(a,GA);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[VA]="t",a[YE]=e,a[QE]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=st(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Dd{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yA(),window[zA+this.uniqueCallbackIdentifier]=e,window[PA+this.uniqueCallbackIdentifier]=i,this.myIFrame=Dd.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){pt("frame writing exception"),d.stack&&pt(d.stack),pt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[YE]=this.myID,e[QE]=this.myPW,e[KE]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+WE+a.length<=XE;){const h=this.pendingSegs.shift();a=a+"&"+HA+o+"="+h.seg+"&"+BA+o+"="+h.ts+"&"+qA+o+"="+h.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(FA)),u=()=>{clearTimeout(o),a()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=16384,KA=45e3;let ou=null;typeof MozWebSocket<"u"?ou=MozWebSocket:typeof WebSocket<"u"&&(ou=WebSocket);class on{constructor(e,i,a,o,u,h,d){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gl(this.connId),this.stats_=Od(i),this.connURL=on.connectionURL_(i,h,d,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,u){const h={};return h[LE]=xd,typeof location<"u"&&location.hostname&&jE.test(location.hostname)&&(h[zE]=PE),i&&(h[UE]=i),a&&(h[HE]=a),o&&(h[Kh]=o),u&&(h[BE]=u),FE(e,qE,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gs.set("previous_websocket_failure",!0);try{let a;F1(),this.mySock=new ou(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){on.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&ou!==null&&!on.forceDisallow_}static previouslyFailed(){return gs.isInMemoryStorage||gs.get("previous_websocket_failure")===!0}markConnectionHealthy(){gs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Xa(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=st(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=ME(i,QA);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(KA))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}on.responsesRequiredToBeHealthy=2;on.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static get ALL_TRANSPORTS(){return[mr,on]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=on&&on.isAvailable();let a=i&&!on.previouslyFailed();if(e.webSocketOnly&&(i||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[on];else{const o=this.transports_=[];for(const u of $a.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);$a.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$a.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=6e4,WA=5e3,$A=10*1024,ZA=100*1024,Ih="t",tv="d",JA="s",nv="r",eR="e",iv="o",sv="a",rv="n",av="p",tR="h";class nR{constructor(e,i,a,o,u,h,d,m,p,_){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gl("c:"+this.id+":"),this.transportManager_=new $a(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Va(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ZA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$A?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ih in e){const i=e[Ih];i===sv?this.upgradeIfSecondaryHealthy_():i===nv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===iv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=La("t",e),a=La("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:av,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=La("t",e),a=La("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=La(Ih,e);if(tv in e){const a=e[tv];if(i===tR){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===rv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===JA?this.onConnectionShutdown_(a):i===nv?this.onReset_(a):i===eR?Qh("Server Error: "+a):i===iv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qh("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),xd!==a&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),Va(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(XA))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Va(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(WA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:av,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(e){q(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends ZE{static getInstance(){return new uu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=32,ov=768;class we{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function ve(){return new we("")}function le(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Gi(s){return s.pieces_.length-s.pieceNum_}function ke(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new we(s.pieces_,e)}function Id(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function iR(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function Za(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function JE(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new we(e,0)}function Ye(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof we)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new we(i,0)}function oe(s){return s.pieceNum_>=s.pieces_.length}function Ct(s,e){const i=le(s),a=le(e);if(i===null)return e;if(i===a)return Ct(ke(s),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function sR(s,e){const i=Za(s,0),a=Za(e,0);for(let o=0;o<i.length&&o<a.length;o++){const u=As(i[o],a[o]);if(u!==0)return u}return i.length===a.length?0:i.length<a.length?-1:1}function Md(s,e){if(Gi(s)!==Gi(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function nn(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(Gi(s)>Gi(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class rR{constructor(e,i){this.errorPrefix_=i,this.parts_=Za(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=ku(this.parts_[a]);eS(this)}}function aR(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=ku(e),eS(s)}function lR(s){const e=s.parts_.pop();s.byteLength_-=ku(e),s.parts_.length>0&&(s.byteLength_-=1)}function eS(s){if(s.byteLength_>ov)throw new Error(s.errorPrefix_+"has a key path longer than "+ov+" bytes ("+s.byteLength_+").");if(s.parts_.length>lv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lv+") or object contains a cycle "+ms(s))}function ms(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends ZE{static getInstance(){return new kd}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=1e3,oR=300*1e3,uv=30*1e3,uR=1.3,cR=3e4,fR="server_kill",cv=3;class $n extends $E{constructor(e,i,a,o,u,h,d,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=m,this.id=$n.nextPersistentConnectionId_++,this.log_=gl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ua,this.maxReconnectDelay_=oR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&uu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(st(u)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new dl,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,a,o){this.initConnection_();const u=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(h).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},h="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(h,u,d=>{const m=d.d,p=d.s;$n.warnOnListenWarnings_(m,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&wn(e,"w")){const a=br(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Z1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=$1(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const u=o.s,h=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},h="n";o&&(u.q=a,u.t=o),this.sendRequest(h,u)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const u={p:i,d:a};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,u){this.initConnection_();const h={p:i,d:a};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+st(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Qh("Unrecognized action received from server: "+st(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cR&&(this.reconnectDelay_=Ua),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+$n.nextConnectionId_++,u=this.lastSessionId;let h=!1,d=null;const m=function(){d?d.close():(h=!0,a())},p=function(E){q(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(E)};this.realtime_={close:m,sendRequest:p};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,v]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);h?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=v&&v.token,d=new nR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,R=>{Tt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(fR)},u))}catch(E){this.log_("Failed to get token: "+E),h||(this.repoInfo_.nodeAdmin&&Tt(E),m())}}}interrupt(e){pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bh(this.interruptReasons_)&&(this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(u=>Nd(u)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new we(e).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){pt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=cv&&(this.reconnectDelay_=uv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){pt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=cv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+OE.replace(/\./g,"-")]=1,Cd()?e["framework.cordova"]=1:CE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=uu.getInstance().currentlyOnline();return Bh(this.interruptReasons_)&&e}}$n.nextPersistentConnectionId_=0;$n.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ue(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new ue(Es,e),o=new ue(Es,i);return this.compare(a,o)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class tS extends Uu{static get __EMPTY_NODE(){return Qo}static set __EMPTY_NODE(e){Qo=e}compare(e,i){return As(e.name,i.name)}isDefinedOn(e){throw Dr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Vi,Qo)}makePost(e,i){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Qo)}toString(){return".key"}}const _s=new tS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=i?a(e.key,i):1,o&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,i,a,o,u){this.key=e,this.value=i,this.color=a??ot.RED,this.left=o??Mt.EMPTY_NODE,this.right=u??Mt.EMPTY_NODE}copy(e,i,a,o,u){return new ot(e??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const u=a(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return Mt.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class hR{copy(e,i,a,o,u){return this}insert(e,i,a){return new ot(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mt{constructor(e,i=Mt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Mt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new Mt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ko(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Ko(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Ko(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Ko(this.root_,null,this.comparator_,!0,e)}}Mt.EMPTY_NODE=new hR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(s,e){return As(s.name,e.name)}function Ld(s,e){return As(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh;function pR(s){Xh=s}const nS=function(s){return typeof s=="number"?"number:"+kE(s):"string:"+s},iS=function(s){if(s.isLeafNode()){const e=s.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&wn(e,".sv"),"Priority must be a string or number.")}else q(s===Xh||s.isEmpty(),"priority of unexpected type.");q(s===Xh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fv;class lt{static set __childrenNodeConstructor(e){fv=e}static get __childrenNodeConstructor(){return fv}constructor(e,i=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),iS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new lt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return oe(e)?this:le(e)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=le(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(q(a!==".priority"||Gi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+nS(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=kE(this.value_):e+=this.value_,this.lazyHash_=IE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===lt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof lt.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=lt.VALUE_TYPE_ORDER.indexOf(i),u=lt.VALUE_TYPE_ORDER.indexOf(a);return q(o>=0,"Unknown leaf type: "+i),q(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sS,rS;function mR(s){sS=s}function gR(s){rS=s}class _R extends Uu{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),u=a.compareTo(o);return u===0?As(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Vi,new lt("[PRIORITY-POST]",rS))}makePost(e,i){const a=sS(e);return new ue(i,new lt("[PRIORITY-POST]",a))}toString(){return".priority"}}const Ve=new _R;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=Math.log(2);class vR{constructor(e){const i=u=>parseInt(Math.log(u)/yR,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cu=function(s,e,i,a){s.sort(e);const o=function(m,p){const _=p-m;let E,v;if(_===0)return null;if(_===1)return E=s[m],v=i?i(E):E,new ot(v,E.node,ot.BLACK,null,null);{const R=parseInt(_/2,10)+m,O=o(m,R),P=o(R+1,p);return E=s[R],v=i?i(E):E,new ot(v,E.node,ot.BLACK,O,P)}},u=function(m){let p=null,_=null,E=s.length;const v=function(O,P){const j=E-O,H=E;E-=O;const B=o(j+1,H),K=s[j],ae=i?i(K):K;R(new ot(ae,K.node,P,null,B))},R=function(O){p?(p.left=O,p=O):(_=O,p=O)};for(let O=0;O<m.count;++O){const P=m.nextBitIsOne(),j=Math.pow(2,m.count-(O+1));P?v(j,ot.BLACK):(v(j,ot.BLACK),v(j,ot.RED))}return _},h=new vR(s.length),d=u(h);return new Mt(a||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh;const dr={};class Qn{static get Default(){return q(dr&&Ve,"ChildrenNode.ts has not been loaded"),Mh=Mh||new Qn({".priority":dr},{".priority":Ve}),Mh}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=br(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Mt?i:null}hasIndex(e){return wn(this.indexSet_,e.toString())}addIndex(e,i){q(e!==_s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=i.getIterator(ue.Wrap);let h=u.getNext();for(;h;)o=o||e.isDefinedOn(h.node),a.push(h),h=u.getNext();let d;o?d=cu(a,e.getCompare()):d=dr;const m=e.toString(),p={...this.indexSet_};p[m]=e;const _={...this.indexes_};return _[m]=d,new Qn(_,p)}addToIndexes(e,i){const a=au(this.indexes_,(o,u)=>{const h=br(this.indexSet_,u);if(q(h,"Missing index implementation for "+u),o===dr)if(h.isDefinedOn(e.node)){const d=[],m=i.getIterator(ue.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&d.push(p),p=m.getNext();return d.push(e),cu(d,h.getCompare())}else return dr;else{const d=i.get(e.name);let m=o;return d&&(m=m.remove(new ue(e.name,d))),m.insert(e,e.node)}});return new Qn(a,this.indexSet_)}removeFromIndexes(e,i){const a=au(this.indexes_,o=>{if(o===dr)return o;{const u=i.get(e.name);return u?o.remove(new ue(e.name,u)):o}});return new Qn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za;class J{static get EMPTY_NODE(){return za||(za=new J(new Mt(Ld),null,Qn.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&iS(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||za}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?za:i}}getChild(e){const i=le(e);return i===null?this:this.getImmediateChild(i).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(q(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new ue(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(a,this.children_));const h=o.isEmpty()?za:this.priorityNode_;return new J(o,h,u)}}updateChild(e,i){const a=le(e);if(a===null)return i;{q(le(e)!==".priority"||Gi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(ke(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,u=!0;if(this.forEachChild(Ve,(h,d)=>{i[h]=d.val(e),a++,u&&J.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!e&&u&&o<2*a){const h=[];for(const d in i)h[d]=i[d];return h}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+nS(this.getPriority().val())+":"),this.forEachChild(Ve,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":IE(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new ue(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ue(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ue(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ue.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_l?-1:0}withIndex(e){if(e===_s||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===_s||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(Ve),o=i.getIterator(Ve);let u=a.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=a.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===_s?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ER extends J{constructor(){super(new Mt(Ld),J.EMPTY_NODE,Qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const _l=new ER;Object.defineProperties(ue,{MIN:{value:new ue(Es,J.EMPTY_NODE)},MAX:{value:new ue(Vi,_l)}});tS.__EMPTY_NODE=J.EMPTY_NODE;lt.__childrenNodeConstructor=J;pR(_l);gR(_l);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=!0;function it(s,e=null){if(s===null)return J.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new lt(i,it(e))}if(!(s instanceof Array)&&SR){const i=[];let a=!1;if(mt(s,(h,d)=>{if(h.substring(0,1)!=="."){const m=it(d);m.isEmpty()||(a=a||!m.getPriority().isEmpty(),i.push(new ue(h,m)))}}),i.length===0)return J.EMPTY_NODE;const u=cu(i,dR,h=>h.name,Ld);if(a){const h=cu(i,Ve.getCompare());return new J(u,it(e),new Qn({".priority":h},{".priority":Ve}))}else return new J(u,it(e),Qn.Default)}else{let i=J.EMPTY_NODE;return mt(s,(a,o)=>{if(wn(s,a)&&a.substring(0,1)!=="."){const u=it(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(a,u))}}),i.updatePriority(it(e))}}mR(it);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Uu{constructor(e){super(),this.indexPath_=e,q(!oe(e)&&le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),u=a.compareTo(o);return u===0?As(e.name,i.name):u}makePost(e,i){const a=it(e),o=J.EMPTY_NODE.updateChild(this.indexPath_,a);return new ue(i,o)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,_l);return new ue(Vi,e)}toString(){return Za(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR extends Uu{compare(e,i){const a=e.node.compareTo(i.node);return a===0?As(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,i){const a=it(e);return new ue(i,a)}toString(){return".value"}}const aS=new bR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(s){return{type:"value",snapshotNode:s}}function Cr(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function Ja(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function el(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function CR(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.index_=e}updateChild(e,i,a,o,u,h){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(o).equals(a.getChild(o))&&d.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?e.hasChild(i)?h.trackChildChange(Ja(i,d)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(Cr(i,a)):h.trackChildChange(el(i,a,d))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(Ve,(o,u)=>{i.hasChild(o)||a.trackChildChange(Ja(o,u))}),i.isLeafNode()||i.forEachChild(Ve,(o,u)=>{if(e.hasChild(o)){const h=e.getImmediateChild(o);h.equals(u)||a.trackChildChange(el(o,u,h))}else a.trackChildChange(Cr(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.indexedFilter_=new zd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tl.getStartPost_(e),this.endPost_=tl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,u,h){return this.matches(new ue(i,a))||(a=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,u,h)}updateFullNode(e,i,a){i.isLeafNode()&&(i=J.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(J.EMPTY_NODE);const u=this;return i.forEachChild(Ve,(h,d)=>{u.matches(new ue(h,d))||(o=o.updateImmediateChild(h,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new tl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,u,h){return this.rangedFilter_.matches(new ue(i,a))||(a=J.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,u,h):this.fullLimitUpdateChild_(e,i,a,u,h)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=J.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(J.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const d=u.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:o=o.updateImmediateChild(d.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,u){let h;if(this.reverse_){const E=this.index_.getCompare();h=(v,R)=>E(R,v)}else h=this.index_.getCompare();const d=e;q(d.numChildren()===this.limit_,"");const m=new ue(i,a),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),_=this.rangedFilter_.matches(m);if(d.hasChild(i)){const E=d.getImmediateChild(i);let v=o.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===i||d.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const R=v==null?1:h(v,m);if(_&&!a.isEmpty()&&R>=0)return u?.trackChildChange(el(i,a,E)),d.updateImmediateChild(i,a);{u?.trackChildChange(Ja(i,E));const P=d.updateImmediateChild(i,J.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u?.trackChildChange(Cr(v.name,v.node)),P.updateImmediateChild(v.name,v.node)):P}}else return a.isEmpty()?e:_&&h(p,m)>=0?(u!=null&&(u.trackChildChange(Ja(p.name,p.node)),u.trackChildChange(Cr(i,a))),d.updateImmediateChild(i,a).updateImmediateChild(p.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Es}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new Pd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wR(s){return s.loadsAllData()?new zd(s.getIndex()):s.hasLimit()?new TR(s):new tl(s)}function AR(s,e,i){const a=s.copy();return a.startSet_=!0,e===void 0&&(e=null),a.indexStartValue_=e,i!=null?(a.startNameSet_=!0,a.indexStartName_=i):(a.startNameSet_=!1,a.indexStartName_=""),a}function RR(s,e,i){const a=s.copy();return a.endSet_=!0,e===void 0&&(e=null),a.indexEndValue_=e,i!==void 0?(a.endNameSet_=!0,a.indexEndName_=i):(a.endNameSet_=!1,a.indexEndName_=""),a}function NR(s,e){const i=s.copy();return i.index_=e,i}function hv(s){const e={};if(s.isDefault())return e;let i;if(s.index_===Ve?i="$priority":s.index_===aS?i="$value":s.index_===_s?i="$key":(q(s.index_ instanceof Ud,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=st(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=st(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+st(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=st(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+st(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function dv(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==Ve&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends $E{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=gl("p:rest:"),this.listens_={}}listen(e,i,a,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const h=fu.getListenId_(e,a),d={};this.listens_[h]=d;const m=hv(e._queryParams);this.restRequest_(u+".json",m,(p,_)=>{let E=_;if(p===404&&(E=null,p=null),p===null&&this.onDataUpdate_(u,E,!1,a),br(this.listens_,h)===d){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",o(v,null)}})}unlisten(e,i){const a=fu.getListenId_(e,i);delete this.listens_[a]}get(e){const i=hv(e._queryParams),a=e._path.toString(),o=new dl;return this.restRequest_(a+".json",i,(u,h)=>{let d=h;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(a,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ir(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let m=null;if(d.status>=200&&d.status<300){try{m=Xa(d.responseText)}catch{Tt("Failed to parse JSON response for "+h+": "+d.responseText)}a(null,m)}else d.status!==401&&d.status!==404&&Tt("Got unsuccessful REST response for "+h+" Status: "+d.status),a(d.status);a=null}},d.open("GET",h,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(){return{value:null,children:new Map}}function oS(s,e,i){if(oe(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=le(e);s.children.has(a)||s.children.set(a,hu());const o=s.children.get(a);e=ke(e),oS(o,e,i)}}function Wh(s,e,i){s.value!==null?i(e,s.value):OR(s,(a,o)=>{const u=new we(e.toString()+"/"+a);Wh(o,u,i)})}function OR(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&mt(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=10*1e3,IR=30*1e3,MR=300*1e3;class kR{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new DR(e);const a=pv+(IR-pv)*Math.random();Va(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;mt(e,(o,u)=>{u>0&&wn(this.statsToReport_,o)&&(i[o]=u,a=!0)}),a&&this.server_.reportStats(i),Va(this.reportStats_.bind(this),Math.floor(Math.random()*2*MR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(un||(un={}));function jd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Bd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=un.ACK_USER_WRITE,this.source=jd()}operationForChild(e){if(oe(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new we(e));return new du(ve(),i,this.revert)}}else return q(le(this.path)===e,"operationForChild called for unrelated child."),new du(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,i){this.source=e,this.path=i,this.type=un.LISTEN_COMPLETE}operationForChild(e){return oe(this.path)?new nl(this.source,ve()):new nl(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=un.OVERWRITE}operationForChild(e){return oe(this.path)?new Ss(this.source,ve(),this.snap.getImmediateChild(e)):new Ss(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=un.MERGE}operationForChild(e){if(oe(this.path)){const i=this.children.subtree(new we(e));return i.isEmpty()?null:i.value?new Ss(this.source,ve(),i.value):new Tr(this.source,ve(),i)}else return q(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tr(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(oe(e))return this.isFullyInitialized()&&!this.filtered_;const i=le(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function UR(s,e,i,a){const o=[],u=[];return e.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(CR(h.childName,h.snapshotNode))}),Pa(s,o,"child_removed",e,a,i),Pa(s,o,"child_added",e,a,i),Pa(s,o,"child_moved",u,a,i),Pa(s,o,"child_changed",e,a,i),Pa(s,o,"value",e,a,i),o}function Pa(s,e,i,a,o,u){const h=a.filter(d=>d.type===i);h.sort((d,m)=>PR(s,d,m)),h.forEach(d=>{const m=zR(s,d,u);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(m,s.query_))})})}function zR(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function PR(s,e,i){if(e.childName==null||i.childName==null)throw Dr("Should only compare child_ events.");const a=new ue(e.childName,e.snapshotNode),o=new ue(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(s,e){return{eventCache:s,serverCache:e}}function Ga(s,e,i,a){return zu(new Fi(e,i,a),s.serverCache)}function uS(s,e,i,a){return zu(s.eventCache,new Fi(e,i,a))}function pu(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function bs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh;const jR=()=>(kh||(kh=new Mt(bA)),kh);class Me{static fromObject(e){let i=new Me(null);return mt(e,(a,o)=>{i=i.set(new we(a),o)}),i}constructor(e,i=jR()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:ve(),value:this.value};if(oe(e))return null;{const a=le(e),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(ke(e),i);return u!=null?{path:Ye(new we(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(oe(e))return this;{const i=le(e),a=this.children.get(i);return a!==null?a.subtree(ke(e)):new Me(null)}}set(e,i){if(oe(e))return new Me(i,this.children);{const a=le(e),u=(this.children.get(a)||new Me(null)).set(ke(e),i),h=this.children.insert(a,u);return new Me(this.value,h)}}remove(e){if(oe(e))return this.children.isEmpty()?new Me(null):new Me(null,this.children);{const i=le(e),a=this.children.get(i);if(a){const o=a.remove(ke(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Me(null):new Me(this.value,u)}else return this}}get(e){if(oe(e))return this.value;{const i=le(e),a=this.children.get(i);return a?a.get(ke(e)):null}}setTree(e,i){if(oe(e))return i;{const a=le(e),u=(this.children.get(a)||new Me(null)).setTree(ke(e),i);let h;return u.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,u),new Me(this.value,h)}}fold(e){return this.fold_(ve(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_(Ye(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,ve(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(oe(e))return null;{const u=le(e),h=this.children.get(u);return h?h.findOnPath_(ke(e),Ye(i,u),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,ve(),i)}foreachOnPath_(e,i,a){if(oe(e))return this;{this.value&&a(i,this.value);const o=le(e),u=this.children.get(o);return u?u.foreachOnPath_(ke(e),Ye(i,o),a):new Me(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(Ye(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.writeTree_=e}static empty(){return new fn(new Me(null))}}function Fa(s,e,i){if(oe(e))return new fn(new Me(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let u=a.value;const h=Ct(o,e);return u=u.updateChild(h,i),new fn(s.writeTree_.set(o,u))}else{const o=new Me(i),u=s.writeTree_.setTree(e,o);return new fn(u)}}}function $h(s,e,i){let a=s;return mt(i,(o,u)=>{a=Fa(a,Ye(e,o),u)}),a}function mv(s,e){if(oe(e))return fn.empty();{const i=s.writeTree_.setTree(e,new Me(null));return new fn(i)}}function Zh(s,e){return Rs(s,e)!=null}function Rs(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(Ct(i.path,e)):null}function gv(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ve,(a,o)=>{e.push(new ue(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new ue(a,o.value))}),e}function Hi(s,e){if(oe(e))return s;{const i=Rs(s,e);return i!=null?new fn(new Me(i)):new fn(s.writeTree_.subtree(e))}}function Jh(s){return s.writeTree_.isEmpty()}function wr(s,e){return cS(ve(),s.writeTree_,e)}function cS(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(q(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):i=cS(Ye(s,o),u,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(Ye(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(s,e){return pS(e,s)}function HR(s,e,i,a,o){q(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=Fa(s.visibleWrites,e,i)),s.lastWriteId=a}function BR(s,e,i,a){q(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:e,children:i,writeId:a,visible:!0}),s.visibleWrites=$h(s.visibleWrites,e,i),s.lastWriteId=a}function qR(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function VR(s,e){const i=s.allWrites.findIndex(d=>d.writeId===e);q(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,u=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const d=s.allWrites[h];d.visible&&(h>=i&&GR(d,a.path)?o=!1:nn(a.path,d.path)&&(u=!0)),h--}if(o){if(u)return FR(s),!0;if(a.snap)s.visibleWrites=mv(s.visibleWrites,a.path);else{const d=a.children;mt(d,m=>{s.visibleWrites=mv(s.visibleWrites,Ye(a.path,m))})}return!0}else return!1}function GR(s,e){if(s.snap)return nn(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&nn(Ye(s.path,i),e))return!0;return!1}function FR(s){s.visibleWrites=fS(s.allWrites,YR,ve()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function YR(s){return s.visible}function fS(s,e,i){let a=fn.empty();for(let o=0;o<s.length;++o){const u=s[o];if(e(u)){const h=u.path;let d;if(u.snap)nn(i,h)?(d=Ct(i,h),a=Fa(a,d,u.snap)):nn(h,i)&&(d=Ct(h,i),a=Fa(a,ve(),u.snap.getChild(d)));else if(u.children){if(nn(i,h))d=Ct(i,h),a=$h(a,d,u.children);else if(nn(h,i))if(d=Ct(h,i),oe(d))a=$h(a,ve(),u.children);else{const m=br(u.children,le(d));if(m){const p=m.getChild(ke(d));a=Fa(a,ve(),p)}}}else throw Dr("WriteRecord should have .snap or .children")}}return a}function hS(s,e,i,a,o){if(!a&&!o){const u=Rs(s.visibleWrites,e);if(u!=null)return u;{const h=Hi(s.visibleWrites,e);if(Jh(h))return i;if(i==null&&!Zh(h,ve()))return null;{const d=i||J.EMPTY_NODE;return wr(h,d)}}}else{const u=Hi(s.visibleWrites,e);if(!o&&Jh(u))return i;if(!o&&i==null&&!Zh(u,ve()))return null;{const h=function(p){return(p.visible||o)&&(!a||!~a.indexOf(p.writeId))&&(nn(p.path,e)||nn(e,p.path))},d=fS(s.allWrites,h,e),m=i||J.EMPTY_NODE;return wr(d,m)}}}function QR(s,e,i){let a=J.EMPTY_NODE;const o=Rs(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ve,(u,h)=>{a=a.updateImmediateChild(u,h)}),a;if(i){const u=Hi(s.visibleWrites,e);return i.forEachChild(Ve,(h,d)=>{const m=wr(Hi(u,new we(h)),d);a=a.updateImmediateChild(h,m)}),gv(u).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const u=Hi(s.visibleWrites,e);return gv(u).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function KR(s,e,i,a,o){q(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=Ye(e,i);if(Zh(s.visibleWrites,u))return null;{const h=Hi(s.visibleWrites,u);return Jh(h)?o.getChild(i):wr(h,o.getChild(i))}}function XR(s,e,i,a){const o=Ye(e,i),u=Rs(s.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(i)){const h=Hi(s.visibleWrites,o);return wr(h,a.getNode().getImmediateChild(i))}else return null}function WR(s,e){return Rs(s.visibleWrites,e)}function $R(s,e,i,a,o,u,h){let d;const m=Hi(s.visibleWrites,e),p=Rs(m,ve());if(p!=null)d=p;else if(i!=null)d=wr(m,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const _=[],E=h.getCompare(),v=u?d.getReverseIteratorFrom(a,h):d.getIteratorFrom(a,h);let R=v.getNext();for(;R&&_.length<o;)E(R,a)!==0&&_.push(R),R=v.getNext();return _}else return[]}function ZR(){return{visibleWrites:fn.empty(),allWrites:[],lastWriteId:-1}}function mu(s,e,i,a){return hS(s.writeTree,s.treePath,e,i,a)}function qd(s,e){return QR(s.writeTree,s.treePath,e)}function _v(s,e,i,a){return KR(s.writeTree,s.treePath,e,i,a)}function gu(s,e){return WR(s.writeTree,Ye(s.treePath,e))}function JR(s,e,i,a,o,u){return $R(s.writeTree,s.treePath,e,i,a,o,u)}function Vd(s,e,i){return XR(s.writeTree,s.treePath,e,i)}function dS(s,e){return pS(Ye(s.treePath,e),s.writeTree)}function pS(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),q(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(a,el(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(a,Ja(a,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(a,Cr(a,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(a,el(a,e.snapshotNode,o.oldSnap));else throw Dr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const mS=new tN;class Gd{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new Fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vd(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bs(this.viewCache_),u=JR(this.writes_,o,i,1,a,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(s){return{filter:s}}function iN(s,e){q(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function sN(s,e,i,a,o){const u=new eN;let h,d;if(i.type===un.OVERWRITE){const p=i;p.source.fromUser?h=ed(s,e,p.path,p.snap,a,o,u):(q(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!oe(p.path),h=_u(s,e,p.path,p.snap,a,o,d,u))}else if(i.type===un.MERGE){const p=i;p.source.fromUser?h=aN(s,e,p.path,p.children,a,o,u):(q(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),h=td(s,e,p.path,p.children,a,o,d,u))}else if(i.type===un.ACK_USER_WRITE){const p=i;p.revert?h=uN(s,e,p.path,a,o,u):h=lN(s,e,p.path,p.affectedTree,a,o,u)}else if(i.type===un.LISTEN_COMPLETE)h=oN(s,e,i.path,a,u);else throw Dr("Unknown operation type: "+i.type);const m=u.getChanges();return rN(e,h,m),{viewCache:h,changes:m}}function rN(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=pu(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&i.push(lS(pu(e)))}}function gS(s,e,i,a,o,u){const h=e.eventCache;if(gu(a,i)!=null)return e;{let d,m;if(oe(i))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=bs(e),_=p instanceof J?p:J.EMPTY_NODE,E=qd(a,_);d=s.filter.updateFullNode(e.eventCache.getNode(),E,u)}else{const p=mu(a,bs(e));d=s.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=le(i);if(p===".priority"){q(Gi(i)===1,"Can't have a priority with additional path components");const _=h.getNode();m=e.serverCache.getNode();const E=_v(a,i,_,m);E!=null?d=s.filter.updatePriority(_,E):d=h.getNode()}else{const _=ke(i);let E;if(h.isCompleteForChild(p)){m=e.serverCache.getNode();const v=_v(a,i,h.getNode(),m);v!=null?E=h.getNode().getImmediateChild(p).updateChild(_,v):E=h.getNode().getImmediateChild(p)}else E=Vd(a,p,e.serverCache);E!=null?d=s.filter.updateChild(h.getNode(),p,E,_,o,u):d=h.getNode()}}return Ga(e,d,h.isFullyInitialized()||oe(i),s.filter.filtersNodes())}}function _u(s,e,i,a,o,u,h,d){const m=e.serverCache;let p;const _=h?s.filter:s.filter.getIndexedFilter();if(oe(i))p=_.updateFullNode(m.getNode(),a,null);else if(_.filtersNodes()&&!m.isFiltered()){const R=m.getNode().updateChild(i,a);p=_.updateFullNode(m.getNode(),R,null)}else{const R=le(i);if(!m.isCompleteForPath(i)&&Gi(i)>1)return e;const O=ke(i),j=m.getNode().getImmediateChild(R).updateChild(O,a);R===".priority"?p=_.updatePriority(m.getNode(),j):p=_.updateChild(m.getNode(),R,j,O,mS,null)}const E=uS(e,p,m.isFullyInitialized()||oe(i),_.filtersNodes()),v=new Gd(o,E,u);return gS(s,E,i,o,v,d)}function ed(s,e,i,a,o,u,h){const d=e.eventCache;let m,p;const _=new Gd(o,e,u);if(oe(i))p=s.filter.updateFullNode(e.eventCache.getNode(),a,h),m=Ga(e,p,!0,s.filter.filtersNodes());else{const E=le(i);if(E===".priority")p=s.filter.updatePriority(e.eventCache.getNode(),a),m=Ga(e,p,d.isFullyInitialized(),d.isFiltered());else{const v=ke(i),R=d.getNode().getImmediateChild(E);let O;if(oe(v))O=a;else{const P=_.getCompleteChild(E);P!=null?Id(v)===".priority"&&P.getChild(JE(v)).isEmpty()?O=P:O=P.updateChild(v,a):O=J.EMPTY_NODE}if(R.equals(O))m=e;else{const P=s.filter.updateChild(d.getNode(),E,O,v,_,h);m=Ga(e,P,d.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function yv(s,e){return s.eventCache.isCompleteForChild(e)}function aN(s,e,i,a,o,u,h){let d=e;return a.foreach((m,p)=>{const _=Ye(i,m);yv(e,le(_))&&(d=ed(s,d,_,p,o,u,h))}),a.foreach((m,p)=>{const _=Ye(i,m);yv(e,le(_))||(d=ed(s,d,_,p,o,u,h))}),d}function vv(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function td(s,e,i,a,o,u,h,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;oe(i)?p=a:p=new Me(null).setTree(i,a);const _=e.serverCache.getNode();return p.children.inorderTraversal((E,v)=>{if(_.hasChild(E)){const R=e.serverCache.getNode().getImmediateChild(E),O=vv(s,R,v);m=_u(s,m,new we(E),O,o,u,h,d)}}),p.children.inorderTraversal((E,v)=>{const R=!e.serverCache.isCompleteForChild(E)&&v.value===null;if(!_.hasChild(E)&&!R){const O=e.serverCache.getNode().getImmediateChild(E),P=vv(s,O,v);m=_u(s,m,new we(E),P,o,u,h,d)}}),m}function lN(s,e,i,a,o,u,h){if(gu(o,i)!=null)return e;const d=e.serverCache.isFiltered(),m=e.serverCache;if(a.value!=null){if(oe(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return _u(s,e,i,m.getNode().getChild(i),o,u,d,h);if(oe(i)){let p=new Me(null);return m.getNode().forEachChild(_s,(_,E)=>{p=p.set(new we(_),E)}),td(s,e,i,p,o,u,d,h)}else return e}else{let p=new Me(null);return a.foreach((_,E)=>{const v=Ye(i,_);m.isCompleteForPath(v)&&(p=p.set(_,m.getNode().getChild(v)))}),td(s,e,i,p,o,u,d,h)}}function oN(s,e,i,a,o){const u=e.serverCache,h=uS(e,u.getNode(),u.isFullyInitialized()||oe(i),u.isFiltered());return gS(s,h,i,a,mS,o)}function uN(s,e,i,a,o,u){let h;if(gu(a,i)!=null)return e;{const d=new Gd(a,e,o),m=e.eventCache.getNode();let p;if(oe(i)||le(i)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=mu(a,bs(e));else{const E=e.serverCache.getNode();q(E instanceof J,"serverChildren would be complete if leaf node"),_=qd(a,E)}_=_,p=s.filter.updateFullNode(m,_,u)}else{const _=le(i);let E=Vd(a,_,e.serverCache);E==null&&e.serverCache.isCompleteForChild(_)&&(E=m.getImmediateChild(_)),E!=null?p=s.filter.updateChild(m,_,E,ke(i),d,u):e.eventCache.getNode().hasChild(_)?p=s.filter.updateChild(m,_,J.EMPTY_NODE,ke(i),d,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=mu(a,bs(e)),h.isLeafNode()&&(p=s.filter.updateFullNode(p,h,u)))}return h=e.serverCache.isFullyInitialized()||gu(a,ve())!=null,Ga(e,p,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new zd(a.getIndex()),u=wR(a);this.processor_=nN(u);const h=i.serverCache,d=i.eventCache,m=o.updateFullNode(J.EMPTY_NODE,h.getNode(),null),p=u.updateFullNode(J.EMPTY_NODE,d.getNode(),null),_=new Fi(m,h.isFullyInitialized(),o.filtersNodes()),E=new Fi(p,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=zu(E,_),this.eventGenerator_=new LR(this.query_)}get query(){return this.query_}}function fN(s){return s.viewCache_.serverCache.getNode()}function hN(s){return pu(s.viewCache_)}function dN(s,e){const i=bs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!oe(e)&&!i.getImmediateChild(le(e)).isEmpty())?i.getChild(e):null}function Ev(s){return s.eventRegistrations_.length===0}function pN(s,e){s.eventRegistrations_.push(e)}function Sv(s,e,i){const a=[];if(i){q(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,o);h&&a.push(h)})}if(e){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const h=s.eventRegistrations_[u];if(!h.matches(e))o.push(h);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function bv(s,e,i,a){e.type===un.MERGE&&e.source.queryId!==null&&(q(bs(s.viewCache_),"We should always have a full cache before handling merges"),q(pu(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=sN(s.processor_,o,e,i,a);return iN(s.processor_,u.viewCache),q(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,_S(s,u.changes,u.viewCache.eventCache.getNode(),null)}function mN(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ve,(u,h)=>{a.push(Cr(u,h))}),i.isFullyInitialized()&&a.push(lS(i.getNode())),_S(s,a,i.getNode(),e)}function _S(s,e,i,a){const o=a?[a]:s.eventRegistrations_;return UR(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu;class yS{constructor(){this.views=new Map}}function gN(s){q(!yu,"__referenceConstructor has already been defined"),yu=s}function _N(){return q(yu,"Reference.ts has not been loaded"),yu}function yN(s){return s.views.size===0}function Fd(s,e,i,a){const o=e.source.queryId;if(o!==null){const u=s.views.get(o);return q(u!=null,"SyncTree gave us an op for an invalid query."),bv(u,e,i,a)}else{let u=[];for(const h of s.views.values())u=u.concat(bv(h,e,i,a));return u}}function vS(s,e,i,a,o){const u=e._queryIdentifier,h=s.views.get(u);if(!h){let d=mu(i,o?a:null),m=!1;d?m=!0:a instanceof J?(d=qd(i,a),m=!1):(d=J.EMPTY_NODE,m=!1);const p=zu(new Fi(d,m,!1),new Fi(a,o,!1));return new cN(e,p)}return h}function vN(s,e,i,a,o,u){const h=vS(s,e,a,o,u);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,h),pN(h,i),mN(h,i)}function EN(s,e,i,a){const o=e._queryIdentifier,u=[];let h=[];const d=Yi(s);if(o==="default")for(const[m,p]of s.views.entries())h=h.concat(Sv(p,i,a)),Ev(p)&&(s.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=s.views.get(o);m&&(h=h.concat(Sv(m,i,a)),Ev(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return d&&!Yi(s)&&u.push(new(_N())(e._repo,e._path)),{removed:u,events:h}}function ES(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Bi(s,e){let i=null;for(const a of s.views.values())i=i||dN(a,e);return i}function SS(s,e){if(e._queryParams.loadsAllData())return ju(s);{const a=e._queryIdentifier;return s.views.get(a)}}function bS(s,e){return SS(s,e)!=null}function Yi(s){return ju(s)!=null}function ju(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu;function SN(s){q(!vu,"__referenceConstructor has already been defined"),vu=s}function bN(){return q(vu,"Reference.ts has not been loaded"),vu}let CN=1;class Cv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Me(null),this.pendingWriteTree_=ZR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CS(s,e,i,a,o){return HR(s.pendingWriteTree_,e,i,a,o),o?Lr(s,new Ss(jd(),e,i)):[]}function TN(s,e,i,a){BR(s.pendingWriteTree_,e,i,a);const o=Me.fromObject(i);return Lr(s,new Tr(jd(),e,o))}function Ui(s,e,i=!1){const a=qR(s.pendingWriteTree_,e);if(VR(s.pendingWriteTree_,e)){let u=new Me(null);return a.snap!=null?u=u.set(ve(),!0):mt(a.children,h=>{u=u.set(new we(h),!0)}),Lr(s,new du(a.path,u,i))}else return[]}function yl(s,e,i){return Lr(s,new Ss(Hd(),e,i))}function wN(s,e,i){const a=Me.fromObject(i);return Lr(s,new Tr(Hd(),e,a))}function AN(s,e){return Lr(s,new nl(Hd(),e))}function RN(s,e,i){const a=Qd(s,i);if(a){const o=Kd(a),u=o.path,h=o.queryId,d=Ct(u,e),m=new nl(Bd(h),d);return Xd(s,u,m)}else return[]}function Eu(s,e,i,a,o=!1){const u=e._path,h=s.syncPointTree_.get(u);let d=[];if(h&&(e._queryIdentifier==="default"||bS(h,e))){const m=EN(h,e,i,a);yN(h)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const p=m.removed;if(d=m.events,!o){const _=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,E=s.syncPointTree_.findOnPath(u,(v,R)=>Yi(R));if(_&&!E){const v=s.syncPointTree_.subtree(u);if(!v.isEmpty()){const R=ON(v);for(let O=0;O<R.length;++O){const P=R[O],j=P.query,H=RS(s,P);s.listenProvider_.startListening(Ya(j),il(s,j),H.hashFn,H.onComplete)}}}!E&&p.length>0&&!a&&(_?s.listenProvider_.stopListening(Ya(e),null):p.forEach(v=>{const R=s.queryToTagMap.get(Hu(v));s.listenProvider_.stopListening(Ya(v),R)}))}DN(s,p)}return d}function TS(s,e,i,a){const o=Qd(s,a);if(o!=null){const u=Kd(o),h=u.path,d=u.queryId,m=Ct(h,e),p=new Ss(Bd(d),m,i);return Xd(s,h,p)}else return[]}function NN(s,e,i,a){const o=Qd(s,a);if(o){const u=Kd(o),h=u.path,d=u.queryId,m=Ct(h,e),p=Me.fromObject(i),_=new Tr(Bd(d),m,p);return Xd(s,h,_)}else return[]}function nd(s,e,i,a=!1){const o=e._path;let u=null,h=!1;s.syncPointTree_.foreachOnPath(o,(v,R)=>{const O=Ct(v,o);u=u||Bi(R,O),h=h||Yi(R)});let d=s.syncPointTree_.get(o);d?(h=h||Yi(d),u=u||Bi(d,ve())):(d=new yS,s.syncPointTree_=s.syncPointTree_.set(o,d));let m;u!=null?m=!0:(m=!1,u=J.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((R,O)=>{const P=Bi(O,ve());P&&(u=u.updateImmediateChild(R,P))}));const p=bS(d,e);if(!p&&!e._queryParams.loadsAllData()){const v=Hu(e);q(!s.queryToTagMap.has(v),"View does not exist, but we have a tag");const R=IN();s.queryToTagMap.set(v,R),s.tagToQueryMap.set(R,v)}const _=Pu(s.pendingWriteTree_,o);let E=vN(d,e,i,_,u,m);if(!p&&!h&&!a){const v=SS(d,e);E=E.concat(MN(s,e,v))}return E}function Yd(s,e,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(e,(h,d)=>{const m=Ct(h,e),p=Bi(d,m);if(p)return p});return hS(o,e,u,i,!0)}function xN(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(p,_)=>{const E=Ct(p,i);a=a||Bi(_,E)});let o=s.syncPointTree_.get(i);o?a=a||Bi(o,ve()):(o=new yS,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=a!=null,h=u?new Fi(a,!0,!1):null,d=Pu(s.pendingWriteTree_,e._path),m=vS(o,e,d,u?h.getNode():J.EMPTY_NODE,u);return hN(m)}function Lr(s,e){return wS(e,s.syncPointTree_,null,Pu(s.pendingWriteTree_,ve()))}function wS(s,e,i,a){if(oe(s.path))return AS(s,e,i,a);{const o=e.get(ve());i==null&&o!=null&&(i=Bi(o,ve()));let u=[];const h=le(s.path),d=s.operationForChild(h),m=e.children.get(h);if(m&&d){const p=i?i.getImmediateChild(h):null,_=dS(a,h);u=u.concat(wS(d,m,p,_))}return o&&(u=u.concat(Fd(o,s,a,i))),u}}function AS(s,e,i,a){const o=e.get(ve());i==null&&o!=null&&(i=Bi(o,ve()));let u=[];return e.children.inorderTraversal((h,d)=>{const m=i?i.getImmediateChild(h):null,p=dS(a,h),_=s.operationForChild(h);_&&(u=u.concat(AS(_,d,m,p)))}),o&&(u=u.concat(Fd(o,s,a,i))),u}function RS(s,e){const i=e.query,a=il(s,i);return{hashFn:()=>(fN(e)||J.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?RN(s,i._path,a):AN(s,i._path);{const u=wA(o,i);return Eu(s,i,null,u)}}}}function il(s,e){const i=Hu(e);return s.queryToTagMap.get(i)}function Hu(s){return s._path.toString()+"$"+s._queryIdentifier}function Qd(s,e){return s.tagToQueryMap.get(e)}function Kd(s){const e=s.indexOf("$");return q(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new we(s.substr(0,e))}}function Xd(s,e,i){const a=s.syncPointTree_.get(e);q(a,"Missing sync point for query tag that we're tracking");const o=Pu(s.pendingWriteTree_,e);return Fd(a,i,o,null)}function ON(s){return s.fold((e,i,a)=>{if(i&&Yi(i))return[ju(i)];{let o=[];return i&&(o=ES(i)),mt(a,(u,h)=>{o=o.concat(h)}),o}})}function Ya(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(bN())(s._repo,s._path):s}function DN(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=Hu(a),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function IN(){return CN++}function MN(s,e,i){const a=e._path,o=il(s,e),u=RS(s,i),h=s.listenProvider_.startListening(Ya(e),o,u.hashFn,u.onComplete),d=s.syncPointTree_.subtree(a);if(o)q(!Yi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const m=d.fold((p,_,E)=>{if(!oe(p)&&_&&Yi(_))return[ju(_).query];{let v=[];return _&&(v=v.concat(ES(_).map(R=>R.query))),mt(E,(R,O)=>{v=v.concat(O)}),v}});for(let p=0;p<m.length;++p){const _=m[p];s.listenProvider_.stopListening(Ya(_),il(s,_))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Wd(i)}node(){return this.node_}}class $d{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Ye(this.path_,e);return new $d(this.syncTree_,i)}node(){return Yd(this.syncTree_,this.path_)}}const kN=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Tv=function(s,e,i){if(!s||typeof s!="object")return s;if(q(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return LN(s[".sv"],e,i);if(typeof s[".sv"]=="object")return UN(s[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},LN=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:q(!1,"Unexpected server value: "+s)}},UN=function(s,e,i){s.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&q(!1,"Unexpected increment value: "+a);const o=e.node();if(q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const h=o.getValue();return typeof h!="number"?a:h+a},NS=function(s,e,i,a){return Zd(e,new $d(i,s),a)},xS=function(s,e,i){return Zd(s,new Wd(e),i)};function Zd(s,e,i){const a=s.getPriority().val(),o=Tv(a,e.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const h=s,d=Tv(h.getValue(),e,i);return d!==h.getValue()||o!==h.getPriority().val()?new lt(d,it(o)):s}else{const h=s;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new lt(o))),h.forEachChild(Ve,(d,m)=>{const p=Zd(m,e.getImmediateChild(d),i);p!==m&&(u=u.updateImmediateChild(d,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function ep(s,e){let i=e instanceof we?e:new we(e),a=s,o=le(i);for(;o!==null;){const u=br(a.node.children,o)||{children:{},childCount:0};a=new Jd(o,a,u),i=ke(i),o=le(i)}return a}function Ur(s){return s.node.value}function OS(s,e){s.node.value=e,id(s)}function DS(s){return s.node.childCount>0}function zN(s){return Ur(s)===void 0&&!DS(s)}function Bu(s,e){mt(s.node.children,(i,a)=>{e(new Jd(i,s,a))})}function IS(s,e,i,a){i&&e(s),Bu(s,o=>{IS(o,e,!0)})}function PN(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function vl(s){return new we(s.parent===null?s.name:vl(s.parent)+"/"+s.name)}function id(s){s.parent!==null&&jN(s.parent,s.name,s)}function jN(s,e,i){const a=zN(i),o=wn(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,id(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,id(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=/[\[\].#$\/\u0000-\u001F\u007F]/,BN=/[\[\].#$\u0000-\u001F\u007F]/,Lh=10*1024*1024,tp=function(s){return typeof s=="string"&&s.length!==0&&!HN.test(s)},MS=function(s){return typeof s=="string"&&s.length!==0&&!BN.test(s)},qN=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),MS(s)},sd=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Rd(s)||s&&typeof s=="object"&&wn(s,".sv")},El=function(s,e,i,a){a&&e===void 0||qu(Mu(s,"value"),e,i)},qu=function(s,e,i){const a=i instanceof we?new rR(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+ms(a));if(typeof e=="function")throw new Error(s+"contains a function "+ms(a)+" with contents = "+e.toString());if(Rd(e))throw new Error(s+"contains "+e.toString()+" "+ms(a));if(typeof e=="string"&&e.length>Lh/3&&ku(e)>Lh)throw new Error(s+"contains a string greater than "+Lh+" utf8 bytes "+ms(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(mt(e,(h,d)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!tp(h)))throw new Error(s+" contains an invalid key ("+h+") "+ms(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aR(a,h),qu(s,d,a),lR(a)}),o&&u)throw new Error(s+' contains ".value" child '+ms(a)+" in addition to actual children.")}},VN=function(s,e){let i,a;for(i=0;i<e.length;i++){a=e[i];const u=Za(a);for(let h=0;h<u.length;h++)if(!(u[h]===".priority"&&h===u.length-1)){if(!tp(u[h]))throw new Error(s+"contains an invalid key ("+u[h]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(sR);let o=null;for(i=0;i<e.length;i++){if(a=e[i],o!==null&&nn(o,a))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},GN=function(s,e,i,a){const o=Mu(s,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];mt(e,(h,d)=>{const m=new we(h);if(qu(o,d,Ye(i,m)),Id(m)===".priority"&&!sd(d))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(m)}),VN(o,u)},np=function(s,e,i,a){if(!MS(i))throw new Error(Mu(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},FN=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),np(s,e,i)},ip=function(s,e){if(le(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},YN=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!tp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!qN(i))throw new Error(Mu(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vu(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],u=o.getPath();i!==null&&!Md(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function kS(s,e,i){Vu(s,i),LS(s,a=>Md(a,e))}function sn(s,e,i){Vu(s,i),LS(s,a=>nn(a,e)||nn(e,a))}function LS(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const u=o.path;e(u)?(KN(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function KN(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();qa&&pt("event: "+i.toString()),kr(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="repo_interrupt",WN=25;class $N{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hu(),this.transactionQueueTree_=new Jd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZN(s,e,i){if(s.stats_=Od(s.repoInfo_),s.forceRestClient_||xA())s.server_=new fu(s.repoInfo_,(a,o,u,h)=>{wv(s,a,o,u,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Av(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new $n(s.repoInfo_,e,(a,o,u,h)=>{wv(s,a,o,u,h)},a=>{Av(s,a)},a=>{JN(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=kA(s.repoInfo_,()=>new kR(s.stats_,s.server_)),s.infoData_=new xR,s.infoSyncTree_=new Cv({startListening:(a,o,u,h)=>{let d=[];const m=s.infoData_.getNode(a._path);return m.isEmpty()||(d=yl(s.infoSyncTree_,a._path,m),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),sp(s,"connected",!1),s.serverSyncTree_=new Cv({startListening:(a,o,u,h)=>(s.server_.listen(a,u,o,(d,m)=>{const p=h(d,m);sn(s.eventQueue_,a._path,p)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function US(s){const i=s.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Gu(s){return kN({timestamp:US(s)})}function wv(s,e,i,a,o){s.dataUpdateCount++;const u=new we(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let h=[];if(o)if(a){const m=au(i,p=>it(p));h=NN(s.serverSyncTree_,u,m,o)}else{const m=it(i);h=TS(s.serverSyncTree_,u,m,o)}else if(a){const m=au(i,p=>it(p));h=wN(s.serverSyncTree_,u,m)}else{const m=it(i);h=yl(s.serverSyncTree_,u,m)}let d=u;h.length>0&&(d=Ar(s,u)),sn(s.eventQueue_,d,h)}function Av(s,e){sp(s,"connected",e),e===!1&&ix(s)}function JN(s,e){mt(e,(i,a)=>{sp(s,i,a)})}function sp(s,e,i){const a=new we("/.info/"+e),o=it(i);s.infoData_.updateSnapshot(a,o);const u=yl(s.infoSyncTree_,a,o);sn(s.eventQueue_,a,u)}function rp(s){return s.nextWriteId_++}function ex(s,e,i){const a=xN(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(o=>{const u=it(o).withIndex(e._queryParams.getIndex());nd(s.serverSyncTree_,e,i,!0);let h;if(e._queryParams.loadsAllData())h=yl(s.serverSyncTree_,e._path,u);else{const d=il(s.serverSyncTree_,e);h=TS(s.serverSyncTree_,e._path,u,d)}return sn(s.eventQueue_,e._path,h),Eu(s.serverSyncTree_,e,i,null,!0),u},o=>(Sl(s,"get for query "+st(e)+" failed: "+o),Promise.reject(new Error(o))))}function tx(s,e,i,a,o){Sl(s,"set",{path:e.toString(),value:i,priority:a});const u=Gu(s),h=it(i,a),d=Yd(s.serverSyncTree_,e),m=xS(h,d,u),p=rp(s),_=CS(s.serverSyncTree_,e,m,p,!0);Vu(s.eventQueue_,_),s.server_.put(e.toString(),h.val(!0),(v,R)=>{const O=v==="ok";O||Tt("set at "+e+" failed: "+v);const P=Ui(s.serverSyncTree_,p,!O);sn(s.eventQueue_,e,P),ad(s,o,v,R)});const E=lp(s,e);Ar(s,E),sn(s.eventQueue_,E,[])}function nx(s,e,i,a){Sl(s,"update",{path:e.toString(),value:i});let o=!0;const u=Gu(s),h={};if(mt(i,(d,m)=>{o=!1,h[d]=NS(Ye(e,d),it(m),s.serverSyncTree_,u)}),o)pt("update() called with empty data.  Don't do anything."),ad(s,a,"ok",void 0);else{const d=rp(s),m=TN(s.serverSyncTree_,e,h,d);Vu(s.eventQueue_,m),s.server_.merge(e.toString(),i,(p,_)=>{const E=p==="ok";E||Tt("update at "+e+" failed: "+p);const v=Ui(s.serverSyncTree_,d,!E),R=v.length>0?Ar(s,e):e;sn(s.eventQueue_,R,v),ad(s,a,p,_)}),mt(i,p=>{const _=lp(s,Ye(e,p));Ar(s,_)}),sn(s.eventQueue_,e,[])}}function ix(s){Sl(s,"onDisconnectEvents");const e=Gu(s),i=hu();Wh(s.onDisconnect_,ve(),(o,u)=>{const h=NS(o,u,s.serverSyncTree_,e);oS(i,o,h)});let a=[];Wh(i,ve(),(o,u)=>{a=a.concat(yl(s.serverSyncTree_,o,u));const h=lp(s,o);Ar(s,h)}),s.onDisconnect_=hu(),sn(s.eventQueue_,ve(),a)}function sx(s,e,i){let a;le(e._path)===".info"?a=nd(s.infoSyncTree_,e,i):a=nd(s.serverSyncTree_,e,i),kS(s.eventQueue_,e._path,a)}function rd(s,e,i){let a;le(e._path)===".info"?a=Eu(s.infoSyncTree_,e,i):a=Eu(s.serverSyncTree_,e,i),kS(s.eventQueue_,e._path,a)}function rx(s){s.persistentConnection_&&s.persistentConnection_.interrupt(XN)}function Sl(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),pt(i,...e)}function ad(s,e,i,a){e&&kr(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;a&&(u+=": "+a);const h=new Error(u);h.code=o,e(h)}})}function zS(s,e,i){return Yd(s.serverSyncTree_,e,i)||J.EMPTY_NODE}function ap(s,e=s.transactionQueueTree_){if(e||Fu(s,e),Ur(e)){const i=jS(s,e);q(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&ax(s,vl(e),i)}else DS(e)&&Bu(e,i=>{ap(s,i)})}function ax(s,e,i){const a=i.map(p=>p.currentWriteId),o=zS(s,e,a);let u=o;const h=o.hash();for(let p=0;p<i.length;p++){const _=i[p];q(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const E=Ct(e,_.path);u=u.updateChild(E,_.currentOutputSnapshotRaw)}const d=u.val(!0),m=e;s.server_.put(m.toString(),d,p=>{Sl(s,"transaction put response",{path:m.toString(),status:p});let _=[];if(p==="ok"){const E=[];for(let v=0;v<i.length;v++)i[v].status=2,_=_.concat(Ui(s.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&E.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();Fu(s,ep(s.transactionQueueTree_,e)),ap(s,s.transactionQueueTree_),sn(s.eventQueue_,e,_);for(let v=0;v<E.length;v++)kr(E[v])}else{if(p==="datastale")for(let E=0;E<i.length;E++)i[E].status===3?i[E].status=4:i[E].status=0;else{Tt("transaction at "+m.toString()+" failed: "+p);for(let E=0;E<i.length;E++)i[E].status=4,i[E].abortReason=p}Ar(s,e)}},h)}function Ar(s,e){const i=PS(s,e),a=vl(i),o=jS(s,i);return lx(s,o,a),a}function lx(s,e,i){if(e.length===0)return;const a=[];let o=[];const h=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const m=e[d],p=Ct(i,m.path);let _=!1,E;if(q(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)_=!0,E=m.abortReason,o=o.concat(Ui(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=WN)_=!0,E="maxretry",o=o.concat(Ui(s.serverSyncTree_,m.currentWriteId,!0));else{const v=zS(s,m.path,h);m.currentInputSnapshot=v;const R=e[d].update(v.val());if(R!==void 0){qu("transaction failed: Data returned ",R,m.path);let O=it(R);typeof R=="object"&&R!=null&&wn(R,".priority")||(O=O.updatePriority(v.getPriority()));const j=m.currentWriteId,H=Gu(s),B=xS(O,v,H);m.currentOutputSnapshotRaw=O,m.currentOutputSnapshotResolved=B,m.currentWriteId=rp(s),h.splice(h.indexOf(j),1),o=o.concat(CS(s.serverSyncTree_,m.path,B,m.currentWriteId,m.applyLocally)),o=o.concat(Ui(s.serverSyncTree_,j,!0))}else _=!0,E="nodata",o=o.concat(Ui(s.serverSyncTree_,m.currentWriteId,!0))}sn(s.eventQueue_,i,o),o=[],_&&(e[d].status=2,(function(v){setTimeout(v,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(E==="nodata"?a.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):a.push(()=>e[d].onComplete(new Error(E),!1,null))))}Fu(s,s.transactionQueueTree_);for(let d=0;d<a.length;d++)kr(a[d]);ap(s,s.transactionQueueTree_)}function PS(s,e){let i,a=s.transactionQueueTree_;for(i=le(e);i!==null&&Ur(a)===void 0;)a=ep(a,i),e=ke(e),i=le(e);return a}function jS(s,e){const i=[];return HS(s,e,i),i.sort((a,o)=>a.order-o.order),i}function HS(s,e,i){const a=Ur(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);Bu(e,o=>{HS(s,o,i)})}function Fu(s,e){const i=Ur(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,OS(e,i.length>0?i:void 0)}Bu(e,a=>{Fu(s,a)})}function lp(s,e){const i=vl(PS(s,e)),a=ep(s.transactionQueueTree_,e);return PN(a,o=>{Uh(s,o)}),Uh(s,a),IS(a,o=>{Uh(s,o)}),i}function Uh(s,e){const i=Ur(e);if(i){const a=[];let o=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(q(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(q(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(Ui(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&a.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?OS(e,void 0):i.length=u+1,sn(s.eventQueue_,vl(e),o);for(let h=0;h<a.length;h++)kr(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function ux(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Tt(`Invalid query segment '${i}' in query '${s}'`)}return e}const Rv=function(s,e){const i=cx(s),a=i.namespace;i.domain==="firebase.com"&&ti(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||EA();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new GE(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new we(i.pathString)}},cx=function(s){let e="",i="",a="",o="",u="",h=!0,d="https",m=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(d=s.substring(0,p-1),s=s.substring(p+2));let _=s.indexOf("/");_===-1&&(_=s.length);let E=s.indexOf("?");E===-1&&(E=s.length),e=s.substring(0,Math.min(_,E)),_<E&&(o=ox(s.substring(_,E)));const v=ux(s.substring(Math.min(s.length,E)));p=e.indexOf(":"),p>=0?(h=d==="https"||d==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const R=e.slice(0,p);if(R.toLowerCase()==="localhost")i="localhost";else if(R.split(".").length<=2)i=R;else{const O=e.indexOf(".");a=e.substring(0,O).toLowerCase(),i=e.substring(O+1),u=a}"ns"in v&&(u=v.ns)}return{host:e,port:m,domain:i,subdomain:a,secure:h,scheme:d,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fx=(function(){let s=0;const e=[];return function(i){const a=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Nv.charAt(i%64),i=Math.floor(i/64);q(i===0,"Cannot push at time == 0");let h=u.join("");if(a){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=Nv.charAt(e[o]);return q(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class dx{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return oe(this._path)?null:Id(this._path)}get ref(){return new ri(this._repo,this._path)}get _queryIdentifier(){const e=dv(this._queryParams),i=Nd(e);return i==="{}"?"default":i}get _queryObject(){return dv(this._queryParams)}isEqual(e){if(e=tt(e),!(e instanceof zr))return!1;const i=this._repo===e._repo,a=Md(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+iR(this._path)}}function px(s,e){if(s._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function up(s){let e=null,i=null;if(s.hasStart()&&(e=s.getIndexStartValue()),s.hasEnd()&&(i=s.getIndexEndValue()),s.getIndex()===_s){const a="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(s.hasStart()){if(s.getIndexStartName()!==Es)throw new Error(a);if(typeof e!="string")throw new Error(o)}if(s.hasEnd()){if(s.getIndexEndName()!==Vi)throw new Error(a);if(typeof i!="string")throw new Error(o)}}else if(s.getIndex()===Ve){if(e!=null&&!sd(e)||i!=null&&!sd(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(q(s.getIndex()instanceof Ud||s.getIndex()===aS,"unknown index type."),e!=null&&typeof e=="object"||i!=null&&typeof i=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function BS(s){if(s.hasStart()&&s.hasEnd()&&s.hasLimit()&&!s.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ri extends zr{constructor(e,i){super(e,i,new Pd,!1)}get parent(){const e=JE(this._path);return e===null?null:new ri(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class sl{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new we(e),a=rl(this.ref,e);return new sl(this._node.getChild(i),a,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new sl(o,rl(this.ref,a),Ve)))}hasChild(e){const i=new we(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function je(s,e){return s=tt(s),s._checkNotDeleted("ref"),e!==void 0?rl(s._root,e):s._root}function rl(s,e){return s=tt(s),le(s._path)===null?FN("child","path",e):np("child","path",e),new ri(s._repo,Ye(s._path,e))}function cp(s,e){s=tt(s),ip("push",s._path),El("push",e,s._path,!0);const i=US(s._repo),a=fx(i),o=rl(s,a),u=rl(s,a);let h;return e!=null?h=Yu(u,e).then(()=>u):h=Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function mx(s){return ip("remove",s._path),Yu(s,null)}function Yu(s,e){s=tt(s),ip("set",s._path),El("set",e,s._path,!1);const i=new dl;return tx(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function yr(s,e){GN("update",e,s._path);const i=new dl;return nx(s._repo,s._path,e,i.wrapCallback(()=>{})),i.promise}function Cs(s){s=tt(s);const e=new op(()=>{}),i=new bl(e);return ex(s._repo,s,i).then(a=>new sl(a,new ri(s._repo,s._path),s._queryParams.getIndex()))}class bl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new hx("value",this,new sl(e.snapshotNode,new ri(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new dx(this,e,i):null}matches(e){return e instanceof bl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function gx(s,e,i,a,o){let u;if(typeof a=="object"&&(u=void 0,o=a),typeof a=="function"&&(u=a),o&&o.onlyOnce){const m=i,p=(_,E)=>{rd(s._repo,s,d),m(_,E)};p.userCallback=i.userCallback,p.context=i.context,i=p}const h=new op(i,u||void 0),d=new bl(h);return sx(s._repo,s,d),()=>rd(s._repo,s,d)}function Ns(s,e,i,a){return gx(s,"value",e,i,a)}function Qu(s,e,i){let a=null;const o=i?new op(i):null;a=new bl(o),rd(s._repo,s,a)}class Ku{}class _x extends Ku{constructor(e,i){super(),this._value=e,this._key=i,this.type="endAt"}_apply(e){El("endAt",this._value,e._path,!0);const i=RR(e._queryParams,this._value,this._key);if(BS(i),up(i),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zr(e._repo,e._path,i,e._orderByCalled)}}class yx extends Ku{constructor(e,i){super(),this._value=e,this._key=i,this.type="startAt"}_apply(e){El("startAt",this._value,e._path,!0);const i=AR(e._queryParams,this._value,this._key);if(BS(i),up(i),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new zr(e._repo,e._path,i,e._orderByCalled)}}class vx extends Ku{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){px(e,"orderByChild");const i=new we(this._path);if(oe(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const a=new Ud(i),o=NR(e._queryParams,a);return up(o),new zr(e._repo,e._path,o,!0)}}function al(s){if(s==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(s==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(s==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return np("orderByChild","path",s),new vx(s)}class Ex extends Ku{constructor(e,i){super(),this._value=e,this._key=i,this.type="equalTo"}_apply(e){if(El("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _x(this._value,this._key)._apply(new yx(this._value,this._key)._apply(e))}}function ll(s,e){return new Ex(s,e)}function ol(s,...e){let i=tt(s);for(const a of e)i=a._apply(i);return i}gN(ri);SN(ri);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="FIREBASE_DATABASE_EMULATOR_HOST",ld={};let bx=!1;function Cx(s,e,i,a){const o=e.lastIndexOf(":"),u=e.substring(0,o),h=Qi(u);s.repoInfo_=new GE(e,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function Tx(s,e,i,a,o){let u=a||s.options.databaseURL;u===void 0&&(s.options.projectId||ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Rv(u,o),d=h.repoInfo,m;typeof process<"u"&&Xy&&(m=Xy[Sx]),m?(u=`http://${m}?ns=${d.namespace}`,h=Rv(u,o),d=h.repoInfo):h.repoInfo.secure;const p=new DA(s.name,s.options,e);YN("Invalid Firebase Database URL",h),oe(h.path)||ti("Database URL must point to the root of a Firebase Database (not including a child path).");const _=Ax(d,s,p,new OA(s,i));return new Rx(_,s)}function wx(s,e){const i=ld[e];(!i||i[s.key]!==s)&&ti(`Database ${e}(${s.repoInfo_}) has already been deleted.`),rx(s),delete i[s.key]}function Ax(s,e,i,a){let o=ld[e.name];o||(o={},ld[e.name]=o);let u=o[s.toURLString()];return u&&ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new $N(s,bx,i,a),o[s.toURLString()]=u,u}class Rx{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ri(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ti("Cannot call "+e+" on a deleted database.")}}function Nx(s=Ad(),e){const i=Lu(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=EE("database");a&&xx(i,...a)}return i}function xx(s,e,i,a={}){s=tt(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&ys(a,u.repoInfo_.emulatorOptions))return;ti("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Zo(Zo.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:j1(a.mockUserToken,s.app.options.projectId);h=new Zo(d)}Qi(e)&&(Sd(e),bd("Database",!0)),Cx(u,o,a,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(s){pA(Mr),vs(new qi("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return Tx(a,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Sn(Wy,$y,s),Sn(Wy,$y,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={".sv":"timestamp"};function qS(){return Dx}$n.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};$n.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};Ox();function VS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ix=VS,GS=new pl("auth","Firebase",VS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Td("@firebase/auth");function Mx(s,...e){Su.logLevel<=xe.WARN&&Su.warn(`Auth (${Mr}): ${s}`,...e)}function Jo(s,...e){Su.logLevel<=xe.ERROR&&Su.error(`Auth (${Mr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(s,...e){throw fp(s,...e)}function bn(s,...e){return fp(s,...e)}function FS(s,e,i){const a={...Ix(),[e]:i};return new pl("auth","Firebase",a).create(e,{appName:s.name})}function Zn(s){return FS(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return GS.create(s,...e)}function Z(s,e,...i){if(!s)throw fp(e,...i)}function Kn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Jo(e),new Error(e)}function ni(s,e){s||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(){return typeof self<"u"&&self.location?.href||""}function YS(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YS()||V1()||"connection"in navigator)?navigator.onLine:!0}function Lx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ni(i>e,"Short delay should be less than long delay!"),this.isMobile=Cd()||CE()}get(){return kx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(s,e){ni(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Px=new Cl(3e4,6e4);function An(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rn(s,e,i,a,o={}){return KS(s,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const d=Ir({key:s.config.apiKey,...h}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:m,...u};return q1()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&Qi(s.emulatorConfig.host)&&(p.credentials="include"),QS.fetch()(await XS(s,s.config.apiHost,i,d),p)})}async function KS(s,e,i){s._canInitEmulator=!1;const a={...Ux,...e};try{const o=new Hx(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Xo(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xo(s,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Xo(s,"email-already-in-use",h);if(m==="USER_DISABLED")throw Xo(s,"user-disabled",h);const _=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw FS(s,_,p);dn(s,_)}}catch(o){if(o instanceof si)throw o;dn(s,"network-request-failed",{message:String(o)})}}async function Tl(s,e,i,a,o={}){const u=await Rn(s,e,i,a,o);return"mfaPendingCredential"in u&&dn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function XS(s,e,i,a){const o=`${e}${i}?${a}`,u=s,h=u.config.emulator?hp(s.config,o):`${s.config.apiScheme}://${o}`;return zx.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function jx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bn(this.auth,"network-request-failed")),Px.get())})}}function Xo(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=bn(s,e,a);return o.customData._tokenResponse=i,o}function Ov(s){return s!==void 0&&s.enterprise!==void 0}class Bx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return jx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qx(s,e){return Rn(s,"GET","/v2/recaptchaConfig",An(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(s,e){return Rn(s,"POST","/v1/accounts:delete",e)}async function Cu(s,e){return Rn(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gx(s,e=!1){const i=tt(s),a=await i.getIdToken(e),o=dp(a);Z(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:a,authTime:Qa(zh(o.auth_time)),issuedAtTime:Qa(zh(o.iat)),expirationTime:Qa(zh(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function zh(s){return Number(s)*1e3}function dp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Jo("JWT malformed, contained fewer than 3 sections"),null;try{const o=ru(i);return o?JSON.parse(o):(Jo("Failed to decode base64 JWT payload"),null)}catch(o){return Jo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Dv(s){const e=dp(s);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof si&&Fx(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Fx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(s){const e=s.auth,i=await s.getIdToken(),a=await ul(s,Cu(e,{idToken:i}));Z(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?WS(o.providerUserInfo):[],h=Kx(s.providerData,u),d=s.isAnonymous,m=!(s.email&&o.passwordHash)&&!h?.length,p=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new od(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,_)}async function Qx(s){const e=tt(s);await Tu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kx(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function WS(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(s,e){const i=await KS(s,{},async()=>{const a=Ir({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await XS(s,o,"/v1/token",`key=${u}`),d=await s._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return s.emulatorConfig&&Qi(s.emulatorConfig.host)&&(m.credentials="include"),QS.fetch()(h,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Wx(s,e){return Rn(s,"POST","/v2/accounts:revokeToken",An(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const i=Dv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await Xx(e,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,h=new vr;return a&&(Z(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(Z(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Z(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vr,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(s,e){Z(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class cn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new od(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await ul(this,this.stsTokenManager.getToken(this.auth,e));return Z(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Gx(this,e)}reload(){return Qx(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Tu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ft(this.auth.app))return Promise.reject(Zn(this.auth));const e=await this.getIdToken();return await ul(this,Vx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,h=i.photoURL??void 0,d=i.tenantId??void 0,m=i._redirectEventId??void 0,p=i.createdAt??void 0,_=i.lastLoginAt??void 0,{uid:E,emailVerified:v,isAnonymous:R,providerData:O,stsTokenManager:P}=i;Z(E&&P,e,"internal-error");const j=vr.fromJSON(this.name,P);Z(typeof E=="string",e,"internal-error"),Di(a,e.name),Di(o,e.name),Z(typeof v=="boolean",e,"internal-error"),Z(typeof R=="boolean",e,"internal-error"),Di(u,e.name),Di(h,e.name),Di(d,e.name),Di(m,e.name),Di(p,e.name),Di(_,e.name);const H=new cn({uid:E,auth:e,email:o,emailVerified:v,displayName:a,isAnonymous:R,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:j,createdAt:p,lastLoginAt:_});return O&&Array.isArray(O)&&(H.providerData=O.map(B=>({...B}))),m&&(H._redirectEventId=m),H}static async _fromIdTokenResponse(e,i,a=!1){const o=new vr;o.updateFromServerResponse(i);const u=new cn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Tu(u),u}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Z(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new vr;d.updateFromIdToken(a);const m=new cn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new od(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;function Xn(s){ni(s instanceof Function,"Expected a class definition");let e=Iv.get(s);return e?(ni(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Iv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}$S.type="NONE";const Mv=$S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(s,e,i){return`firebase:${s}:${e}:${i}`}class Er{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=eu(this.userKey,o.apiKey,u),this.fullPersistenceKey=eu("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Cu(this.auth,{idToken:e}).catch(()=>{});return i?cn._fromGetAccountInfoResponse(this.auth,i,e):null}return cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Er(Xn(Mv),e,a);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Xn(Mv);const h=eu(a,e.config.apiKey,e.name);let d=null;for(const p of i)try{const _=await p._get(h);if(_){let E;if(typeof _=="string"){const v=await Cu(e,{idToken:_}).catch(()=>{});if(!v)break;E=await cn._fromGetAccountInfoResponse(e,v,_)}else E=cn._fromJSON(e,_);p!==u&&(d=E),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Er(u,e,a):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Er(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ib(e))return"Blackberry";if(sb(e))return"Webos";if(JS(e))return"Safari";if((e.includes("chrome/")||eb(e))&&!e.includes("edge/"))return"Chrome";if(nb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function ZS(s=wt()){return/firefox\//i.test(s)}function JS(s=wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eb(s=wt()){return/crios\//i.test(s)}function tb(s=wt()){return/iemobile/i.test(s)}function nb(s=wt()){return/android/i.test(s)}function ib(s=wt()){return/blackberry/i.test(s)}function sb(s=wt()){return/webos/i.test(s)}function pp(s=wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function $x(s=wt()){return pp(s)&&!!window.navigator?.standalone}function Zx(){return G1()&&document.documentMode===10}function rb(s=wt()){return pp(s)||nb(s)||sb(s)||ib(s)||/windows phone/i.test(s)||tb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(s,e=[]){let i;switch(s){case"Browser":i=kv(wt());break;case"Worker":i=`${kv(wt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Mr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((h,d)=>{try{const m=e(u);h(m)}catch(m){d(m)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(s,e={}){return Rn(s,"GET","/v2/passwordPolicy",An(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=6;class nO{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??tO,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new Jx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Xn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Er.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Cu(this,{idToken:e}),a=await cn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ft(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Tu(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ft(this.app))return Promise.reject(Zn(this));const i=e?tt(e):null;return i&&Z(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ft(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ft(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eO(this),i=new nO(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Wx(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Xn(e)||this._popupRedirectResolver;Z(i,this,"argument-error"),this.redirectPersistenceManager=await Er.create(this,[Xn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,a,o);return()=>{h=!0,m()}}else{const m=e.addObserver(i);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Mx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ki(s){return tt(s)}class Lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ew(i=>this.observer=i)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sO(s){Xu=s}function lb(s){return Xu.loadJS(s)}function rO(){return Xu.recaptchaEnterpriseScript}function aO(){return Xu.gapiScript}function lO(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class oO{constructor(){this.enterprise=new uO}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class uO{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const cO="recaptcha-enterprise",ob="NO_RECAPTCHA";class fO{constructor(e){this.type=cO,this.auth=Ki(e)}async verify(e="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{qx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new Bx(m);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(m=>{d(m)})})}function o(u,h,d){const m=window.grecaptcha;Ov(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(ob)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oO().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(d=>{if(!i&&Ov(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=rO();m.length!==0&&(m+=d),lb(m).then(()=>{o(d,u,h)}).catch(p=>{h(p)})}}).catch(d=>{h(d)})})}}async function Uv(s,e,i,a=!1,o=!1){const u=new fO(s);let h;if(o)h=ob;else try{h=await u.verify(i)}catch{h=await u.verify(i,!0)}const d={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function wu(s,e,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Uv(s,e,i,i==="getOobCode");return a(s,u)}else return a(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Uv(s,e,i,i==="getOobCode");return a(s,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(s,e){const i=Lu(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(ys(u,e??{}))return o;dn(o,"already-initialized")}return i.initialize({options:e})}function dO(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xn);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function pO(s,e,i){const a=Ki(s);Z(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=ub(e),{host:h,port:d}=mO(e),m=d===null?"":`:${d}`,p={url:`${u}//${h}${m}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Z(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Z(ys(p,a.config.emulator)&&ys(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,Qi(h)?(Sd(`${u}//${h}${m}`),bd("Auth",!0)):gO()}function ub(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function mO(s){const e=ub(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:zv(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:zv(h)}}}function zv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function gO(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,i){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}async function _O(s,e){return Rn(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(s,e){return Tl(s,"POST","/v1/accounts:signInWithPassword",An(s,e))}async function vO(s,e){return Rn(s,"POST","/v1/accounts:sendOobCode",An(s,e))}async function EO(s,e){return vO(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(s,e){return Tl(s,"POST","/v1/accounts:signInWithEmailLink",An(s,e))}async function bO(s,e){return Tl(s,"POST","/v1/accounts:signInWithEmailLink",An(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends mp{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new cl(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new cl(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wu(e,i,"signInWithPassword",yO);case"emailLink":return SO(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wu(e,a,"signUpPassword",_O);case"emailLink":return bO(e,{idToken:i,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sr(s,e){return Tl(s,"POST","/v1/accounts:signInWithIdp",An(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="http://localhost";class Ts extends mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):dn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=i;if(!a||!o)return null;const h=new Ts(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return Sr(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Sr(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Sr(e,i)}buildRequest(){const e={requestUri:CO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ir(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wO(s){const e=ja(Ha(s)).link,i=e?ja(Ha(e)).deep_link_id:null,a=ja(Ha(s)).deep_link_id;return(a?ja(Ha(a)).link:null)||a||i||e||s}class gp{constructor(e){const i=ja(Ha(e)),a=i.apiKey??null,o=i.oobCode??null,u=TO(i.mode??null);Z(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=wO(e);try{return new gp(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.providerId=Pr.PROVIDER_ID}static credential(e,i){return cl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=gp.parseLink(i);return Z(a,"argument-error"),cl._fromEmailAndCode(e,a.code,a.tenantId)}}Pr.PROVIDER_ID="password";Pr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends wl{constructor(){super("facebook.com")}static credential(e){return Ts._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ts._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Mi.credential(i,a)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends wl{constructor(){super("github.com")}static credential(e){return Ts._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com";ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends wl{constructor(){super("twitter.com")}static credential(e,i){return Ts._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Li.credential(i,a)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(s,e){return Tl(s,"POST","/v1/accounts:signUp",An(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const u=await cn._fromIdTokenResponse(e,a,o),h=Pv(a);return new ws({user:u,providerId:h,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=Pv(a);return new ws({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function Pv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends si{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Au.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Au(e,i,a,o)}}function fb(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Au._fromErrorAndOperation(s,u,e,a):u})}async function RO(s,e,i=!1){const a=await ul(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ws._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(s,e,i=!1){const{auth:a}=s;if(Ft(a.app))return Promise.reject(Zn(a));const o="reauthenticate";try{const u=await ul(s,fb(a,o,e,s),i);Z(u.idToken,a,"internal-error");const h=dp(u.idToken);Z(h,a,"internal-error");const{sub:d}=h;return Z(s.uid===d,a,"user-mismatch"),ws._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&dn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(s,e,i=!1){if(Ft(s.app))return Promise.reject(Zn(s));const a="signIn",o=await fb(s,a,e),u=await ws._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(u.user),u}async function xO(s,e){return hb(Ki(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(s){const e=Ki(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OO(s,e,i){const a=Ki(s);await wu(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",EO)}async function DO(s,e,i){if(Ft(s.app))return Promise.reject(Zn(s));const a=Ki(s),h=await wu(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&db(s),m}),d=await ws._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function IO(s,e,i){return Ft(s.app)?Promise.reject(Zn(s)):xO(tt(s),Pr.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&db(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(s,e){return Rn(s,"POST","/v1/accounts:createAuthUri",An(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(s,e){const i=YS()?bu():"http://localhost",a={identifier:e,continueUri:i},{signinMethods:o}=await MO(tt(s),a);return o||[]}function LO(s,e,i,a){return tt(s).onIdTokenChanged(e,i,a)}function UO(s,e,i){return tt(s).beforeAuthStateChanged(e,i)}function zO(s,e,i,a){return tt(s).onAuthStateChanged(e,i,a)}const Ru="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=1e3,jO=10;class mb extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!i&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);Zx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jO):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},PO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}mb.type="LOCAL";const HO=mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}gb.type="SESSION";const _b=gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Wu(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:u}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async p=>p(i.origin,u)),m=await BO(d);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const p=_p("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(E){const v=E;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(v.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function VO(s){Cn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function GO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FO(){return navigator?.serviceWorker?.controller||null}function YO(){return yb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firebaseLocalStorageDb",QO=1,Nu="firebaseLocalStorage",Eb="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function $u(s,e){return s.transaction([Nu],e?"readwrite":"readonly").objectStore(Nu)}function KO(){const s=indexedDB.deleteDatabase(vb);return new Al(s).toPromise()}function ud(){const s=indexedDB.open(vb,QO);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Nu,{keyPath:Eb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Nu)?e(a):(a.close(),await KO(),e(await ud()))})})}async function jv(s,e,i){const a=$u(s,!0).put({[Eb]:e,value:i});return new Al(a).toPromise()}async function XO(s,e){const i=$u(s,!1).get(e),a=await new Al(i).toPromise();return a===void 0?null:a.value}function Hv(s,e){const i=$u(s,!0).delete(e);return new Al(i).toPromise()}const WO=800,$O=3;class Sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ud(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>$O)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wu._getInstance(YO()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GO(),!this.activeServiceWorker)return;this.sender=new qO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ud();return await jv(e,Ru,"1"),await Hv(e,Ru),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>jv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>XO(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Hv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=$u(o,!1).getAll();return new Al(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sb.type="LOCAL";const ZO=Sb;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(s,e){return e?Xn(e):(Z(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Sr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Sr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function eD(s){return hb(s.auth,new yp(s),s.bypassAuthState)}function tD(s){const{auth:e,user:i}=s;return Z(i,e,"internal-error"),NO(i,new yp(s),s.bypassAuthState)}async function nD(s){const{auth:e,user:i}=s;return Z(i,e,"internal-error"),RO(i,new yp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,i,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eD;case"linkViaPopup":case"linkViaRedirect":return nD;case"reauthViaPopup":case"reauthViaRedirect":return tD;default:dn(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new Cl(2e3,1e4);class gr extends bb{constructor(e,i,a,o,u){super(e,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,gr.currentPopupAction&&gr.currentPopupAction.cancel(),gr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iD.get())};e()}}gr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="pendingRedirect",tu=new Map;class rD extends bb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=tu.get(this.auth._key());if(!e){try{const a=await aD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}tu.set(this.auth._key(),e)}return this.bypassAuthState||tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aD(s,e){const i=uD(e),a=oD(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function lD(s,e){tu.set(s._key(),e)}function oD(s){return Xn(s._redirectPersistence)}function uD(s){return eu(sD,s.config.apiKey,s.name)}async function cD(s,e,i=!1){if(Ft(s.app))return Promise.reject(Zn(s));const a=Ki(s),o=JO(a,e),h=await new rD(a,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=600*1e3;class hD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dD(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Cb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(bn(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Cb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function dD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(s,e={}){return Rn(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gD=/^https?/;async function _D(s){if(s.config.emulator)return;const{authorizedDomains:e}=await pD(s);for(const i of e)try{if(yD(i))return}catch{}dn(s,"unauthorized-domain")}function yD(s){const e=bu(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===a}if(!gD.test(i))return!1;if(mD.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new Cl(3e4,6e4);function qv(){const s=Cn().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ED(s){return new Promise((e,i)=>{function a(){qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qv(),i(bn(s,"network-request-failed"))},timeout:vD.get()})}if(Cn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cn().gapi?.load)a();else{const o=lO("iframefcb");return Cn()[o]=()=>{gapi.load?a():i(bn(s,"network-request-failed"))},lb(`${aO()}?onload=${o}`).catch(u=>i(u))}}).catch(e=>{throw nu=null,e})}let nu=null;function SD(s){return nu=nu||ED(s),nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Cl(5e3,15e3),CD="__/auth/iframe",TD="emulator/auth/iframe",wD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RD(s){const e=s.config;Z(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?hp(e,TD):`https://${s.config.authDomain}/${CD}`,a={apiKey:e.apiKey,appName:s.name,v:Mr},o=AD.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Ir(a).slice(1)}`}async function ND(s){const e=await SD(s),i=Cn().gapi;return Z(i,s,"internal-error"),e.open({where:document.body,url:RD(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wD,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=bn(s,"network-request-failed"),d=Cn().setTimeout(()=>{u(h)},bD.get());function m(){Cn().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OD=500,DD=600,ID="_blank",MD="http://localhost";class Vv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kD(s,e,i,a=OD,o=DD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m={...xD,width:a.toString(),height:o.toString(),top:u,left:h},p=wt().toLowerCase();i&&(d=eb(p)?ID:i),ZS(p)&&(e=e||MD,m.scrollbars="yes");const _=Object.entries(m).reduce((v,[R,O])=>`${v}${R}=${O},`,"");if($x(p)&&d!=="_self")return LD(e||"",d),new Vv(null);const E=window.open(e||"",d,_);Z(E,s,"popup-blocked");try{E.focus()}catch{}return new Vv(E)}function LD(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__/auth/handler",zD="emulator/auth/handler",PD=encodeURIComponent("fac");async function Gv(s,e,i,a,o,u){Z(s.config.authDomain,s,"auth-domain-config-required"),Z(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Mr,eventId:o};if(e instanceof cb){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",Bh(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))h[_]=E}if(e instanceof wl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(h.scopes=_.join(","))}s.tenantId&&(h.tid=s.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await s._getAppCheckToken(),p=m?`#${PD}=${encodeURIComponent(m)}`:"";return`${jD(s)}?${Ir(d).slice(1)}${p}`}function jD({config:s}){return s.emulator?hp(s,zD):`https://${s.authDomain}/${UD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="webStorageSupport";class HD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_b,this._completeRedirectFn=cD,this._overrideRedirectResult=lD}async _openPopup(e,i,a,o){ni(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Gv(e,i,a,bu(),o);return kD(e,u,_p())}async _openRedirect(e,i,a,o){await this._originValidation(e);const u=await Gv(e,i,a,bu(),o);return VO(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(ni(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await ND(e),a=new hD(e);return i.register("authEvent",o=>(Z(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Ph,{type:Ph},o=>{const u=o?.[0]?.[Ph];u!==void 0&&i(!!u),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_D(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return rb()||JS()||pp()}}const BD=HD;var Fv="@firebase/auth",Yv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GD(s){vs(new qi("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;Z(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ab(s)},p=new iO(a,o,u,m);return dO(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),vs(new qi("auth-internal",e=>{const i=Ki(e.getProvider("auth").getImmediate());return(a=>new qD(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Fv,Yv,VD(s)),Sn(Fv,Yv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=300,YD=bE("authIdTokenMaxAge")||FD;let Qv=null;const QD=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>YD)return;const o=i?.token;Qv!==o&&(Qv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KD(s=Ad()){const e=Lu(s,"auth");if(e.isInitialized())return e.getImmediate();const i=hO(s,{popupRedirectResolver:BD,persistence:[ZO,HO,_b]}),a=bE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=QD(u.toString());UO(i,h,()=>h(i.currentUser)),LO(i,d=>h(d))}}const o=vE("auth");return o&&pO(i,`http://${o}`),i}function XD(){return document.getElementsByTagName("head")?.[0]??document}sO({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const u=bn("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",XD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="type.googleapis.com/google.protobuf.Int64Value",$D="type.googleapis.com/google.protobuf.UInt64Value";function Tb(s,e){const i={};for(const a in s)s.hasOwnProperty(a)&&(i[a]=e(s[a]));return i}function xu(s){if(s==null)return null;if(s instanceof Number&&(s=s.valueOf()),typeof s=="number"&&isFinite(s)||s===!0||s===!1||Object.prototype.toString.call(s)==="[object String]")return s;if(s instanceof Date)return s.toISOString();if(Array.isArray(s))return s.map(e=>xu(e));if(typeof s=="function"||typeof s=="object")return Tb(s,e=>xu(e));throw new Error("Data cannot be encoded in JSON: "+s)}function Rr(s){if(s==null)return s;if(s["@type"])switch(s["@type"]){case WD:case $D:{const e=Number(s.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+s);return e}default:throw new Error("Data cannot be decoded from JSON: "+s)}return Array.isArray(s)?s.map(e=>Rr(e)):typeof s=="function"||typeof s=="object"?Tb(s,e=>Rr(e)):s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends si{constructor(e,i,a){super(`${vp}/${e}`,i||""),this.details=a,Object.setPrototypeOf(this,kt.prototype)}}function ZD(s){if(s>=200&&s<300)return"ok";switch(s){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ou(s,e){let i=ZD(s),a=i,o;try{const u=e&&e.error;if(u){const h=u.status;if(typeof h=="string"){if(!Kv[h])return new kt("internal","internal");i=Kv[h],a=h}const d=u.message;typeof d=="string"&&(a=d),o=u.details,o!==void 0&&(o=Rr(o))}}catch{}return i==="ok"?null:new kt(i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,i,a,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ft(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=i.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||i.get().then(u=>this.auth=u,()=>{}),this.messaging||a.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const i=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(e){const i=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:i,messagingToken:a,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="us-central1",eI=/^data: (.*?)(?:\n|$)/;function tI(s){let e=null;return{promise:new Promise((i,a)=>{e=setTimeout(()=>{a(new kt("deadline-exceeded","deadline-exceeded"))},s)}),cancel:()=>{e&&clearTimeout(e)}}}class nI{constructor(e,i,a,o,u=cd,h=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new JD(e,i,a,o),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(u);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=cd}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${i}.cloudfunctions.net/${e}`}}function iI(s,e,i){const a=Qi(e);s.emulatorOrigin=`http${a?"s":""}://${e}:${i}`,a&&(Sd(s.emulatorOrigin+"/backends"),bd("Functions",!0))}function sI(s,e,i){const a=o=>aI(s,e,o,{});return a.stream=(o,u)=>oI(s,e,o,u),a}function wb(s){return s.emulatorOrigin&&Qi(s.emulatorOrigin)?"include":void 0}async function rI(s,e,i,a,o){i["Content-Type"]="application/json";let u;try{u=await a(s,{method:"POST",body:JSON.stringify(e),headers:i,credentials:wb(o)})}catch{return{status:0,json:null}}let h=null;try{h=await u.json()}catch{}return{status:u.status,json:h}}async function Ab(s,e){const i={},a=await s.contextProvider.getContext(e.limitedUseAppCheckTokens);return a.authToken&&(i.Authorization="Bearer "+a.authToken),a.messagingToken&&(i["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=a.appCheckToken),i}function aI(s,e,i,a){const o=s._url(e);return lI(s,o,i,a)}async function lI(s,e,i,a){i=xu(i);const o={data:i},u=await Ab(s,a),h=a.timeout||7e4,d=tI(h),m=await Promise.race([rI(e,o,u,s.fetchImpl,s),d.promise,s.cancelAllRequests]);if(d.cancel(),!m)throw new kt("cancelled","Firebase Functions instance was deleted.");const p=Ou(m.status,m.json);if(p)throw p;if(!m.json)throw new kt("internal","Response is not valid JSON object.");let _=m.json.data;if(typeof _>"u"&&(_=m.json.result),typeof _>"u")throw new kt("internal","Response is missing data field.");return{data:Rr(_)}}function oI(s,e,i,a){const o=s._url(e);return uI(s,o,i,a||{})}async function uI(s,e,i,a){i=xu(i);const o={data:i},u=await Ab(s,a);u["Content-Type"]="application/json",u.Accept="text/event-stream";let h;try{h=await s.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:u,signal:a?.signal,credentials:wb(s)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const O=new kt("cancelled","Request was cancelled.");return{data:Promise.reject(O),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(O)}}}}}}const R=Ou(0,null);return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}let d,m;const p=new Promise((v,R)=>{d=v,m=R});a?.signal?.addEventListener("abort",()=>{const v=new kt("cancelled","Request was cancelled.");m(v)});const _=h.body.getReader(),E=cI(_,d,m,a?.signal);return{stream:{[Symbol.asyncIterator](){const v=E.getReader();return{async next(){const{value:R,done:O}=await v.read();return{value:R,done:O}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:p}}function cI(s,e,i,a){const o=(h,d)=>{const m=h.match(eI);if(!m)return;const p=m[1];try{const _=JSON.parse(p);if("result"in _){e(Rr(_.result));return}if("message"in _){d.enqueue(Rr(_.message));return}if("error"in _){const E=Ou(0,_);d.error(E),i(E);return}}catch(_){if(_ instanceof kt){d.error(_),i(_);return}}},u=new TextDecoder;return new ReadableStream({start(h){let d="";return m();async function m(){if(a?.aborted){const p=new kt("cancelled","Request was cancelled");return h.error(p),i(p),Promise.resolve()}try{const{value:p,done:_}=await s.read();if(_){d.trim()&&o(d.trim(),h),h.close();return}if(a?.aborted){const v=new kt("cancelled","Request was cancelled");h.error(v),i(v),await s.cancel();return}d+=u.decode(p,{stream:!0});const E=d.split(`
`);d=E.pop()||"";for(const v of E)v.trim()&&o(v.trim(),h);return m()}catch(p){const _=p instanceof kt?p:Ou(0,null);h.error(_),i(_)}}},cancel(){return s.cancel()}})}const Xv="@firebase/functions",Wv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="auth-internal",hI="app-check-internal",dI="messaging-internal";function pI(s){const e=(i,{instanceIdentifier:a})=>{const o=i.getProvider("app").getImmediate(),u=i.getProvider(fI),h=i.getProvider(dI),d=i.getProvider(hI);return new nI(o,u,h,d,a)};vs(new qi(vp,e,"PUBLIC").setMultipleInstances(!0)),Sn(Xv,Wv,s),Sn(Xv,Wv,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(s=Ad(),e=cd){const a=Lu(tt(s),vp).getImmediate({identifier:e}),o=EE("functions");return o&&gI(a,...o),a}function gI(s,e,i){iI(tt(s),e,i)}function _I(s,e,i){return sI(tt(s),e)}pI();const yI={apiKey:"AIzaSyDpsWFFZINv7aXPXK0uBum9U_w8mRSEL64",authDomain:"pluspoint-f355e.firebaseapp.com",databaseURL:"https://pluspoint-f355e-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pluspoint-f355e",storageBucket:"pluspoint-f355e.firebasestorage.app",messagingSenderId:"520562860299",appId:"1:520562860299:web:b1a821c743b563d0ef420e"},Ep=RE(yI),He=Nx(Ep),vt=KD(Ep),vI=mI(Ep);async function Rb(s){const e=je(He,`childrenProfiles/${s}/parentUid`);return(await Cs(e)).val()}async function EI(s){const e=je(He,`childrenProfiles/${s}/points`);return(await Cs(e)).val()||0}async function SI(s,e){const i=vt.currentUser;if(!i)throw new Error("No authenticated user.");if(!e)throw new Error("Parent UID not available for purchase.");const a=i.uid,o=s.price;try{const u=await EI(a);if(u<o){alert(`You don't have enough points to buy ${s.name}! You need ${o} but only have ${u}.`);return}const h=u-o,d=je(He,`childrenProfiles/${a}`);await yr(d,{points:h});const m=je(He,`childrenProfiles/${a}/purchases`);await cp(m,{itemId:s.id,itemName:s.name,price:o,timestamp:qS(),parentUid:e}),alert(`Successfully bought ${s.name} for ${o} points! You now have ${h} points.`),console.log(`Child ${a} bought ${s.name}. New points: ${h}.`)}catch(u){console.error("Error during buy operation:",u),alert("Failed to complete purchase: "+u.message)}}function bI(s){const e=vt.currentUser;if(!e)return console.error("No authenticated user (child) for shop viewing."),s([]),()=>{};let i=()=>{};return Rb(e.uid).then(a=>{if(a){const o=je(He,`shop/${a}`);i=Ns(o,u=>{const h=u.val(),d=[];h&&Object.keys(h).forEach(m=>{d.push({...h[m],id:m})}),s(d)})}else console.warn(`No parent UID found for child ${e.uid}. Cannot display shop.`),s([])}).catch(a=>{console.error("Error fetching parent UID:",a),s([])}),()=>{i()}}function CI(){const[s,e]=w.useState([]),[i,a]=w.useState(0),[o,u]=w.useState(null);w.useEffect(()=>{const d=vt.currentUser;if(d){const m=je(He,`childrenProfiles/${d.uid}/points`),p=Ns(m,_=>{a(_.val()||0)});Rb(d.uid).then(_=>{if(_){u(_);const E=bI(e);return()=>{p(),E()}}else p(),console.warn("Parent UID not found for this child.")})}else e([]),a(0);return()=>{}},[]);const h=async d=>{await SI(d,o)};return S.jsxs("div",{children:[S.jsx("h2",{children:"Your Shop"}),S.jsxs("p",{children:["Your current points: ",S.jsx("strong",{children:i})]}),s.length===0?S.jsx("p",{children:"Your parent hasn't added any items to the shop yet."}):S.jsx("ul",{style:{listStyle:"none",padding:0},children:s.map(d=>S.jsxs("li",{children:[S.jsx("h4",{children:d.name}),d.imageUrl&&S.jsx("img",{src:d.imageUrl,alt:d.name}),S.jsx("p",{children:d.description}),S.jsxs("p",{children:["Cost: ",S.jsxs("strong",{children:[d.price," points"]})]}),S.jsx("button",{onClick:()=>h(d),disabled:i<d.price,children:"Buy"}),i<d.price&&S.jsx("span",{style:{marginLeft:"10px",color:"red"},children:"Not enough points!"})]},d.id))})]})}function TI(s){const e=vt.currentUser;if(!e)return console.error("No authenticated user for shop management."),s([]),()=>{};const i=je(He,`shop/${e.uid}`);return Ns(i,o=>{const u=o.val(),h=[];u&&Object.keys(u).forEach(d=>{h.push({...u[d],id:d})}),s(h)})}async function wI(s){const e=vt.currentUser;if(!e)throw new Error("No authenticated user.");const i=je(He,`shop/${e.uid}`);await cp(i,s),console.log("Shop item added successfully!")}async function AI(s,e){const i=vt.currentUser;if(!i)throw new Error("No authenticated user.");const a=je(He,`shop/${i.uid}/${s}`);await yr(a,e),console.log(`Shop item ${s} updated successfully!`)}async function RI(s){const e=vt.currentUser;if(!e)throw new Error("No authenticated user.");const i=je(He,`shop/${e.uid}/${s}`);await mx(i),console.log(`Shop item ${s} deleted successfully!`)}function NI(){const[s,e]=w.useState([]),[i,a]=w.useState({name:"",price:0,description:"",imageUrl:""}),[o,u]=w.useState(null);w.useEffect(()=>{const p=TI(e);return()=>p()},[]);const h=async p=>{if(p.preventDefault(),!i.name||!i.price){alert("Please fill in item name and a point reward");return}try{await wI(i),a({name:"",price:0,description:"",imageUrl:""})}catch(_){console.error("Error adding item:",_),alert("Failed to add item: "+_.message)}},d=async(p,_)=>{try{await AI(p,_),u(null)}catch(E){console.error("Error updating item:",E),alert("Failed to update item: "+E.message)}},m=async p=>{if(window.confirm("Are you sure you want to delete this item?"))try{await RI(p)}catch(_){console.error("Error deleting item:",_),alert("Failed to delete item: "+_.message)}};return S.jsxs("div",{children:[S.jsx("h3",{children:"Add New Item"}),S.jsxs("form",{onSubmit:h,children:[S.jsx("input",{type:"text",placeholder:"Item Name",value:i.name,onChange:p=>a({...i,name:p.target.value}),required:!0}),S.jsx("input",{type:"number",placeholder:"Price",value:i.price,onChange:p=>a({...i,price:parseFloat(p.target.value)||0}),min:"1",required:!0}),S.jsx("textarea",{placeholder:"Description (Optional)",value:i.description,onChange:p=>a({...i,description:p.target.value}),required:!0}),S.jsx("input",{type:"text",placeholder:"Image URL (Optional)",value:i.imageUrl||"",onChange:p=>a({...i,imageUrl:p.target.value})}),S.jsx("button",{type:"submit",children:"Add Item"})]}),S.jsx("h3",{children:"Current Shop Items"}),s.length===0?S.jsx("p",{children:"You haven't added any items to your shop yet."}):S.jsx("ul",{children:s.map(p=>S.jsx("li",{style:{border:"1px solid #ccc",margin:"10px 0",padding:"10px"},children:o&&o.id===p.id?S.jsxs("form",{onSubmit:_=>{_.preventDefault(),d(p.id,o)},children:[S.jsx("input",{type:"text",value:o.name,onChange:_=>u({...o,name:_.target.value})}),S.jsx("input",{type:"number",value:o.price,onChange:_=>u({...o,price:parseFloat(_.target.value)||0})}),S.jsx("textarea",{value:o.description,onChange:_=>u({...o,description:_.target.value})}),S.jsx("input",{type:"text",value:o.imageUrl||"",onChange:_=>u({...o,imageUrl:_.target.value})}),S.jsx("button",{type:"submit",children:"Save"}),S.jsx("button",{type:"button",onClick:()=>u(null),children:"Cancel"})]}):S.jsxs(S.Fragment,{children:[S.jsx("h4",{children:p.name}),p.imageUrl&&S.jsx("img",{src:p.imageUrl,alt:p.name,style:{maxWidth:"100px",height:"auto"}}),S.jsxs("p",{children:[" ",p.description]}),S.jsxs("p",{children:["Cost: ",p.price," points"]}),S.jsx("button",{onClick:()=>u({...p}),children:"Edit"})," ",S.jsx("button",{onClick:()=>m(p.id),children:"Delete"})]})},p.id))})]})}function xI(){const[s,e]=w.useState([]),[i,a]=w.useState(!0),[o,u]=w.useState(null),h=vt.currentUser;w.useEffect(()=>{if(!h){u("You must be logged in as a child to view tasks."),a(!1);return}const m=h.uid,p=je(He,"tasks"),_=ol(p,al("assignedToChildUid"),ll(m)),E=Ns(_,v=>{const R=[];v.exists()&&v.forEach(O=>{R.push({id:O.key,...O.val()})}),e(R),a(!1),u(null)},v=>{console.error("Error fetching child's tasks:",v),u("Failed to load tasks. Please try again."),a(!1)});return()=>{Qu(_,"value",E)}},[h]);const d=async m=>{if(!h){u("You must be logged in to mark tasks as complete.");return}if(window.confirm("Are you sure you want to mark this task as completed?"))try{const p=je(He,`tasks/${m}`);await yr(p,{status:"completed",completedAt:qS()}),alert("Task marked as completed!")}catch(p){console.error("Error marking task as completed:",p),u("Failed to mark task as completed: "+(p.message||"An unknown error occurred."))}};return i?S.jsx("div",{children:"Loading your tasks..."}):o?S.jsx("p",{style:{color:"red"},children:o}):s.length===0?S.jsx("p",{children:"You currently have no tasks assigned. Great job, or ask your parent for more!"}):S.jsxs("div",{children:[S.jsx("h2",{children:"Your Assigned Tasks"}),S.jsx("ul",{style:{listStyle:"none",padding:0},children:s.map(m=>S.jsxs("li",{style:{border:"1px solid #ccc",margin:"10px 0",padding:"15px",borderRadius:"8px",backgroundColor:m.status==="completed"?"#e0ffe0":"#fff"},children:[S.jsxs("h3",{children:[m.name," (",m.points," points)"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Description:"})," ",m.description]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Room:"})," ",m.room]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Assigned Day:"})," ",m.assignedDay]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Repeat:"})," ",m.repeat.replace(/_/g," ")]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Status:"})," ",m.status.charAt(0).toUpperCase()+m.status.slice(1)]}),m.completedAt&&S.jsxs("p",{children:[S.jsx("strong",{children:"Completed On:"})," ",new Date(m.completedAt).toLocaleDateString()]}),m.status==="pending"&&S.jsx("button",{onClick:()=>d(m.id),style:{backgroundColor:"#4CAF50",color:"white",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"10px"},children:"Mark as Completed"}),m.status==="completed"&&S.jsx("p",{style:{color:"green",fontWeight:"bold"},children:"Awaiting Parent Verification"})]},m.id))})]})}function OI(){const[s,e]=w.useState([]),[i,a]=w.useState({}),[o,u]=w.useState(!0),[h,d]=w.useState(null),p=vt.currentUser?.uid;w.useEffect(()=>{if(!p){d("You must be logged in as a parent to verify tasks."),u(!1);return}const v=je(He,"childrenProfiles");Cs(ol(v,al("parentUid"),ll(p))).then(j=>{const H={};j.exists()&&j.forEach(B=>{H[B.key]=B.val().displayName||"Unknown Child"}),a(H)}).catch(j=>console.error("Error fetching child names:",j));const R=je(He,"tasks"),O=ol(R,al("createdByParentUid"),ll(p)),P=Ns(O,j=>{const H=[];j.exists()&&j.forEach(B=>{const K={id:B.key,...B.val()};K.status==="completed"&&H.push(K)}),e(H),u(!1),d(null)},j=>{console.error("Error fetching parent's tasks:",j),d("Failed to load tasks for verification. Please try again."),u(!1)});return()=>{Qu(O,"value",P)}},[p]);const _=async v=>{if(!p){d("Authentication error. Please log in again.");return}if(window.confirm(`Approve "${v.name}" for ${i[v.assignedToChildUid]} and award ${v.points} points?`))try{const R=je(He,`tasks/${v.id}`);await yr(R,{status:"verified"});const O=je(He,`childrenProfiles/${v.assignedToChildUid}/points`),H=((await Cs(O)).val()||0)+v.points;await yr(je(He,`childrenProfiles/${v.assignedToChildUid}`),{points:H}),alert(`Task "${v.name}" approved! ${v.points} points awarded to ${i[v.assignedToChildUid]}.`)}catch(R){console.error("Error approving task:",R),d(`Failed to approve task: ${R.message||"An unknown error occurred."}`)}},E=async v=>{if(!p){d("Authentication error. Please log in again.");return}if(window.confirm(`Deny "${v.name}" for ${i[v.assignedToChildUid]}? The task will be reset to pending.`))try{const R=je(He,`tasks/${v.id}`);await yr(R,{status:"pending",completedAt:null}),alert(`Task "${v.name}" denied. Status reset to pending.`)}catch(R){console.error("Error denying task:",R),d(`Failed to deny task: ${R.message||"An unknown error occurred."}`)}};return o?S.jsx("div",{children:"Loading tasks for verification..."}):h?S.jsx("p",{style:{color:"red"},children:h}):S.jsxs("div",{className:"task-box",children:[S.jsx("h2",{children:"Tasks Awaiting Your Verification"}),s.length===0?S.jsx("p",{children:"No tasks currently awaiting your verification. All caught up!"}):S.jsx("ul",{style:{listStyle:"none",padding:0},children:s.map(v=>S.jsxs("li",{children:[S.jsxs("h3",{children:[v.name," (",v.points," points)"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Assigned to:"})," ",i[v.assignedToChildUid]||v.assignedToChildUid]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Description:"})," ",v.description]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Room:"})," ",v.room]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Assigned Day:"})," ",v.assignedDay]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Status:"})," ",v.status.charAt(0).toUpperCase()+v.status.slice(1)]}),v.completedAt&&S.jsxs("p",{children:[S.jsx("strong",{children:"Child marked complete:"})," ",new Date(v.completedAt).toLocaleString()]}),S.jsxs("div",{style:{marginTop:"10px"},children:[S.jsx("button",{onClick:()=>_(v),children:"Approve & Award Points"}),S.jsx("button",{onClick:()=>E(v),children:"Deny & Reset"})]})]},v.id))})]})}function DI(){const s=Tn(),[e,i]=w.useState(null),[a,o]=w.useState([]),[u,h]=w.useState(!0),[d,m]=w.useState(null);function p(){s("/addchild")}if(w.useEffect(()=>{const _=vt.onAuthStateChanged(async E=>{if(h(!0),m(null),o([]),!E){i(null),h(!1),m("Please log in to use PlusPoint.");return}const v=E.uid;try{const R=je(He,`childrenProfiles/${v}/parentUid`);if((await Cs(R)).exists())i("child"),h(!1);else{i("parent");const P=je(He,"childrenProfiles"),j=ol(P,al("parentUid"),ll(v)),H=Ns(j,B=>{const K=[];B.exists()&&B.forEach(ae=>{K.push({id:ae.key,...ae.val()})}),K.sort((ae,ge)=>(ae.displayName||"").localeCompare(ge.displayName||"")),o(K),h(!1)},B=>{console.error("Error fetching child accounts:",B),h(!1),m("Failed to load child accounts. Please ensure you are logged in and have permission.")});return()=>Qu(j,"value",H)}}catch(R){console.error("Error determining user role:",R),m("Could not determine user role. Please try again."),h(!1)}});return()=>_()},[]),u)return S.jsx("p",{children:"Loading child accounts for PlusPoint..."});if(d)return S.jsx("p",{className:"error-message",children:d});if(e==="child")return S.jsxs("main",{className:"page",children:[S.jsx("h1",{children:"Welcome, Child!"}),S.jsx(CI,{}),S.jsx(xI,{})]});if(e==="parent")return S.jsxs("main",{className:"page",children:[S.jsx("h1",{children:"Welcome, Parent!"}),S.jsxs("div",{className:"home-boxes",children:[S.jsxs("h2",{className:"home-box",children:[" ",S.jsx("img",{src:"../../public/img/shopping-cart.svg"})," "]}),S.jsxs("h2",{className:"home-box",children:[" ",S.jsx("img",{src:"../../public/img/to-do.svg"})," "]}),S.jsx(OI,{})]}),S.jsx("h2",{children:"Your Child Accounts:"}),a.length===0?S.jsx("p",{children:"No child accounts found linked to your profile."}):S.jsxs("section",{className:"grid",children:[a.map(_=>S.jsx(pE,{user:_},_.id)),S.jsx("button",{className:"add-child-btn",onClick:p,children:"Tilføj Barn"})]})]})}const Nb=w.createContext();function Sp(){return w.useContext(Nb)}function II({children:s}){const[e,i]=w.useState(null),[a,o]=w.useState(!0);w.useEffect(()=>{const h=zO(vt,d=>{i(d),o(!1)});return()=>h()},[]);const u={currentUser:e,loading:a};return S.jsxs(Nb.Provider,{value:u,children:[!a&&s," ",a&&S.jsx("div",{children:"Loading authentication..."})," "]})}function MI(){const{currentUser:s,loading:e}=Sp(),i=s?.uid,[a,o]=w.useState(""),[u,h]=w.useState(""),[d,m]=w.useState(""),[p,_]=w.useState(""),[E,v]=w.useState("Vælg Dag"),[R,O]=w.useState("Vælg gentagelser"),[P,j]=w.useState(""),[H,B]=w.useState([]),[K,ae]=w.useState(!0),[ge,Le]=w.useState(!1),[ee,Ie]=w.useState(""),[Ue,gt]=w.useState(""),Et=["Vælg dag","monday","tuesday","wednesday","thursday","friday","saturday","sunday"],_t=[{value:"",label:"Vælg gentagelser"},{value:"never",label:"Never"},{value:"every_day",label:"Every Day"},{value:"every_other_day",label:"Every Other Day"},{value:"once_a_week",label:"Once a Week"},{value:"once_a_month",label:"Once a Month"}];w.useEffect(()=>{if(i){ae(!0);const re=ol(je(He,"childrenProfiles"),al("parentUid"),ll(i));Cs(re).then(We=>{if(We.exists()){const M=We.val(),V=Object.keys(M).map(W=>({uid:W,displayName:M[W].displayName}));B(V)}else B([]);ae(!1)}).catch(We=>{console.error("Error fetching children:",We),Ie("Failed to load children profiles."),ae(!1)})}else e||(B([]),ae(!1))},[i,e]);const Nn=async re=>{if(re.preventDefault(),Le(!0),Ie(""),gt(""),!s||!i){Ie("You must be logged in as a parent to create tasks."),Le(!1);return}if(!P){Ie("Please select a child to assign the task to."),Le(!1);return}const We=parseInt(p,10);if(isNaN(We)||We<0){Ie("Points value must be a non-negative number."),Le(!1);return}try{const M=je(He,"tasks"),V=cp(M),W={name:a,description:u,room:d,points:We,assignedDay:E,repeat:R,assignedToChildUid:P,createdByParentUid:i,status:"pending",createdAt:new Date().toISOString()};await Yu(V,W),gt(`Task "${a}" created successfully for ${H.find(Se=>Se.uid===P)?.displayName}!`),o(""),h(""),m(""),_(""),v("Vælg Dag"),O("never")}catch(M){console.error("Error creating task:",M),Ie(`Failed to create task: ${M.message||"An unknown error occurred."}`)}finally{Le(!1)}};return e||K?S.jsx("div",{children:"Loading user and children information..."}):s?H.length===0?S.jsxs("div",{children:[S.jsx("h2",{children:"Create a New Task"}),S.jsx("p",{children:"You don't have any child accounts linked yet. Please add a child first."})]}):S.jsxs("div",{className:"input-container-task",children:[S.jsx("h2",{children:"Create a New Task"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Logget ind som"})," ",S.jsx("br",{})," ",s?.email]}),S.jsxs("form",{onSubmit:Nn,children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"childSelect"}),S.jsxs("select",{id:"childSelect",value:P,onChange:re=>j(re.target.value),required:!0,disabled:ge,children:[S.jsx("option",{value:"",children:"Vælg barn"}),H.map(re=>S.jsx("option",{value:re.uid,children:re.displayName},re.uid))]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"taskName"}),S.jsx("input",{type:"text",id:"taskName",value:a,onChange:re=>o(re.target.value),required:!0,disabled:ge,placeholder:"Opgave Navn"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"taskDescription"}),S.jsx("textarea",{id:"taskDescription",value:u,onChange:re=>h(re.target.value),disabled:ge,placeholder:"Beskrivelse"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"taskRoom"}),S.jsx("input",{type:"text",id:"taskRoom",value:d,onChange:re=>m(re.target.value),disabled:ge,placeholder:"Rum (efterladt tom hvis ikke relevant)"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"taskPoints"}),S.jsx("input",{type:"number",id:"taskPoints",value:p,onChange:re=>_(re.target.value),min:"0",required:!0,disabled:ge,placeholder:"Point Værdi"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"assignedDay"}),S.jsx("select",{id:"assignedDay",value:E,onChange:re=>v(re.target.value),required:!0,disabled:ge,children:Et.map(re=>S.jsx("option",{value:re,children:re.charAt(0).toUpperCase()+re.slice(1)},re))})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"repeatFrequency"}),S.jsx("select",{id:"repeatFrequency",value:R,onChange:re=>O(re.target.value),required:!0,disabled:ge,children:_t.map(re=>S.jsx("option",{value:re.value,children:re.label},re.value))})]}),S.jsx("button",{type:"submit",disabled:ge,children:ge?"Creating Task...":"Create Task"})]}),ee&&S.jsx("p",{style:{color:"red"},children:ee}),Ue&&S.jsx("p",{style:{color:"green"},children:Ue})]}):S.jsx("div",{children:"You must be logged in to create tasks. Please log in."})}function $v(){const[s,e]=w.useState(0),[i,a]=w.useState(null);return w.useEffect(()=>{const o=vt.onAuthStateChanged(u=>{if(u){const h=je(He,`childrenProfiles/${u.uid}/parentUid`);Cs(h).then(p=>{p.exists()?a("barn"):a("forælder")});const d=je(He,`childrenProfiles/${u.uid}/points`),m=Ns(d,p=>{const _=p.val()||0;e(_)});return()=>Qu(d,"value",m)}else e(0)});return()=>o()},[]),S.jsx("div",{className:"point-tæller",children:i==="barn"?S.jsxs("p",{children:[s," ⭐"]}):S.jsx(zi,{to:"/"})})}function kI(){const s=Tn();return S.jsx("button",{className:"tilbage-knap",onClick:()=>s(-1),children:"➜"})}function LI(){const s=ii();return s.pathname==="/login"?null:s.pathname==="/"?S.jsxs("nav",{className:"top-nav",children:[S.jsx(zi,{to:"/login",children:S.jsx("img",{src:"../img/logout.png",alt:"logout",className:"logout-icon"})}),S.jsx($v,{}),S.jsx(zi,{to:"/create",children:"Create"})]}):S.jsxs("nav",{className:"top-nav",children:[S.jsx(kI,{}),S.jsx($v,{}),S.jsx(zi,{to:"/create",children:"Create"})]})}function UI(){const{id:s}=rE(),[e,i]=w.useState({});w.useEffect(()=>{const u=localStorage.getItem("users"),d=(JSON.parse(u)||[]).find(m=>String(m.id)===s);i(d)},[s]);const a=Tn();function o(){a(`/users/${s}/update`)}return S.jsx("main",{id:"user-page",className:"page",children:S.jsxs("section",{className:"container",children:[S.jsx("h1",{children:e.name}),S.jsx(pE,{user:e}),S.jsxs("div",{children:[S.jsx("button",{className:"btn-cancel",children:"Delete user"}),S.jsx("button",{onClick:o,children:"Update user"})]})]})})}function zI(){const{id:s}=rE(),e=Tn(),[i,a]=w.useState(""),[o,u]=w.useState(""),[h,d]=w.useState(""),[m,p]=w.useState("");w.useEffect(()=>{const v=localStorage.getItem("users"),O=(JSON.parse(v)||[]).find(P=>P.id===s);a(O.name),u(O.title),d(O.mail),p(O.image)},[s]);function _(){e(-1)}function E(v){v.preventDefault();const R={name:i,title:o,mail:h,image:m},O=localStorage.getItem("users"),j=(JSON.parse(O)||[]).map(H=>H.id===s?{...H,...R}:H);localStorage.setItem("users",JSON.stringify(j)),e(`/users/${s}`)}return S.jsx("section",{className:"page",children:S.jsxs("article",{className:"container",children:[S.jsx("h1",{children:"Update"}),S.jsxs("form",{onSubmit:E,children:[S.jsx("label",{htmlFor:"name",children:"Name"}),S.jsx("input",{id:"name",type:"text",value:i,placeholder:"Type a name",onChange:v=>a(v.target.value)}),S.jsx("label",{htmlFor:"title",children:"Title"}),S.jsx("input",{id:"title",type:"text",value:o,placeholder:"Type a title",onChange:v=>u(v.target.value)}),S.jsx("label",{htmlFor:"mail",children:"Mail"}),S.jsx("input",{id:"mail",type:"text",value:h,placeholder:"Type a mail",onChange:v=>d(v.target.value)}),S.jsx("label",{htmlFor:"image",children:"Image URL"}),S.jsx("input",{id:"image",type:"url",value:m,placeholder:"Paste image url",onChange:v=>p(v.target.value)}),S.jsx("label",{}),S.jsx("img",{id:"preview",className:"image-preview",src:m||"https://placehold.co/600x400?text=Paste+an+image+URL",alt:"Choose",onError:v=>v.target.src="https://placehold.co/600x400?text=Error+loading+image"}),S.jsxs("section",{className:"btns",children:[S.jsx("button",{type:"button",className:"btn-cancel",onClick:_,children:"Cancel"}),S.jsx("button",{children:"Save"})]})]})]})})}function PI(){const[s,e]=w.useState(""),[i,a]=w.useState(""),[o,u]=w.useState(""),h=Tn(),d=async m=>{m.preventDefault(),u("");try{await IO(vt,s,i),console.log("Logged in successfully!"),h("/")}catch(p){u(p.message),console.error("Login error:",p.message)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"Login"}),S.jsxs("form",{className:"login-form",onSubmit:d,children:[S.jsx("input",{type:"email",placeholder:"Email",value:s,onChange:m=>e(m.target.value),required:!0}),S.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:m=>a(m.target.value),required:!0}),S.jsx("button",{type:"submit",children:"Login"})]}),o&&S.jsx("p",{style:{color:"red"},children:o}),S.jsxs("p",{children:["Don't have an account? ",S.jsx("a",{href:"/signup",children:"Sign Up"})]}),S.jsx("p",{children:S.jsx("a",{onClick:()=>h("/forgotpassword"),style:{cursor:"pointer",textDecoration:"underline"},children:"Forgot password?"})})]})}function jI(){const[s,e]=w.useState(""),[i,a]=w.useState(""),[o,u]=w.useState(""),[h,d]=w.useState(""),[m,p]=w.useState(!1),_=Tn(),E=async v=>{if(v.preventDefault(),d(""),p(!0),i!==o){d("Passwords don't match."),p(!1);return}if(i.length<6){d("Password must be at least 6 characters long."),p(!1);return}try{const O=(await DO(vt,s,i)).user;if(console.log("Signed up successfully! User:",O.uid),O){const P=je(He,`users/${O.uid}`);await Yu(P,{email:O.email,displayName:"New Parent User",children:{}}),console.log("User profile created in Realtime Database.")}_("/")}catch(R){if(R.code==="auth/email-already-in-use"){d("This email is already in use. Please try logging in instead, or use a different email.");try{const O=await kO(vt,s);O.length>0&&d(P=>`${P} It looks like you previously signed up with: ${O.join(", ")}. Please log in using one of these methods.`)}catch(O){console.error("Error fetching sign-in methods:",O)}}else R.code==="auth/weak-password"?d("Password is too weak. Please choose a stronger password (min 6 characters)."):R.code==="auth/invalid-email"?d("The email address is not valid."):d(R.message);console.error("Sign up error:",R.message)}finally{p(!1)}};return S.jsxs("div",{style:{maxWidth:"400px",margin:"50px auto",padding:"20px",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[S.jsx("h2",{children:"Sign Up"}),S.jsxs("form",{onSubmit:E,style:{display:"flex",flexDirection:"column",gap:"15px"},children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",children:"Email:"}),S.jsx("input",{type:"email",id:"email",placeholder:"Email",value:s,onChange:v=>e(v.target.value),required:!0,disabled:m,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px"}})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"password",children:"Password:"}),S.jsx("input",{type:"password",id:"password",placeholder:"Password",value:i,onChange:v=>a(v.target.value),required:!0,disabled:m,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px"}})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),S.jsx("input",{type:"password",id:"confirmPassword",placeholder:"Confirm Password",value:o,onChange:v=>u(v.target.value),required:!0,disabled:m,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px"}})]}),S.jsx("button",{type:"submit",disabled:m,style:{padding:"10px 15px",backgroundColor:m?"#cccccc":"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:m?"not-allowed":"pointer",fontSize:"16px"},children:m?"Signing Up...":"Sign Up"})]}),h&&S.jsx("p",{style:{color:"red",marginTop:"15px"},children:h}),S.jsxs("p",{style:{marginTop:"20px",textAlign:"center"},children:["Already have an account?"," ",S.jsx("a",{onClick:()=>_("/login"),style:{cursor:"pointer",textDecoration:"underline",color:"#007bff"},children:"Log In"})]})]})}function HI(){const[s,e]=w.useState(""),[i,a]=w.useState(""),[o,u]=w.useState(""),h=Tn(),d=async m=>{if(m.preventDefault(),a(""),u(""),!s){u("Please enter your email address.");return}try{await OO(vt,s),a("Password reset email sent! Please check your inbox."),setTimeout(()=>{h("/login")},3e3)}catch(p){u(p.message),console.error("Password reset error:",p.message)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"Forgot Your Password?"}),S.jsx("p",{children:"Enter your email address below and we'll send you a link to reset your password."}),S.jsxs("form",{className:"login-form",onSubmit:d,children:[S.jsx("input",{type:"email",placeholder:"Email",value:s,onChange:m=>e(m.target.value),required:!0}),S.jsx("button",{type:"submit",children:"Send Reset Email"})]}),i&&S.jsx("p",{style:{color:"green"},children:i}),o&&S.jsx("p",{style:{color:"red"},children:o}),S.jsx("p",{children:S.jsx("a",{onClick:()=>h("/login"),style:{cursor:"pointer",textDecoration:"underline"},children:"Back to Login"})})]})}function BI(){const[s,e]=w.useState(""),[i,a]=w.useState(""),[o,u]=w.useState(""),[h,d]=w.useState(!1),[m,p]=w.useState(""),[_,E]=w.useState(""),{currentUser:v,loading:R}=Sp(),O=v?.uid,P=_I(vI,"addChildAccount"),j=async H=>{if(H.preventDefault(),d(!0),p(""),E(""),!v||!O){p("Parent user not identified or authentication still processing. Please ensure you are logged in."),d(!1);return}try{const B=await P({childEmail:s,childPassword:i,childDisplayName:o,parentUid:O});B.data&&B.data.success?(E(`Child "${o}" added successfully!`),e(""),a(""),u("")):p(B.data?.message||"Failed to add child (Cloud Function reported error).")}catch(B){B.code&&B.message?p(`Failed to add child: ${B.message}`):p(`Failed to add child: ${B.message||"An unknown error occurred."}`)}finally{d(!1)}};return R?S.jsx("div",{children:"Loading user information..."}):v?S.jsxs("div",{className:"input-container",children:[S.jsx("h2",{children:"Tilføj børne konto"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Logget på med"})," ",S.jsx("br",{}),v?.email]}),S.jsxs("form",{onSubmit:j,children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"childDisplayName"}),S.jsx("input",{type:"text",id:"childDisplayName",value:o,onChange:H=>u(H.target.value),required:!0,placeholder:"Barnets Navn"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"childEmail"}),S.jsx("input",{type:"email",id:"childEmail",value:s,onChange:H=>e(H.target.value),required:!0,placeholder:"Barnets Email"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"childPassword"}),S.jsx("input",{type:"password",id:"childPassword",value:i,onChange:H=>a(H.target.value),required:!0,placeholder:"Barnets kodeord"})]}),S.jsx("button",{type:"submit",disabled:h,className:"add-child-submit",children:h?"Adding Child...":"Add Child"})]}),m&&S.jsx("p",{style:{color:"red"},children:m}),_&&S.jsx("p",{style:{color:"green"},children:_})]}):S.jsx("div",{children:"You must be logged in to add a child. Please log in."})}function pr({children:s}){const{currentUser:e,loading:i}=Sp();return i?S.jsx("div",{children:"Loading authentication..."}):e?s:S.jsx(WT,{to:"/login",replace:!0})}function qI(){return S.jsxs("nav",{className:"bottom-nav",children:[S.jsx(zi,{to:"/",children:"Home"}),S.jsx(zi,{to:"/add-child",children:"Placeholder"}),S.jsx(zi,{to:"/create",children:"Placeholder"})]})}function VI(){return S.jsx("div",{children:S.jsx(NI,{})})}function GI(){return S.jsx(II,{children:S.jsxs(S1,{basename:"/PlusPoint",className:"app",children:[S.jsx(LI,{}),S.jsxs(ZT,{children:[S.jsx(En,{path:"/login",element:S.jsx(PI,{})}),S.jsx(En,{path:"/signup",element:S.jsx(jI,{})}),S.jsx(En,{path:"/forgotpassword",element:S.jsx(HI,{})}),S.jsx(En,{path:"/",element:S.jsx(pr,{children:S.jsx(DI,{})})}),S.jsx(En,{path:"/addchild",element:S.jsx(pr,{children:S.jsx(BI,{})})}),S.jsx(En,{path:"/create",element:S.jsx(pr,{children:S.jsx(MI,{})})}),S.jsx(En,{path:"/users/:id",element:S.jsx(pr,{children:S.jsx(UI,{})})}),S.jsx(En,{path:"/users/:id/update",element:S.jsx(pr,{children:S.jsx(zI,{})})}),S.jsx(En,{path:"/shop",element:S.jsx(pr,{children:S.jsx(VI,{})})})]}),S.jsx(qI,{})]})})}lT.createRoot(document.getElementById("root")).render(S.jsx(w.StrictMode,{children:S.jsx(GI,{})}));
